Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Description,Environment,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Outward issue link (Cloners),Outward issue link (Container),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Problem/Incident),Outward issue link (Reference),Outward issue link (Reference),Outward issue link (Reference),Outward issue link (Regression),Outward issue link (Required),Outward issue link (Required),Outward issue link (dependent),Outward issue link (dependent),Attachment,Attachment,Attachment,Attachment,Custom field (Affects version (Component)),Custom field (Attachment count),Custom field (Blog - New Blog Administrators),Custom field (Blog - New Blog PMC),Custom field (Blog - Write access),Custom field (Blog Administrator?),Custom field (Blogs - Admin for blog),Custom field (Blogs - Email Address),Custom field (Blogs - Existing Blog Access Level),Custom field (Blogs - Existing Blog Name),Custom field (Blogs - New Blog Write Access),Custom field (Blogs - Username),Custom field (Bug Category),Custom field (Bugzilla - Email Notification Address),Custom field (Bugzilla - List of usernames),Custom field (Bugzilla - PMC Name),Custom field (Bugzilla - Project Name),Custom field (Bugzilla Id),Custom field (Bugzilla Id),Custom field (Change Category),Custom field (Complexity),Custom field (Date of First Response),Custom field (Discovered By),Custom field (Docs Text),Custom field (Enable Automatic Patch Review),Custom field (Epic Colour),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Estimated Complexity),Custom field (Estimated Complexity),Custom field (Evidence Of Open Source Adoption),Custom field (Evidence Of Registration),Custom field (Evidence Of Use On World Wide Web),Custom field (Existing GitBox Approval),Custom field (External issue ID),Custom field (External issue URL),Custom field (Fix version (Component)),Custom field (Flags),Custom field (Git Notification Mailing List),Custom field (Git Repository Import Path),Custom field (Git Repository Name),Custom field (Git Repository Type),Custom field (GitHub Options),Custom field (Github Integration),Custom field (Github Integrations - Other),Custom field (Global Rank),Custom field (INFRA - Subversion Repository Path),Custom field (Initial Confluence Contributors),Custom field (Last public comment date),Custom field (Level of effort),Custom field (Machine Readable Info),Custom field (New-TLP-TLPName),Custom field (Patch Info),Custom field (Priority),Custom field (Project),Custom field (Protected Branch),Custom field (Rank),Custom field (Rank (Obsolete)),Custom field (Review Date),Custom field (Reviewer),Custom field (Severity),Custom field (Severity),Custom field (Skill Level),Custom field (Source Control Link),Custom field (Space Description),Custom field (Space Key),Custom field (Space Name),Custom field (Tags),Custom field (Test and Documentation Plan),Custom field (Testcase included),Custom field (Tester),Custom field (Workaround),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
Components / endpoints should advertise the data types they support ,CAMEL-330,12487521,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,hadrian,hadrian,2008/2/12 14:51,2017/4/10 14:11,2021/3/6 6:31,,1.2.0,,,,,Future,,camel-core,,,,,,,0,,,,,,"In the current version a conversion is attempted on a best effort basis.

An endpoint does not have knowledge about the data types supported by the previous or next endpoint in the route.  If an endpoint would publish what data types it supports, static analysis would be possible to determine if messages could be processed successfully or additional type converters are necessary.  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,10:42.8,,,FALSE,,,,,,,,,,,,,,,,,,,,,,49721,,,Tue Oct 19 12:10:42 UTC 2010,,,,,,,,0|i01bkf:,5643,,,,,,,,,,,,,,,"19/Oct/10 12:10;bruno.borges;In Apache Wicket there was a time where people thought adding Generics support would be great. In the end it became a nightmare. 

This feature should add the possibility to static type data while keeping the current behaviour of best effort on convertions.

Two possibilities: annotations and generics.

IMO, annotations would be better, even though it wouldn't avoid dynamic types. But at least would better document endpoints/components, and also help runtime checks that could perform better than best effort convertions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add support for setting onException, interceptors etc in routeContext (reusable onexceptions)",CAMEL-3870,12504359,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,kdeschut,kdeschut,2011/4/15 9:53,2019/11/21 19:54,2021/3/6 6:31,,,,,,,3.x,,camel-core,camel-spring,,,,,,11,,,,,,"Cfr. http://camel.465427.n5.nabble.com/reusable-onexceptions-td4304909.html

I can reuse route definitions by putting them in a <routeContext> and then referring to them. I would like to do the same with <onException> definitions.

The context I'm working in is one where we define routes by composing reusable route definitions. This works well, but I find that we have to duplicate the more general <onException> handlers. I was hoping that I could reuse their definitions as well. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:54.2,,,FALSE,,,,,,,,,,,,,,,,,,,,,,105207,,,Mon Oct 28 15:00:50 UTC 2019,,,,,,,,0|i01xen:,9181,,,,,,,,,,,,,,,"30/May/13 05:55;davsclaus;See also
http://stackoverflow.com/questions/16735282/is-it-possible-to-use-both-routecontextref-and-dataformats-elements-in-a-camelco

We should also add support for <dataFormats> etc","28/Oct/19 15:00;davsclaus;This is tied to camel-spring for XML which is a bit heavy. So if/when we look into this, then lets see if we can get a model of this that is not tied to spring xml so it can be loaded via camel-main as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-bindy - Add more flexibility to DataField,CAMEL-4108,12510482,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,nielspeter,nielspeter,2011/6/15 18:39,2016/10/29 12:22,2021/3/6 6:31,,,,,,,Future,,camel-bindy,,,,,,,0,,,,,,"1) Add a ""toEnd"" to the DateField:

CSV file:
{code}
w,RegionH,1234,4567,5565
w,KIT,233,233
d,Rigshospitalet
{code}

The model:

{code}
@CsvRecord(separator = "","")
public class Org {

   @DataField(pos = 1)
   private String type;
	
   @DataField(pos = 2)
   private String name;

   @DataField(pos = 3, toEnd = true)
   private List<Integer> ids;

}
{code}

The ""ids"" list will then contain the result for pos 3 to the end of the line. 



2) Add a ""endPos"" to the DateField:

CSV file:

{code}
w,RegionH,1234,4567,5565,m
w,KIT,233,233,4545,m
d,Rigshospitalet,343434,3434,3434,r
{code}

The model:

{code}
@CsvRecord(separator = "","")
public class Org {

   @DataField(pos = 1)
   private String type;

   @DataField(pos = 2)
   private String name;

   @DataField(pos = 3, endPos = 5)
    private List<Integer> ids;

   @DataField(pos = 6)
   private String action;

}
{code}

The ""ids"" list will then contain the result for pos 3 to 5. 


I have a prototype for the unmarshalling.

/Niels Peter Strandberg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,35:36.2,,,FALSE,,,,,,,,,,,,,,,,,,,,,,71070,,,Sun Sep 11 06:53:14 UTC 2016,,,,,,,,0|i01yw7:,9422,,,,,,,,,,,,,,,"16/Jun/11 05:35;davsclaus;Ah its like a range you ask for
@DataField(pos = 3, endPos = 5)
or
@DataField(pos = 3, endPos = -1)
(where -1 means unlimited/toEnd)","16/Jun/11 09:49;nielspeter;Ok, so you suggest that I replace toEnd=true with endPos=-1. Then endPos=0 is the default value when endPos should be ignored.

Is this feature something that would be useful for bindy?",17/Jun/11 08:44;davsclaus;Yeah we love contributions,11/Jul/15 22:04;davsclaus;This would only apply for fields that are a list type so multiple values can be stored.,"01/Sep/16 15:10;lb;The issue is that the generic type is erased at runtime so it may not be possible to reliable get the type, maybe we should also add a type to the DataField (which could *maybe* also be useful if you want to define a field as Number and specify the type with the annotation)., or requiring to have a BindyConverter annotation

[~davsclaus] make sense ?","02/Sep/16 10:08;lb;Another issue is how to handle the header generation, should the same column name be applied ? i.e

{code}
type,name,id,id,id,action
w,RegionH,1234,4567,5565,m
{code}","03/Sep/16 10:09;davsclaus;Yeah I think the id should be repeated in the header, so there is a 1:1 mapping for each column.",03/Sep/16 10:10;davsclaus;Yeah we would need to specify it on the annotation so the type information is not lost.,"05/Sep/16 13:04;lb;I did a little bit more investigation and this support to List fields may clash with OneToMany so it may be better to deprecate OneToMany and have a generic support for Lists (maybe in 3.0, along with bindy2 maybe)


","11/Sep/16 06:53;davsclaus;Ah okay, yeah we can wait for Camel 3.0",,,,,,,,,,,,,,,,,,,,,,,,
jdbc aggregation repository - recovery taks and cluster issue,CAMEL-4271,12515405,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2011/7/26 14:36,2017/3/3 13:33,2021/3/6 6:31,,2.8.0,,,,,Future,,camel-core,camel-sql,,,,,,6,,,,,,"If you enable recovery on the aggregator eip when using a persistent repository such as the jdbc, then you may have a race condition when having multiple camel apps running in a cluster. As the aggregate recover task is running on each Camel app (node) in the cluster. So they may potentially all pickup recovery tasks, and execute those, which may cause duplicate messages being recovered.

What is needed is a lock table or some other way to ensure only one recover tasks ""wins"" and executes.

We may want to enhance the API in camel to facilitate this kind of locking. As with hawtdb you may have a shared file on the SAN and thus have the same racing issue.",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-8010,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,,,,,,,,,,,,,,,,,,66926,,,Fri Mar 03 13:33:28 UTC 2017,,,,,,,,0|i01zwn:,9586,,,,,,,,,,,,,,,11/Jul/15 22:00;davsclaus;This is more hard core to look into. Wonder if some of those memory data-grid are better as repos.,03/Mar/17 13:33;davsclaus;Either there should be some SQL table locking or maybe use an external clustered data-grid with cluster locks like hazelcast / etcd / zookeeper etc to let the recovery task only run on one active node.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve validator to accept several schemas,CAMEL-4361,12519550,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davidkarlsen@gmail.com,davidkarlsen@gmail.com,2011/8/21 16:50,2015/7/11 21:51,2021/3/6 6:31,,2.8.0,,,,,Future,,camel-core,,,,,,,0,,,,,,"The current implementation only allows for one given xsd schema.
I have some messages which have two namespaces. The outer schema declares some elements with lax processing.
By providing a http://static.springsource.org/spring-ws/sites/1.5/spring-xml/apidocs/org/springframework/xml/xsd/XsdSchemaCollection.html which references both schemas I would be able to validate the whole message - and not just the outermost one.

Either the existing implementation will have to be altered to allow for several paths, or it can be extended to reference a schemacollection.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:22.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,64184,,,Sat Jul 11 21:51:26 UTC 2015,,,,,,,,0|i020gn:,9676,,,,,,,,,,,,,,,"21/Aug/11 20:33;muellerc;David, do you plan to provide a patch for it? We love contributions... ;-)

Starting from Camel 2.9.0, the validator component does no longer depend on Spring...","21/Aug/11 21:40;davidkarlsen@gmail.com;Hm, I see ./src/test/resources/org/apache/camel/component/validator/camelContext.xml in camel-spring on trunk which is 2.9?
However I do not find the implementation of the component.

Where is the new validator component?","22/Aug/11 06:45;davsclaus;Its moved to camel-core as it no longer depend on Spring JARs, from Camel 2.9 onwards.

There are still some unit tests in camel-spring to ensure it also works when configuring in Spring XML DSLs.","22/Aug/11 14:33;davidkarlsen@gmail.com;So if ""my"" component will depend on: http://static.springsource.org/spring-ws/sites/1.5/spring-xml/apidocs/org/springframework/xml/xsd/commons/CommonsXsdSchema.html and org.apache.ws.commons.schema.XmlSchemaCollection then i guess I should stick it into camel-spring?",22/Aug/11 15:23;davsclaus;No the component should not be depend on Spring or any other 3rd party JARs. It should use the API from the JDK.,06/Jul/12 08:54;davsclaus;Any update on this?,"11/Jul/15 21:51;davsclaus;Ah yeah lets try to see if we can add support for 1 or more xsd schemas in the validator. We could just allow to define multiple separated by comma, and then figure out how to use those with the java validation api. Since spring can do it, we should be able to do as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,
Consumer Endpoint for AWS SNS Service,CAMEL-4400,12520923,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,megachucky,megachucky,2011/8/31 13:48,2020/4/29 7:42,2021/3/6 6:31,,,,,,,Future,,camel-aws,,,,,,,2,,,,,,"Contrary to S3 and SQS, Camel only offers a producer endpoint for this AWS service. You can only create topics and send messages via Camel. The reason is simple: Camel already offers endpoints for consuming these messages: HTTP, Email and SQS are already available.

But there is a huge tradeoff: A consumer cannot subscribe to topics using Camel. The AWS Management Console has to be used.

The original contribution of camel-sns contained a consumer for easily configuring and consuming the data from the topic. This was not included in the release.

The SNS consumer should be added, because otherwise Camel is missing a core feature of the AWS SNS service.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,37:13.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,63032,,,Mon Jul 13 14:05:17 UTC 2015,,,,,,,,0|i020pb:,9715,,,,,,,,,,,,,,,25/Oct/11 11:37;davsclaus;A patch must be attached to this JIRA and granted [x] in license to Apache before we can accept it,"18/Nov/11 23:15;muellerc;Kai, any news here?","23/Mar/12 17:08;dacc;So the approach would be to automatically create an SQS queue, subscribe it to the SNS topic, and then consume that?","23/Mar/12 17:27;massfords;The original code for this contribution is still available at: http://code.google.com/p/camel-sns/. If I recall correctly, I allowed dynamic creation of the topic and queue via the consumer endpoint and supported the different combinations. 

The remaining work is for someone to resubmit the patch which is likely still attached to the original JIRA issue which is unfortunately not linked to this one. Another option would be to write new code to support a consumer or perhaps recreate it from what's hosted on google code. ","11/Jul/15 21:46;davsclaus;[~massfords] are you willing to contribute your work? Sorry for not getting back sooner, but walking through old tickets now.
You could potentially just .zip all the source from that project and attach to this JIRA - then we have permission to use your work.","12/Jul/15 01:08;massfords;[~davsclaus] - See the original issue for the code for this feature: CAMEL-3476. It's been 4 years since the code was contributed. There is some discussion in the JIRA comments about why the code was never merged but as I recall, a lot of the discussion took place among the committers offline. These discussions are referenced in the committer's comments but no substance is provided. 

There have since been a couple of requests for this feature since then but I don't think it's worth pursuing unless there's a committer willing to merge the work. ","12/Jul/15 07:35;davsclaus;Thanks [~markford] - that is an endless discussion. 

I still think its valid to have a consumer, and can help get the code into Camel. But maybe people are not using AWS as much anymore, now that there is so many other cloud services around. So we could also just close this ticket if so.

Any thoughts?","12/Jul/15 13:07;massfords;in terms of revenue, AWS is on track to grow 49% this year and is accelerating. One could infer from the revenue that they are gaining in popularity but of course it could be a smaller number of users spending more each year, I really don't know.

irrespective of whether AWS is popular, I think there have only been a few requests for this in 4+ years. I would leave it open as a feature request and encourage someone from the community to do the work. Maybe I'll have some time this summer if nobody gets to it. I've been away from SNS for a long time but I'm active in other AWS and Camel services.  ","13/Jul/15 14:05;ceposta;+1 leave it open. this does seem like a useful component/config, and it'd be great if [~markford] or someone could contribute time to review and test the existing code or write a new one, and then we can pull it in. ",,,,,,,,,,,,,,,,,,,,,,,,,
register exception listener with camel-jms producer endpoint,CAMEL-4616,12530244,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,tmielke,tmielke,2011/11/4 9:48,2015/6/11 6:52,2021/3/6 6:31,,2.8.2,,,,,Future,,camel-jms,,,,,,,10,transactions,,,,,"camel-jms should register an exception listener automatically when used as a message producer. That way it can deal with any exception that may occur on async sends.

To be more precise:
If a camel-jms producer sends a msg within a transaction to an ActiveMQ broker, then this message send happens async by default (kind of an optimization done by ActiveMQ). If anything goes wrong with the send (e.g. broker raises a javax.jms.ResourceAllocationException because its full or there is a transport problem) then we currently don't catch this exception as there is no async exception listener registered. What's worse the TX will be committed thereafter although the send has actually failed.
As a result the msg is lost. 

For ActiveMQ there is a simple solution to this problem, either
- set jms.useAsyncSend=false on the broker URL, or
- call setAlwaysSyncSend(true) on the ActiveMQConnectionFactory


However many users won't be aware of this solution and will simply assume that using a transaction is enough to guard against message loss. 
Also the same problem can potentially arise with other JMS providers if they also use async send within a transaction. 

Camel should ensure that the out of the box behavior prevents from loosing msgs in transactional sends.

",camel-jms producer sending to ActiveMQ ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,30:24.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,216026,,,Thu Jun 11 06:52:57 UTC 2015,,,,,,,,0|i0221j:,9932,,,,,,,,,,,,,,,"29/Jun/12 08:30;thxmasj;This issue is more serious than the summary indicates -- ""ActiveMQ producer silently loses messages in transactions"" better reflects the problem.
Would like to see a fix for this soon -- using synchronous sending of messages with large batches would have a rather serious impact on performance I'm guessing.",06/Feb/13 16:51;cgshiva;We are affected too.. We need a fix ASAP.. Please help,06/Feb/13 22:28;tetoconsusport;Shouldn't this be consider a bug and not an improvement?,08/Apr/13 18:58;praveenbillampati;We use JMS provider. We too need this to be fixed.,21/Feb/14 20:57;rkettelerij;Note one can specify a custom javax.jms.ExceptionListener on the camel-jms component using the exceptionlistener=#myexceptionlistener option. There's just no default. I do think there should be one by default. Preferably an ExceptionListener capable of doing transaction rollbacks in case async sends are enabled as Torsten indicated. ,"23/Feb/14 10:08;davsclaus;The ExceptionListener API AFAIR do not offer access to the jms session to allow to mark tx for rollback etc.

We would need some way of hooking this in the listener from the producer, and some way of knowing if the send is complete, so we know at TX commit/rollback time, we know if there was an exception or not.",11/Jun/15 06:52;acosentino;News on this? We are experiencing the same problem.,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add jackson as data format to allow people to easily configure jackson for json,CAMEL-4992,12541769,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2012/2/8 9:07,2019/11/21 19:54,2021/3/6 6:31,,,,,,,3.x,,camel-core,camel-jackson,,,,,,7,,,,,,"Currently jackson for json is available as the generic <json> data format. We should @deprecated the <json> and let people use the specialized such as <xstream> or <jackson> so they chose the json engine of choice.

Then we can offer jackson specific options to be configured, like we have for xstream.

See nabble
http://camel.465427.n5.nabble.com/Custom-Jackson-ObjectMapper-tp5060579p5060579.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,227056,,,07:03.0,,,,,,,,0|i024bz:,10303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-snmp should provide a Producer for reading Data from a SNMP-Target from within a route,CAMEL-5272,12554953,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,gregor.kopij,gregor.kopij,2012/5/11 18:40,2015/7/11 14:46,2021/3/6 6:31,,,,,,,Future,,camel-snmp,,,,,,,0,,,,,,As for today camel-snmp has only a consumer which polls a snap-target for data. It also should be possible to read data from a snmp-target as part of a route (enricher).,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,239206,,,40:00.0,,,,,,,,0|i0262f:,10584,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-ldap should provide a consumer for persitent-searches on a LDAP-Server ,CAMEL-5273,12554954,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,gregor.kopij,gregor.kopij,2012/5/11 18:45,2015/7/11 14:45,2021/3/6 6:31,,,,,,,Future,,camel-ldap,,,,,,,0,,,,,,"If a ldap-server supports persistent-searches, then a component can use this feature for catching updates on objects in a ldap-tree. One use-case is for example to enrich data in a database with the data from a ldap-object, when changes occur. Such integration scenario should also be possible with camel.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,42:31.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,239207,,,Sat Jul 11 14:45:17 UTC 2015,,,,,,,,0|i0262n:,10585,,,,,,,,,,,,,,,12/May/12 06:42;davsclaus;Yeah this would be nice. Gregor do you work on a patch?,"12/May/12 07:31;gregor.kopij;Yes, I will provide a patch for 2.10. next week. 
",06/Jul/12 12:17;davsclaus;Any update on the patch?,11/Jul/15 14:45;davsclaus;I assume you never got around working on this?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[camel-maven-plugin] Support process forking in camel:run goal,CAMEL-5323,12558968,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,mektoub,mektoub,2012/6/1 15:59,2012/7/6 12:23,2021/3/6 6:31,,2.9.2,,,,,Future,,tooling,,,,,,,1,maven,,,,,"It would be nice to have the ability to fork away after a camel context has started. This is extremely useful for people that run integration tests during a maven build. They could fork an embedded camelContext (for example along with activemq:run), start their integrations tests (with soap ui), then later shut down the embedded instance.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,23:36.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,241196,,,Fri Jul 06 12:23:36 UTC 2012,,,,,,,,0|i026dr:,10635,,,,,,,,,,,,,,,06/Jul/12 12:23;davsclaus;Patches is welcome.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make file based split / aggregate strategies more generic,CAMEL-5427,12597778,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,gnodet,gnodet,2012/7/6 14:37,2015/7/11 14:10,2021/3/6 6:31,,,,,,,Future,,camel-core,camel-ftp,camel-hdfs,,,,,0,,,,,,"The camel-hdfs component has some nice strategies for aggregating data into files directly on the file system (avoiding to keep data in memory).  Such strategies could be rewritten to be more generic and reusable, allowing them to be used in file based components (file, ftp and others).
This would also allow the camel-hdfs to handle simple file transfers (such as those supported by file and ftp), which is not really the case atm.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,241300,,,37:38.0,,,,,,,,0|i0270v:,10739,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Graceful cancel running tasks in mutlicast/recipient list when parallel mode and timeout enabled, and timeout was hit",CAMEL-5572,12606377,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2012/9/6 9:50,2015/7/12 7:18,2021/3/6 6:31,,2.10.0,,,,,Future,,camel-core,,,,,,,1,,,,,,"See nabble
http://camel.465427.n5.nabble.com/recipientList-with-parallelProcessing-how-to-stop-thread-s-tp5718552.html

We should look into improving how to graceful cancel/interrupt existing running tasks, when a timeout was triggered. 

Interrupting a thread may produce interrupt exceptions, and cause error handling to trigger, and also log nasty logs with stacktraces. So we have to find a gentle way to stop processing existing tasks. 

One way is to mark the exchange to stop continuing routing, so the routing engine wont advance processing. This is a gentle way.

And notice we can only do this for currently running threads, if the async routing engine kicked in, then the task can only be cancelled upon re-activation.

Likewise we may add an option to control a window period where we try to graceful stop running tasks, and if not all tasks stopped, then be more aggressively afterwards.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Advanced,,,,,,,,,,,,,,,,,241445,,,50:54.0,,,,,,,,0|i027x3:,10884,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create an XML and namespace without spring in it,CAMEL-5576,12606546,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jstrachan,jstrachan,2012/9/7 8:41,2019/10/28 14:37,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"the underlying JAXB model of Camel has nothing to do with spring and can be used outside of Spring (e.g. with CDI or Guice or even without any DI frameworks). However traditionally we've got 'spring' in the namespace URI and we package the XSD inside the camel-spring.jar.

maybe we could include the camel-core.xsd in the same jar as the model classes using a more generic name; e.g. URI = ""http://camel.apache.org/schema/core"". Then folks can load and save the XML model of Camel more easily - without requiring camel-spring.jar

When using Camel inside spring we still need the namespace http://camel.apache.org/schema/spring to be supported; but maybe we can do that in the way the blueprint works; by swizzling the namespace URI in the Spring namespace hander?

Then we have a core namespace/xsd, a spring namespace/xsd and a blueprint namespace/xsd",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,241449,,,41:03.0,,,,,,,,0|i027xz:,10888,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Route with autoStartup=false should not pre start services,CAMEL-5695,12610941,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2012/10/9 7:36,2019/11/4 5:31,2021/3/6 6:31,,2.10.0,,,,,3.x,,camel-core,,,,,,,0,,,,,,"See nabble
http://camel.465427.n5.nabble.com/autoStartup-and-Endpoints-tp5718204.html

We should consider when people specify autoStartup=false for routes, to not pre-warm/start the route services (eg we do this to validate etc.) and also to ensure we can enlist the route itself in JMX so you can start the route from JMX etc.

We would need to figure out to do this in a way so we wont invoke start on the route services prior. But still enlist the route in JMX etc, and do some sanity validation of the route.

There is some services that may do remote connection on start, which end users would like to defer to be executed until the route is manually started.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,245925,,,Sun Jul 28 08:28:21 UTC 2019,,,,,,,,0|i07e5z:,41061,,,,,,,,,,,,,,,"28/Jul/19 08:28;davsclaus;There is lazyStartProducer you can set, and there is the route controller to startup routes in a more controlled way",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-blueprint - Add TransactionErrorHandler,CAMEL-5728,12612933,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2012/10/22 9:57,2019/8/5 8:04,2021/3/6 6:31,,,,,,,Future,,camel-blueprint,,,,,,,1,,,,,,"We should add a TransactionErrorHandler to camel-blueprint, that uses the TX API without Spring. There ought to be some TX manager from Aries we can leverage for that.
",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-6108,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,250279,,,Tue Feb 28 13:55:55 UTC 2017,,,,,,,,0|i0awrr:,61582,,,,,,,,,,,,,,,"28/Feb/17 13:55;davsclaus;There is a CDI JEE module on the way
https://github.com/apache/camel/pull/1390

That would require some way of making camel-blueprint use that JEE JTA api",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cxf - Allow to define which operationNames a given consumer services,CAMEL-5884,12624249,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,njiang,davsclaus,davsclaus,2012/12/17 9:55,2015/3/26 13:11,2021/3/6 6:31,,,,,,,Future,,camel-cxf,,,,,,,1,,,,,,"Currently when using a cxf consumer in a route, then all the operations is serviced by this route.

This may confuse some people. As well some may want one route per operation.
We should look into how we can support this.

Today people would need to use the recipient list and direct endpoints to suport this. But many people dont know about this. See this example: http://camel.apache.org/cxf-tomcat-example.html

I guess this is not so easy, as you would then have mutliple routes with the same CXF ""webservice"". But we would like to have this level of indirection.

And then I guess if a operation name is not bound to any route, then a soap fault should be thrown. Or we should allow to let Camel fail on startup saying that operation XXX is not bound to any consumer/route. Or something like that. Or allow people to turn this on|off.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,39:29.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,299019,,,Wed Mar 25 23:39:29 UTC 2015,,,,,,,,0|i15y0v:,242812,,,,,,,,,,,,,,,"25/Mar/15 23:39;fmasood;We actually have this problem in of the projects I was doing. In the end, I created a gateway route, which then on the basis of operation names further route to other routes. I made everything configurable so that names of other routes and transport also become customisable. One thing though, I had to write an intercetptor to fetch the soap operation name. This all thing can be done in the cxc component and i am happy to take this lira.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-websocket - Add support for sending to ws error channel,CAMEL-5894,12624463,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tcharl,tcharl,2012/12/18 13:24,2015/7/11 13:15,2021/3/6 6:31,,,,,,,Future,,camel-websocket,,,,,,,0,,,,,,"It would be nice to have the ability to route to websocket error channel.

Regards",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,15:09.3,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,300012,,,Sat Jul 11 13:15:09 UTC 2015,,,,,,,,0|i165af:,243989,,,,,,,,,,,,,,,"11/Jul/15 13:15;davsclaus;Yeah although you can use Camel's error handler and route to a ws channel of choice that you use as error-channel. Not sure if there is some standard for configured WS to have a specific error channel.

Contributions is welcome to look into this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-quartz - Route policy in clustered mode should issue stop action on running nodes,CAMEL-5927,12626067,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2013/1/4 17:03,2013/8/7 14:52,2021/3/6 6:31,,,,,,,Future,,camel-quartz,,,,,,,0,,,,,,"See nabble
http://camel.465427.n5.nabble.com/Clustered-CronScheduledRoutePolicy-how-to-tp5723377.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,12:13.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,302650,,,Thu Jul 25 19:12:13 UTC 2013,,,,,,,,0|i174in:,249700,,,,,,,,,,,,,,,"25/Jul/13 19:12;saltnlight5;Currently Quartz won't let you configure a job to be executed on a specific node in a cluster. So there is no way you can coordinate a Camel route STOP action job to be executed on the START node. There is a request in Quartz Project for this type of feature here: http://jira.terracotta.org/jira/browse/QTZ-258. But until then you will have to roll something of your own.

One solution I can think of is write your own STOP condition route policy apart from Quartz. You can still use Quartz to start it, but once start, you just need a way to detect to stop. For example, if you just need to run for 2 hours, then capture the startup time, then start a countdown etc.

Zemian",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add option to scheduled poll consumer to stop batch in case of error,CAMEL-5941,12626551,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2013/1/8 13:59,2013/1/8 13:59,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"See
http://camel.465427.n5.nabble.com/how-to-break-out-of-a-batch-tp5723425.html

We could add a new option {{breakOnError=true|false}}, which is {{false}} by default, to be like now.

This would allow to break out of a batch in case of an error.

Mind that some EIPs such as the aggregator with the completeFromBatchConsumer option would be affected if we break out. Then the ppl would need to have a timeout completion on the aggregator as well, to trigger the completion as the batch was breaked.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,303158,,,59:56.0,,,,,,,,0|i178cn:,250321,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-smpp: Support TRX connection mode to the SMSC,CAMEL-5963,12627336,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,muellerc,muellerc,muellerc,2013/1/13 12:47,2018/6/13 7:30,2021/3/6 6:31,,2.10.3,,,,,Future,,camel-smpp,,,,,,,5,,,,,,See http://camel.465427.n5.nabble.com/camel-smpp-in-trx-mode-td5724608.html for details,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:12.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,304109,,,Wed Jun 13 07:30:29 UTC 2018,,,,,,,,0|i17jfb:,252116,,,,,,,,,,,,,,,"19/Jan/13 08:51;davsclaus;Is this not a new functionality, if so then I suggest to avoid backporting to risk causing regressions and side effects.","19/Jun/13 07:04;mayank.gupta;Hi Christian , 

In got stuck in using TRx with camel and its show stopper for our current project , you planned to provide fix in this summer 2013 , can you suggest date when will you release fixed version ? Please help me to get out from this problem.

Regards , 
Mayank","19/Jun/13 21:14;muellerc;I cannot give you dates. I don't know when I can spend my time to work on this issue and get this fixed (I have some more important issues on my list). Also the releases are done by the PMC/committer. It's not only my vote. But I'm confident we get this resolved in summer this year, if we find an solution where the majority agree with (this is the tricky part).

Do you use the smpp component consumer AND producer?
The enhancement for the consumer is simple in my opinion. But for the producer this isn't the case. Imagine the following route definition:
{code:java}
from(""direct:start"")
  .to(""smpp:..."");
{code}

From the camel point of view, you use a producer. But by using TRX, this producer also receives messages.
How we should deal with it? What solution do you have in mind?
Sure, we can register a ""DefaultMessageReceiverListener"" which discards all the messages, but this isn't helpful.","21/Jun/13 10:25;sash_dce@yahoo.com;The inability of the SMPP component to provide TRX support is stopping many of us to not use the component for USSD as most of the gateways in our region just support TRX( with TX sometimes). Anyhow - since this is in the camel roadmap, I am sure you guys will come out with the functionality enhancement. I would only suggest to do this sooner to increase the acceptance of the component. 

Coming back to the discussion - 
1. I think this will apply both to the consumer and the producer. This will mean  that the binding mode is a configurable item (TRX, TX and RX) defaulting to TX for producer and RX for consumer. 
2. As of now the producer and the consumer both have there own SMPPSession. This session should recide with the endpoint and created  by the createProducer/createConsumer only once in case the mode is TRX ( for other modes it will continue to work as it is ) . 
3. While using a TRX mode, the user will have to create an endpoint and then refer the same in the process ( I am not sure on this part and would need your guidance on the same). 
{noformat}
<camelContext xmlns=""http://camel.apache.org/schema/spring"">
  <endpoint id=""trxEndPoint""  uri=""smpp://smppclient@localhost:2775?
           password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;mode=""TRX""/>
  <route>
    <from ref=""trxEndPoint""/>
    <to uri=""jms:incomingOrders""/>
  </route>
  <route>
    <from ref=""jms:incomingOrders""/>
    <to uri=""trxEndPoint""/>
  </route>
</camelContext>
{noformat}

Please guide. 

Thanks, 
Sandeep","17/Nov/13 23:49;hadrian;Camel could support such a scenario. Christian is right that is rather unusual. The Camel model does not preclude one from having consumers and producers sharing a session. There is one caveat to this, it may be possible to have some constraints on the routes, i.e. one must always have multiple routes and respond to messages in a certain way. That however would be a protocol constraint, not camel per se. The configuration of what messages go where would be done via uri configuration.

Unfortunately, I don't have access to a service/account that would allow me to properly test this, but if users are really interested in this feature, please ping here and we could do it together.",16/Apr/15 09:15;doikor;Hi I'm interested in getting the TRX functionality working with camel-smpp. I could do some testing against a simulator and if its working try out it against an actual SMSC system. Though everything I've done against both the selenium-software SMPPSim (http://www.seleniumsoftware.com/user-guide.htm) and OpenSmpp (https://github.com/OpenSmpp/opensmpp) simulators has worked in real production use.,"10/Aug/16 06:26;chathuraka.waas@gmail.com;Hi, i'm working on a project having this exact issue. My SMSC provider is only providing me a connections with TRX and i'm unable to connect. I dont have much knowladge on Apache Camel SMPP component. But i can help you guys to test a fix since i already have the SMCS details with me. Let me know if there's anything i can do to get this fix up. ","11/Aug/16 09:09;almailer;Hi,

I'm also interested in the possibility of TRX mode in camel-smpp (which is really nice btw, thanks!)

My proposed approach would be:

a new producer URI parameter ""transceiverPublishUri"" which specifies 
1) that the producer session will bind with type TRX
2) the producer will register a message listener in which a ProducerTemplate will be used to publish any received messages to the URI specified in the URI parameter.

In this case, an example transceiver route would look like:

{code}
from(""direct:in"")
  .to(""smpp://123@localhost:8065?transceiverPublishUri=direct:transceiverOut"");

from(""direct:transceiverOut"")
  .log(""Received a incoming message (e.g. a delivery receipt)"")
  .stop();
{code}

I'm only just getting started with Camel, so I don't know if this approach has drawbacks. The positives I see is that it should be a small change which is backwards compatible, and it is very clear what will be happening to the messages being returned by the transceiver session. In most cases, where users want just to be able to transmit short messages in a transceiver session, the trivial stop() route will be sufficient for their needs. If there is some long-running processing to do on receipt of a delivery receipt, it can be made asynchronous with a SEDA endpoint (again, up to the consumer of the component to choose according to their needs).

I have access to a SMSC simulator and possibly access to some real SMPP systems for testing, so could report on how that goes. I would appreciate feedback on the approach though.",27/Sep/16 06:26;skshhi;I am also facing the same problem. My SMSC provider also provides me only TRX connection.,13/Jun/18 07:30;nitin.m.gupt;Please mention the workaround in Camel (if any) as this has become a show stopper for me as well.,,,,,,,,,,,,,,,,,,,,,,,,
provide a startup extension for CDI - for folks not using JEE,CAMEL-5988,12628565,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,antonin.stefanutti,jstrachan,jstrachan,2013/1/21 15:52,2016/3/23 13:38,2021/3/6 6:31,,,,,,,Future,,camel-cdi,,,,,,,1,,,,,,"This looks a handy way to add a @Startup annotation:
https://gist.github.com/635719

wonder if something like this could be added to Camel for now until CDI 2.0 / JSR 330 v2 has something like this standardised?

Would be nice to be able to easily create eager services that startup immediately",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,14:34.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,306654,,,Wed Mar 23 13:37:59 UTC 2016,,,,,,,,0|i19y2n:,266154,,,,,,,,,,,,,,,"23/Mar/16 09:14;davsclaus;Antonie I assume we can start apps nicely with cdi today?
","23/Mar/16 13:37;antonin.stefanutti;There are a couple of events that the apps can observe to do some startup but not yet an equivalent of the {{@Startup}} annotation (It's been in discussion for years now :( ).

The Camel CDI extension already has the logic so I wonder whether we could introduce a container-agnostic Camel  annotation that the user could use. That being said, Spring rather uses the opposite logic with {{lazy-init}} defaulting to {{false}} and eagerly pre-instantiates all singleton beans at startup so that may only be applicable to CDI.

I already created https://issues.jboss.org/browse/CDI-473 a long time ago so I'll try to reiterate on it for CDI 2.0.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-ftp - Allow concurrent download of files,CAMEL-6058,12631578,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2013/2/9 10:38,2018/5/12 10:12,2021/3/6 6:31,,,,,,,Future,,camel-ftp,,,,,,,2,,,,,,"The ftp consumer is currently single threaded, and will download files in sequence.

We should add functionality to allow concurrent downloads. Its a bit hard to do as we would need a new ftp client per download. And that client needs to login, and traverse to the dir where the file is, and download the file.

And then we need to have that all work together, and report errors etc.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,12:07.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,312074,,,Sat May 12 10:12:07 UTC 2018,,,,,,,,0|i1hutb:,312420,,,,,,,,,,,,,,,"12/May/18 10:12;snurmine;Some thoughts:

GenericFileOperations could support concurrency. For example changeCurrentDirectory is not safe for concurrent usage. Most operations depend on which directory operations instance is currently. Providing absolute path as parameter could be more natural. GenericFileOperations#retrieveFile could return some kind Future for example. If GenericFileOperations can't be changed, then another interface for concurrent operations could be made. 

Polling could be parallel to downloading files. But polling should wait until there is enough capacity. This could be implemented by blocking queue. Otherwise component might queue too many files.

Another issue is ordering of files. For example if the order is alphabetical and folder has file ""a.txt"" and ""b.txt"", then exchange having file ""a.txt"" must complete before exchange having file ""b.txt"". Probably waiting on completion of ""parent"" exchange (in this case ""b.txt"" waits for ""a.txt"") before handling exchange forward after retrieve. This would allow downloading to start for multiple files parallel and actual processing be ordered.

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SJMS: inOut() in route and exchangePattern=InOut are not equivalent,CAMEL-6065,12631724,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,hwellmann,hwellmann,2013/2/11 13:41,2015/2/16 19:39,2021/3/6 6:31,,2.11.0,,,,,Future,,camel-sjms,,,,,,,0,,,,,,"When tunneling a bean invocation through a JMS queue using SJMS, inOut() is not sufficient to specify the exchange pattern. ""exchangePattern=InOut"" must be added explicitly to the endpoint URI.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Feb/13 13:45;hwellmann;CAMEL-6065.patch;https://issues.apache.org/jira/secure/attachment/12568820/CAMEL-6065.patch,,,,,1,,,,,,,,,,,,,,,,,,,,28:33.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,312220,,,Mon Feb 16 19:39:12 UTC 2015,,,,Patch Available,,,,0|i1hvpr:,312566,,,,,,,,,,,,,,,"11/Feb/13 13:50;hwellmann;The attached patch contains a passing test SyncBeanInOutIT and a failing test SyncBeanInOutWithoutExchangePatternIT.

The failing test contains a route definition

from(""direct:calculatorProxy"").inOut(""sjms:calculator-queue"");

The passing test only differs by

from(""direct:calculatorProxy"").inOut(""sjms:calculator-queue?exchangePattern=InOut"");","11/Feb/13 15:28;earcam;
Had a similar problem - the reply is sent but isn't unmarshalled correctly (class cast on BeanInvocation cannot be cast to Xyz)","11/Feb/13 19:01;sully6768;Thanks for the patch Harald.  I will take a look at it.

Best Regards,
Scott ES","16/Feb/15 19:26;davsclaus;Yeah its because camel-sjms producer is determined at route startup time if its an InOnly or InOut.

If you use camel-jms (the other one) then it determines this based on the exchange and MEP at runtime.","16/Feb/15 19:36;davsclaus;Well basically sjms is too tight coupled with the endpoints in either InOnly or InOut mode.

This would require a redesign on camel-sjms to support a more elastic mode at runtime. Pushing this for future work.",16/Feb/15 19:39;davsclaus;Thanks for the tests cases. They work out of the box with camel-jms,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-test - Add annotations to configure test class instead of using methods,CAMEL-6070,12631940,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2013/2/12 13:16,2015/2/26 15:11,2021/3/6 6:31,,,,,,,Future,,camel-test,,,,,,,1,,,,,,"For example when you do testing with advice-with, blueprint property placeholders and other kind of options, then today you can configure this by overriding and implementing a number of methods from the CamelTestSupport class.

We should offer this kind of configuration using annotations as well. This may be a nicer way of doing this in the long run.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,11:12.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,312436,,,Thu Feb 26 15:11:12 UTC 2015,,,,,,,,0|i1hx1r:,312782,,,,,,,,,,,,,,,"26/Feb/15 15:11;JKarasek;I'm going to work on this one. More info here:
http://camel.465427.n5.nabble.com/Would-like-to-work-on-CAMEL-6070-td5763192.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support XA Transactions in SJMS,CAMEL-6108,12634497,12636091,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,sully6768,geerzo,geerzo,2013/2/27 21:46,2019/8/5 9:45,2021/3/6 6:31,,,,,,,Future,,camel-sjms,,,,,,,3,,,,,,We love contributions as you know. May you find time to work on it?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,20:16.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,314990,,,Tue Mar 19 16:38:18 UTC 2013,,,,,,,,0|i1ict3:,315334,,,,,,,,,,,,,,,"01/Mar/13 16:20;sully6768;Hello,

Is this for Camel SJMS or Camel JMS?  I totally agree that SJMS must add JTA support.  Given that Camel JMS is a Spring API I would think that it should maintain support for the native Spring Transaction API.

Thoughts?

Scott ES","01/Mar/13 16:26;davsclaus;Yes Scott I agree. camel-jms should IMHO be *as-is* using the Spring API and what it offers.
And spring TX can already support JTA / XA and local jms TX as well.

So this does not make sense for me to change camel-jms.

What is needed though is those related issues to add TX to OSGi blueprint that uses the JTA API.

For camel-sjms it makes sense to support the JTA API.","01/Mar/13 21:32;geerzo;I guess my main driver for wanting to refactor the current JMS component is that the ActiveMQ component actually extends from it which means the ActiveMQ component is tied to Spring as well. I'm ok changing to using the SJMS component instead of the ActiveMQ component as long as I can get similar capabilities.

Is there any benefit to have an ActiveMQ specific component that extends from SJMS?","04/Mar/13 18:09;sully6768;Hi Chris,

There would be benefit to having the Camel ActiveMQ component extend SJMS but that would be a longer term plan.  I expect SJMS to be volatile for several releases given one, this is its initial release and I expect to see bug and enhancements as it becomes more mainstream and two, there are still a number of improvements that need to happen (JTA Support, externalize the JMS Container, etc).

If you need the ActiveMQ benefit and XA or JTA your only current options are Camel ActiveMQ.

Best Regards,
Scott ES","04/Mar/13 18:39;raulvk;Camel JMS is a true veteran and one of the most widely used components alongside camel-cxf, camel-http and the ones embedded in camel-core. Given its installation base, I don't think it's wise to refactor it into a whole different technology base.

That said, I'd expect us (the Camel team) to encourage camel-sjms as the first choice for JMS integration as soon as it's been more extensively tested in the trenches, as Scott ES explains.

And perhaps do a few renames once that happens:

- camel-jms => camel-springjms
- camel-sjms => camel-jms

But it'd have to happen on a major release, so it's a very long-term vision.","04/Mar/13 18:54;geerzo;Scott, I understand the plan now so I removed my idea from the 3.0 ideas page. Maybe we rename this JIRA to ""Support XA Transactions in SJMS""?

Raul, 3.0 would be the perfect place to do that change. I agree, renaming would make things clearer.","04/Mar/13 19:07;sully6768;That makes good sense Chris.  I have asked for a camel-sjms component to be added to JIRA Camel also so it can be more easily tracked.

Thanks Chris.","04/Mar/13 19:12;hadrian;Not really relevant, but there you go. Component created for camel-sjms.","05/Mar/13 00:20;muellerc;My impression, after talking with Chris in Portland, was to get completely ride of Spring TX in Camel. Also by using the ""transacted"" DSL stuff. There are many good reasons for this (some people don't want to use Spring, some people looking for a small memory/deplyment footprint, ...).

Of course, this would be another JIRA. I'm wondering whether I misunderstood it?","05/Mar/13 05:32;geerzo;Christian, you are correct, my preference would be to be able to run camel with full transaction support and not need to have any spring jars in my classpath. First step for me is JMS since that is where I have my most obvious spring dependency. At the moment I am able to utilize XA transactions in camel, started from OSGI components, without the ""transacted"" DSL stuff using just the blueprint transaction attributes in the XML. Eventually I will have to use more from camel directly though. ","19/Mar/13 16:38;mattrpav;I agree, the sjms component can't have any feature-loss if it will become the 'jms' component for 3.0. Additionally, I agree that a spring-less solution would be ideal.

I'm tied up on projects, but please update this ticket when you'd like more testing to occur. I can definitely help then.


",,,,,,,,,,,,,,,,,,,,,,,
Add Native JTA API Support to Camel Core,CAMEL-6150,12636091,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,sully6768,sully6768,2013/3/8 18:35,2019/8/5 9:46,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,2,jta,xa,,,,"Add native JTA support to Camel and push the Spring TX support up to the Spring Component.  This effort should allow Camel to use any provider of JTA without the introduction of proprietary APIs into the Camel Core.

Spring TX support should be maintained but in the Camel Spring Component, not in the core API.

Best Regards,
Scott ES",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,40:09.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,316583,,,Sun May 26 12:40:09 UTC 2013,,,,,,,,0|i1immf:,316925,,,,,,,,,,,,,,,"26/May/13 12:40;davsclaus;We need TX API for camel-blueprint also. So makes sense to look into have some abstraction api in camel-core, that camel-spring / camel-blueprint / other components can leverage.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SJMS Component behavior suggestions to improve upon the standard JMS component,CAMEL-6180,12637797,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,sully6768,mattrpav,mattrpav,2013/3/19 18:20,2014/12/3 20:05,2021/3/6 6:31,,,,,,,Future,,camel-sjms,,,,,,,1,,,,,,"The SJMS component should not suffer any feature loss from the standard JMS component, for best user experience in 3.0. 

A random mix of suggested behavior changes/enhancements:

 1. Supporting things like consume from multiple destinations using wildcards... from jms:queue:US_TICKETS_*  

 2. Support dynamic destination on a <to uri="".."" by using the same header from the existing JMS component. 
      CamelJmsDestination	javax.jms.Destination	 A destination object.
      CamelJmsDestinationName	String	 The destination name.

 3. I suggest making 'request-reply' be explicit, since implicit is really painful for new users. The ""magic"" temp destination listener is not confusing and the user has nothing in the route to go on as to why that is happening.

 4. Along w/ #3, don't kill the QoS headers by default. It makes setting up proxies really complicated. 

 5. Support MQ Series 'weirdness' that current component handles.. see 'Setting JMS provider options on the destination' here: http://camel.apache.org/jms.html

Thanks!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:37.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,318277,,,Tue Sep 16 21:18:35 UTC 2014,,,,,,,,0|i1ix2f:,318618,,,,,,,,,,,,,,,"19/Mar/13 18:41;raulvk;Hi Matt,

Regarding point #3, would you mind elaborating a bit further? Providing a small example may help.

Thanks,
Raúl.","20/Mar/13 13:15;mattrpav;By default if you have:

 <from uri=""amq:queue:MY_QUEUE"" />
 <to uri=""mq:queue:MY_QUEUE""/>

and send a message with a JMSReplyTo header set, Camel automatically assumes that you want Camel to handle the response, and that the response is going to come in less time than the default exchange wait timeout. 

This complicates things for a number of reasons:
 
 1. If the route is just a proxy, you have to add a bunch of flags to get Camel to not handle the response and preserve the QoS headers.. ?disableReplyTo=true&preserveMessageQos=true. IMHO, if you are doing synchronous request-reply over queues, that setting it explicitly would be a better experience for users.

 2. Many times, request-reply messaging patterns are two asynchronous routes, and not one single integration point. 

 3. It complicates the connection pool management, as now you have producers and consumers sharing pools and blocking each other out.. it gets messy in high volumes+high connection count scenarios. 

My suggestion would be to have requestReply be explicitly set via some url paramater on the endpoint:

   <from uri=""..some InOut MEP component.."">
   <to uri=""mq:queue:MY_REQUEST?replyToType=TemporaryQueue"" />

Hope this helps.

Thanks,
Matt Pavlovich
","03/Sep/14 17:50;randy.klingman;Regarding #5 - I have the same request.  We ran into an issue where we needed the capabilities provided by the sjms component (message batching and commit) but the provider destination options - ""targetClient=1"" was not available.  This required us to resort to a queue specific configuration setting on the queue - Extended-Property Control ""PROPCTL(NONE)"" which discarded all the properties of a message, except those contained in the message descriptor.   

Let me know if I should open a separate issue for this specific request.  Thanks [~sabre1041]","16/Sep/14 21:18;sully6768;Hi Randy,

Regarding number #5, see CAMEL-7825.  Work is now in progress via contribution by [~sabre1041].

Thanks,
Scott ES",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Create a spring DSL, where we can introduce interceptors without explicit listing",CAMEL-6232,12640325,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,edvicif,edvicif,2013/4/2 15:41,2019/8/5 9:47,2021/3/6 6:31,,2.10.4,,,,,Future,,camel-spring,,,,,,,0,spring,,,,,"We have a spring DSL based Camel system. I wanted to introduce an interceptor for one of the routes, but I wanted to define it on a separate xml file. So when the xml is added to the Spring Context Loader than the interceptor is active otherwise it isn't.

Unfortunately camel support contextScan and packageScan for camel routes defined with JAVA.

My work around currently is having a bean, which have a route definition and start up time camel context is injected. So it registers itself to the route.

But a more fluent solution would be welcome.

More details: http://camel.465427.n5.nabble.com/Refering-implicitly-to-routeContext-td5730047.html#a5730204",Any,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,320788,,,Fri Apr 05 15:41:59 UTC 2013,,,,,,,,0|i1jckf:,321129,,,,,,,,,,,,,,,05/Apr/13 15:41;edvicif;I found a shortcoming of the bean solution. If the route what I try to advice has property placeholders. Than it is unable to create the interceptor. Probably because I'm receiving the CamelContext reference before PropertyPlaceHolder initialized.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"provide a way to expose common header names, types and payload types for endpoints",CAMEL-6543,12657439,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jstrachan,jstrachan,2013/7/12 10:57,2017/3/3 13:27,2021/3/6 6:31,,,,,,,Future,,,,,,,,,1,,,,,,"Given a configuration of an Endpoint, it'd be nice if there was a way for endpoints to expose what a consumer will receive up front (at design time, before it actually runs), in terms of headers (their name & types) and the payload type.

Most of this is documented on the wiki in places already - its useful stuff to konw; but there's no way to introspect an endpoint and know this (so we can, for example, visualise the things exposed by an endpoint - or provide better validation of what can connect to what, what will work or fail; what type conversions could be done after consuming from an endpoint, what headers are available by default in expression languages and so forth.

I guess other steps in a camel flow can change this data too (e.g. adding/removing headers, changing the payload value).

But as a start - and endpoint consumer specific plugin would be great.

e.g. maybe we can add a new method to ComponentConfiguration which allows endpoints to return the header/payload metadata (if its known)
https://cwiki.apache.org/confluence/display/CAMEL/ComponentConfiguration

We could maybe add some annotations, metadata or code which could then be introspected by the generated endpoint documentation:
https://cwiki.apache.org/confluence/display/CAMEL/Endpoint+Annotations

afterall we often define constants for the header values already for a component; so it would be easy to add an annotation and have them discovered; its mostly just being able to find all the headers exposed by default (and which are optional I guess) on messages from an endpoint.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,17:48.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,337661,,,Sat Jul 11 07:17:48 UTC 2015,,,,,,,,0|i1m8pj:,337984,,,,,,,,,,,,,,,"23/Sep/14 09:09;jstrachan;This could be a good use of bindings; which are nice ways to specify exactly what payload types are expected on particular endpoints using the DSL.
http://camel.apache.org/binding.html

obviously if folks use an explicit convertBodyTo() or invoke a bean class known at compile time; we can also know the payload type
","11/Jul/15 07:17;davsclaus;Yeah something we need to ponder about. Now we got the components to be auto documented for their options. We should look into how to get meta-data about the payload.

For the headers we need to add some kind of annotation that the apt plugin can detect and include in the docs. Similar we can have some meta-data in the @UriEndpoint that can provide information about the payload.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-mapstruct - A component for type converters a like we have with camel-dozer,CAMEL-6643,12664005,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2013/8/16 7:25,2019/12/6 16:52,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,3,,,,,,"Mapstruct seems like a nice project with annotation based mapping configuration and code generated (so its fast).

http://mapstruct.org/documentation/

Wonder if we should have a similar component as camel-dozer that can add these as type converters in Camel.
http://camel.apache.org/dozer-type-conversion.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,344006,,,Fri Dec 06 16:52:14 UTC 2019,,,,,,,,0|i1nbp3:,344308,,,,,,,,,,,,,,,"05/Aug/19 12:54;davsclaus;Another alternative is atlasmap which has a GUI
https://www.atlasmap.io/

And a camel-atlastmap component is in the works that when its ready will be donated to ASF","06/Dec/19 16:52;davsclaus;Mapstruct is also awesome, would be good to get a component on this for Camel",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel native Component support for DNP3 power grid device protocol,CAMEL-6736,12668132,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,myourche,myourche,2013/9/11 20:30,2013/9/11 20:30,2021/3/6 6:31,,,,,,,,,camel-core,,,,,,,1,"DNP,","DNP3,",energy,power,powergrid,"As this project (dnp3.github.io) is Apache License 2 based, the Apache
Camel project should/could accept it.  
I would like to request the creation of this new component (and perhaps data format).
This would facilitate the use of Camel in power grid datacenters and possibly Communication Node routing stations.

Thank you",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,348066,,,30:53.0,,,,,,,,0|i1o0nr:,348362,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make it easy to configure xml converter XML DTD options,CAMEL-6897,12675764,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2013/10/25 8:20,2013/10/25 8:20,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"See
http://camel.465427.n5.nabble.com/Route-HANGS-processing-XML-with-external-DOCTYPE-declaration-td5739754.html

We should make it easier to configure this with Camel somehow. So you can turn on|off xml validation and whatnot.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,355262,,,20:24.0,,,,,,,,0|i1p8vr:,355550,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel JSSE Security - Add option to disable reverse DNS lookup with SSL,CAMEL-6898,12675766,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2013/10/25 8:30,2013/10/25 8:30,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"See
http://camel.465427.n5.nabble.com/Performance-Degradation-due-to-Reverse-DNS-Lookups-td5733751.html

We should add an option to the JSSE security we have in camel-core to make it easy to turn off this dns lookup in the SSLContextFactory",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,355264,,,30:07.0,,,,,,,,0|i1p8w7:,355552,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-ftp - Add option to stop download/upload if shutting down route,CAMEL-6902,12675772,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2013/10/25 8:42,2018/1/10 12:33,2021/3/6 6:31,,,,,,,Future,,camel-ftp,,,,,,,1,,,,,,"See
http://camel.465427.n5.nabble.com/Cannot-stop-inputstream-during-ftp-transfer-tp5719356.html

This is not as easy to do, but we should look into if there is any API/hooks into FTP and jsch to be able to interrupt the file download/updload process.

This can allow people to shutdown Camel apps, when its eg downloading a 2GB ftp file and you just want it to stop asap instead of having to wait for the file to be downloaded first.",,,,,,,,,,,,,,,,,,,,CAMEL-6582,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,355270,,,Wed Jan 10 12:33:27 UTC 2018,,,,,,,,0|i1p8xj:,355558,,,,,,,,,,,,,,,"10/Jan/18 12:33;davsclaus;This would require to use the retreiveFileStream and storeFileStream commands and then read/write from those streams manually in a loop fashion, where we can break-out of the loop if being shutdown.

Then for download we would need to avoid continue routing, or have it fail with an exception to indicate a failure, ditto for upload. However if you shutdown you may want to do this graceful without any exceptions.

So maybe lets wait with this, as it was the resume download that was the most needed feature. Concurrent downloads woulds likely be the next big feature we could have for camel-ftp.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-zookeeper - Use Apache Curator,CAMEL-6924,12677023,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2013/11/1 9:18,2019/8/5 13:03,2021/3/6 6:31,,,,,,,Future,,camel-zookeeper,,,,,,,3,,,,,,"We should consider using Apache Curator as the facade client for zookeeper. The zookeeper api is low level and not very friendly. Curator is build with the purpose of making ZK easier. So we should use that, which also makes it easier to improve on this component in the future.",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-10292,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,31:47.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,356399,,,Tue Jan 12 08:58:57 UTC 2016,,,,,,,,0|i1pfvr:,356687,,,,,,,,,,,,,,,29/Dec/15 15:31;tensae.code@gmail.com;Is there any development going on for this?,"30/Dec/15 09:45;davsclaus;No, but we love contributions
http://camel.apache.org/contributing","30/Dec/15 16:09;davsclaus;This would help with the zookeeper route policy where the master selection logic can be easier with the code from curator that makes this easier.

We did this in fabric8 v1.","31/Dec/15 15:41;tensae.code@gmail.com;We are using camel with curator/zookeeper for master selection. But we are calling curator through bean, that is why I start looking if there is a camel curator/zookeeper component. I would like to contribute, right now I cloned the camel project and trying to compile it.","12/Jan/16 01:59;tensae.code@gmail.com;Hi Claus,
Will this be rewriting the existing camel zookeeper component using curator or just replacing some part of it. Any suggestion where to start? I like to start from a low hanging fruit.","12/Jan/16 08:58;davsclaus;The idea is to use curator for the zk communication, which can do this in fewer lines of code and at a higher abstraction level.

Its probably not as easy if you haven't done a bit work with zk before.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
CamelContext should log the settings which could change the configure of Camel runtime,CAMEL-6943,12677910,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,njiang,njiang,2013/11/7 1:34,2019/8/5 13:03,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"Some of camel components uses the System properties to do configuration, it could be useful for the users to know about them if we can log these setting when starting the camel context.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,357285,,,34:31.0,,,,,,,,0|i1plcf:,357575,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
org.apache.camel.spi.DataFormat should expose a list of supported formats,CAMEL-7234,12696650,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sergey_beryozkin,sergey_beryozkin,2014/2/21 21:55,2014/2/21 22:38,2021/3/6 6:31,,,,,,,,,camel-core,,,,,,,0,,,,,,"If we have two DataFormat implementations and say two different HTTP media types then it is not possible to write a generic code selecting the right format matching the current media type. While this is specific to the marshalling/unmarshalling, the problem can easily be generalized

Proposal: add a new method, ""Set<String> getSupportedFormats()"" in the next major Camel release, and document it as a migration issue for users implementing custom Data formats not shipped with Camel be aware of the upgrade. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,375126,,,55:02.0,,,,,,,,0|i1sn5z:,375423,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Customize the way CXRS bindings set responses,CAMEL-7408,12711929,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sergey_beryozkin,sergey_beryozkin,2014/5/2 11:13,2014/5/2 11:13,2021/3/6 6:31,,,,,,,,,camel-cxf,,,,,,,0,,,,,,"CXFRS producer sets Response on the exchange which is not understood by the follow up Camel data reader components.

Proposal: introduce an option called ""unwrapResponse"", it will affect the process as follows:
- If it is a CXF WebClient call then we will have Response.readEntity(InputStream.class) set on the exchange. 
- If it is a CXF proxy call then we will have Response.readEntity(method.getReturnType()) set on the exchange. 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,390248,,,13:53.0,,,,,,,,0|i1v7vr:,390485,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a way to set a Custom thread pool as default,CAMEL-7588,12726464,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,charly,charly,2014/7/9 22:48,2014/7/10 14:47,2021/3/6 6:31,,2.12.4,2.13.2,,,,,,,,,,,,,2,,,,,,It would be nice to have the ability to set a custom thread pool via blueprint/Spring that will be used by all the routes in a camel context without having to call the executorServiceManager and setting all of the parameters in code.  ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,35:30.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,404571,,,Thu Jul 10 14:47:50 UTC 2014,,,,,,,,0|i1xmlr:,404610,,,,,,,,,,,,,,,"10/Jul/14 08:35;davsclaus;Have you seen
http://camel.apache.org/threading-model.html

You can configure the default thread pool profile","10/Jul/14 14:47;charly;Hi Claus,

AFAIK, that is only configuring the default, we want to introduce a way in Blueprint/Spring to use our own thread pool.  We are doing it now using the ExecutorServiceManager in JavaDSL, but would like to implement a way in XML to change the default for all routes/components in a CamelContext.  I do not see anything in the schema that allows this.

Or am I wrong ;)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AWS SQS component could use AmazonBufferedAsyncClient for batch write/delete,CAMEL-7590,12726581,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,andyredhead,andyredhead,2014/7/10 13:02,2014/7/10 13:02,2021/3/6 6:31,,,,,,,,,camel-aws,,,,,,,0,,,,,,"The AWS SDK for SQS now has an async client that includes the ability to send batches of write and delete messages, this could be really useful for increasing message throughput with SQS.

The doco for the async client is at:

http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/buffering.html

For batches we would need to be able set max batch size and max buffering wait time.

Cheers, Andy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,404688,,,02:13.0,,,,,,,,0|i1xnbj:,404726,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AWS SQS Delete Message Endpoint,CAMEL-7591,12726585,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,andyredhead,andyredhead,2014/7/10 13:31,2017/3/3 13:36,2021/3/6 6:31,,,,,,,,,camel-aws,,,,,,,0,,,,,,"It would be useful to be able to send a ""delete"" message to SQS for a message that was read from SQS earlier in a route (rather than leaving the original consumer to delete it).

This is particularly useful when the consumer is sending ""inOnly"" (and has the ""do not delete message"" attribute set. This allows the point where the message is deleted from the incoming queue to be dictated by the route.

To try and get the best throughput from SQS, there should be an option to batch multiple delete messages into a single SQS request.

Cheers, Andy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,59:21.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,404692,,,Fri Jul 11 08:00:38 UTC 2014,,,,,,,,0|i1xncf:,404730,,,,,,,,,,,,,,,11/Jul/14 00:59;njiang;AWS always delete the message which age is more then two week. Do we really need the AWS SQS delete message endpoint?,"11/Jul/14 08:00;andyredhead;If you don't delete the message, the queue will make a non-deleted message visible to consumers after a certain amount of time, which will allow it to be re-consumed.

Explicitly deleting the message off the queue once it has been successfully processed prevents ""pointless"" re-delivery and processing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rest DSL - Integrate with camel-cxfrs,CAMEL-7652,12731018,12707358,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2014/7/31 8:52,2016/8/28 9:36,2021/3/6 6:31,,,,,,,Future,,camel-cxfrs,rest,,,,,,1,,,,,,"camel-cxfrs should be integrated with the new Rest DSL.
",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-9170,,,,,,,,25/Sep/15 16:48;sergey_beryozkin;camel7652.txt;https://issues.apache.org/jira/secure/attachment/12762407/camel7652.txt,,,,,1,,,,,,,,,,,,,,,,,,,,26:14.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,409090,,,Sat Sep 26 06:32:55 UTC 2015,,,,,,,,0|i1ydzb:,409086,,,,,,,,,,,,,,,"08/Aug/14 07:32;davsclaus;This is problematic as Apache CXF-RS requires a JAX-RS resource class (eg the guy with those JAX-RS annotations)

{code}
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: No resource classes found
	at org.apache.cxf.jaxrs.AbstractJAXRSFactoryBean.checkResources(AbstractJAXRSFactoryBean.java:316)
	at org.apache.cxf.jaxrs.JAXRSServerFactoryBean.create(JAXRSServerFactoryBean.java:154)
	... 48 more
{code}","11/Aug/14 13:26;sergey_beryozkin;Hi, can the no-annotations feature help ? 

See https://cwiki.apache.org/confluence/display/CXF20DOC/JAX-RS+Advanced+Features#JAX-RSAdvancedFeatures-RESTfulserviceswithoutannotations.
The endpoint can be created with the interface only plus an XML text (pseudo-annotating it) though a concrete implementation would be required at run-time; a no-op proxy can be created if needed.
Johan has also extended a CXF JAX-RS Blueprint element with a jaxrs:servert/jaxrs:resourceClasses element - it can refer to interfaces only with no implementations required at run time. 
Can either of the above help ? Is there anything that we can enhance at the CXF level for it work ?
 


","13/Aug/14 07:47;davsclaus;Yeah something is likely needed to be enhanced in CXF or we need to do some heavy work to get this nicely integrated.

At first though it seems the docs at is wrong. They say that the resourceClass is required=no.
http://camel.apache.org/cxfrs

Ideally we need a model api in CXF that 3rd party can use to build the REST service definitions. Then the current logic in CXF that scans JAX-RS classes can build that same model under the covers. Eg similar as to the Camel route model where people can build this by hand, using pojo annotations, java dsl, xml dsl, scala etc.

Though I haven't dived into the codebase of camel-cxfrs or CXF very much. And I am very sure you are much more of an CXF export than I. 

Another area that would be awesome with CXF would be to make it possible for 3rd party to use the CXF WADL generator, where you can provide a model of the REST definitions (eg that API I talk about).

The no-annotations feature you refer to. Does it only work if there is a class or interface? eg ideally we would like to avoid any requirement of a java class. And thus the need for us to generate a .class on the fly to represent the rest service.

","25/Sep/15 16:48;sergey_beryozkin;The initial patch:
- CxfRsComponent creates a single CXF Server that manages mulltipe REST DSL routes (a single CXF JAX-RS endpoint can hold multiple JAX-RS resources)
- Each REST DSL route model is converted into CXF Specific model which is understood by CXF (when doing the request matching)
- CxfRsDslInvoker is introduced which is a map of CXF ClassResourceInfo (representing individual route resource) to Camel Consumer/Processor

Changes to the existing code are quite minor:
- CxfRsInvoker had most of its code pushed to AbstractCxfRsInvoker (this is also extended by CxfRsDslInvoker too), but otherwise it is mostly unchanged
- Existing CxfRsComponent code which creates CxfRsEndpoint has some code to differentiate between CXFRS URI and the actual CXF Server URI.

This is by no means a final patch. I've validated by tweaking a camel-servlet-rest-tomcat example to use an absolute CXFRS endpoint. So:
- the tests will have to be provided
- some of the code may need to be cleaned up
- Some work will likely need to be done to have more control over whether an absolute or relative cxfrs URI needs to be used (ex, when running in OSGI) - this is what I'm actually planning to do next
- Support for finer grained routes, example, where we have two get on the same path but with diff produces - need to figure out how to build CXFRS URI in such cases, etc

I'll have no problems to work on adding tests first to make the patch accepted If the initial lack of tests is a blocker. Though I'm not sure I can make it just in time for 2.16.0 as I'm travelling all of next week.

Overall some progress have def been made
Cheers, Sergey  
  


",25/Sep/15 16:55;sergey_beryozkin;Right now the REST DSL consumer code assumes that SimpleCxfRsBinding is used by default hence the relation to CAMEL-9170,26/Sep/15 06:32;davsclaus;Yeah lets push this for the next release so the CXF rest-dsl integration can be more solid and ready.,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-netty4 - Apply best practices to 4.x ,CAMEL-7684,12733421,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2014/8/12 9:06,2019/8/1 15:59,2021/3/6 6:31,,2.14.0,,,,,Future,,camel-netty4,camel-netty4-http,,,,,,0,,,,,,"This video from Norman
https://twitter.com/normanmaurer/status/498922171658682369

Has some great practices how to utilize netty 4.x for better performance.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,411449,,,Tue May 31 09:46:51 UTC 2016,,,,,,,,0|i1ysb3:,411440,,,,,,,,,,,,,,,31/May/16 09:46;davsclaus;See also slides at: http://normanmaurer.me/presentations/2014-http-netty/slides.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce a dedicated camel-cxfrs module,CAMEL-7703,12734376,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,sergey_beryozkin,sergey_beryozkin,2014/8/15 9:36,2014/8/15 9:50,2021/3/6 6:31,,,,,,,Future,,camel-cxf,,,,,,,0,,,,,,"There's been some concern for a while about the fact that a camel-cxf module hosts both ""cxf"" (WS) and ""cxfrs"" (RS) components. This issue is tracking the related improvement request (marking for ""Future"" for now).
A ""camel-cxf-core"" module would likely need to be introduced for the common code shared between ""cxf:"" and ""cxfrs:"" pushed into it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,412316,,,36:18.0,,,,,,,,0|i1yxiv:,412303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance CXF RS Invoker to support AsyncResponse-enabled JAX-RS endpoints,CAMEL-7750,12736934,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,sergey_beryozkin,sergey_beryozkin,2014/8/26 21:25,2014/8/27 17:22,2021/3/6 6:31,,,,,,,,,camel-cxf,,,,,,,1,,,,,,It appears the invoker does not recognize the endpoints depending on a new suspended invocations feature of JAX-RS 2.0. We can tweak CXF JAXRSInvoker a bit if needed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Aug/14 17:22;rin;camel-async-response-test-that-hangs.zip;https://issues.apache.org/jira/secure/attachment/12664675/camel-async-response-test-that-hangs.zip,27/Aug/14 11:24;rin;camel-async-response-test.zip;https://issues.apache.org/jira/secure/attachment/12664615/camel-async-response-test.zip,,,,2,,,,,,,,,,,,,,,,,,,,23:15.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Aug 27 17:21:53 UTC 2014,,,,,,,,0|i1zd47:,9.22337E+18,,,,,,,,,,,,,,,"27/Aug/14 11:23;rin;Not sure about the enhancement you mean, but i tried to reduce my project to demonstrate my issue and my error changed. Earlier no response was sent back when using AsyncResponse-enabled JAX-RS endpoint. But in the reduced example an another error occurs: a strange response is returned instead of the expected one. See the attached demo maven project.","27/Aug/14 12:11;rin;Ah, the demo above gives different error probably because it is fully processed in the original http thread. And my app is doing some async backend calls, so end of the route actually should be called in another thread. I'll make additional demo project for that. ","27/Aug/14 17:21;rin;Ok, I managed to make a simple project that demonstrates async variant handing forever while sync one working well. It started to hand after I added a call to a backend webservice. See the attached camel-async-response-test-that-hangs.zip.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"EndpointRegistry in camel-core that allows refer endpoints using and logical id, like you can do in spring",CAMEL-7778,12739107,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,nfx,nfx,2014/9/4 12:18,2019/8/6 5:12,2021/3/6 6:31,,2.12.0,,,,,Future,,camel-core,,,,,,,1,,,,,,"Generally, it's more efficient/loosely coupled to send to endpoint aliases, so we might change implementation of endpoint without changing the code:

{code}
    // in cases of dynamic routing
    producer.asyncSend(""specificMessageChannel"", new Processor() {
        ...
    });
{code}

It's possible to do it through Spring DSL, but impossible to register endpoints from route builder if we use spring. Also it is easier to configure number of consumers and etc for endpoints. 
{code}
<endpoint id=""specificMessageChannel"" uri=""seda:internalProcessing?concurrentConsumers=8"" />
{code}

JndiRegistry has ""bind"" method and ApplicationContextAwareRegistry does not have it.

Another use-case for that is camel-test component",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,06:35.7,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Sep 07 18:07:51 UTC 2015,,,,,,,,0|i1zohj:,9.22337E+18,,,,,,,,,,,,,,,"21/Mar/15 10:06;davsclaus;Okay so this ticket is really about having an endpoint register in java, which allows you to define endpoints and bind them to an id.

So you can do something like in spring with <endpoint id=""xxx"" uri=""xxx""/>

","09/Aug/15 08:19;davsclaus;You can use @EndpointInject in your route builder classes, though they dont allow that nice id association.","07/Sep/15 18:07;nfx;So, i have a workaround in my code for this, but i think this should be included in Camel core architecture.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Support Oauth, Ouath2 & OpenID client to request token",CAMEL-7942,12749725,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,cmoulliard,cmoulliard,2014/10/22 8:24,2019/8/6 5:13,2021/3/6 6:31,,,,,,,Future,,,,,,,,,6,,,,,,"Apache Camel does not provide any security layer to support OAuth, OAuth2 or OpenID specifications to obtain a token, refresh it and maintain the existing tokens in a cache. 

Such a security layer should be interesting for the camel-cxf, camel-jetty, camel-http, REST DSL components ... 

The Apache OLTU project (https://oltu.apache.org/) could be used to support OAuth, OAuth2 and OpenID4java (https://code.google.com/p/openid4java/) for OpenID",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,30:29.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Apr 17 07:07:54 UTC 2018,,,,,,,,0|i21ftz:,9.22337E+18,,,,,,,,,,,,,,,"18/Apr/15 09:30;ddoyle;I've recently created a Camel-based app (for a demo) that integrates with Facebook using OAuth2, based on OLTU. I can try to create an initial component, based on the camel-gae (gauth) component.","20/Apr/15 06:20;cmoulliard;If you ned help to create the component, unit tests, ... please contact me Duncan","17/Apr/18 05:35;onders;This is a good idea. however, Oltu is retired. what might be the other alternatives? 

[~cmoulliard],Could you give some details about the idea of such security layer on the existing components you mentioned above?",17/Apr/18 07:07;ddoyle;I would probably have a look at Keycloak client adapters: https://www.keycloak.org,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SMPP connector as consumer stops camel context,CAMEL-7945,12749906,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,hanusto,hanusto,2014/10/22 22:24,2019/2/20 8:01,2021/3/6 6:31,,2.13.2,,,,,Future,,camel-smpp,,,,,,,1,,,,,,"I try to use SMPP component as producer and consumer to send SMS and PUSH SMS (MMS) to SMSC/receive delivery notifications or SMS from mobile devices. But still if SMSC is down camel context will shut down, and also all other context, so camel cannot start up. Affect version is camel 2.13.2 and only consumer. Producer is OK and parameter lazySessionCreation=true works well, but not for consumer. Any idea how to solve that? Probably it has to do with CAMEL-3853 issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,15:21.3,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 20 08:01:06 UTC 2019,,,,,,,,0|i21gz3:,9.22337E+18,,,,,,,,,,,,,,,"30/Nov/14 14:15;davsclaus;This would be an improvement, to allow the consumer to handle connection failures and automatic reconnect when it can do that. This would entail an async thread that handles this, and do the re-connection logic.","05/Dec/14 06:17;hanusto;Hi Claus, if you want i can do that. Although on a project we use other solutions based upon health check service","05/Dec/14 12:22;davsclaus;Yeah sure we love contributions
http://camel.apache.org/contributing.html","01/Apr/15 15:20;rayslater;I believe this is the same issue as CAMEL-7342, and is a problem on start up only, as re-connects are handled ok.

","19/Feb/19 12:27;pascalschumacher;A workaround is to disable autostart of the route consuming from smpp and use the controlbus and sheduler components to start the route. E.g.:

{code}
String routeId = ""SmppConsume"";

from(""smpp://host"").routeId(routeId)
	.noAutoStartup()

// allows camel to start even if connecting to SMSC in not possible
from(""scheduler:StartSmppConsume?delay=15s"").routeId(""Start_"" + routeId)
	.to(""controlbus:route?loggingLevel=DEBUG&action=status&routeId="" + routeId)
	.choice().when(body().isEqualTo(ServiceStatus.Stopped))
		.to(""controlbus:route?loggingLevel=WARN&action=start&routeId="" + routeId);
{code}
","20/Feb/19 08:01;davsclaus;You can use the route controller which can startup routes in an asynchronous way in the background, there is an example in the examples folder.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standardize Camel components to use SSLContextParameters,CAMEL-7957,12750457,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dhirajsb,dhirajsb,2014/10/24 20:45,2019/7/31 8:54,2021/3/6 6:31,,2.13.2,2.14.0,,,,Future,,,,,,,,,0,ssl3,sslContext,sslContextParameters,,,"Some Camel components create HTTP connections using default SSLContext settings. Components should standardize on using SSLContextParameters, especially for [CAMEL-7940]. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,45:39.0,,,,,,,,0|i21k9j:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
determineAlphabet only considers GSM 3.38 or UCS2,CAMEL-8002,12753415,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,daniel.pocock,daniel.pocock,2014/11/6 15:12,2017/2/28 14:43,2021/3/6 6:31,,2.12.2,,,,,,,camel-smpp,,,,,,,0,,,,,,"SmppSmCommand.determineAlphabet(Message) tries to work out which SMPP alphabet code is suitable for encoding the message text.

It checks if GSM 3.38 can represent all the characters in the message and if not it just uses UCS2 (UTF-16).

This is less than optimal.  Many messages using European languages can not be encoded in GSM 3.38 but they can be coded in Latin1, which is also supported by SMPP (data_coding / alphabet numeric code for Latin1 is 3)

The jSMPP library (Alphabet.java) does not currently know about the alphabet code 3.

I proposed a patch for jSMPP and if it is accepted then camel-smpp should be updated to use it.  I already started writing a patch against camel-smpp.  Here is the jSMPP patch:

https://github.com/uudashr/jsmpp/pull/39
",n/a,,,,,,,,,,,,,,,,,,,,,,,CAMEL-8009,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,52:54.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat May 28 14:01:19 UTC 2016,,,,Patch Available,,,,0|i22273:,9.22337E+18,,,,,,,,,,,,,,,"06/Nov/14 15:52;githubbot;GitHub user dpocock opened a pull request:

    https://github.com/apache/camel/pull/317

    (work in progress) fix for CAMEL-8002, support for Latin1 coded SMS over SMPP

    
    Please discuss through the Jira issue: https://issues.apache.org/jira/browse/CAMEL-8002

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/dpocock/camel dpocock-smpp

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/317.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #317
    
----
commit 1c4e4e9aa0f59af6136b1cd7fa4eee7da38eacdc
Author: Daniel Pocock <daniel@pocock.pro>
Date:   2014-11-05T15:49:58Z

    Use UCS2 encoding if UCS2 alphabet specified

commit be729adb020ff9bc2c660ea6a916a68cd503a7b9
Author: Daniel Pocock <daniel@pocock.pro>
Date:   2014-11-05T16:56:35Z

    SmppUtils.isGsm0338Encodeable() expects Latin1 input, only use it if encoding is Latin1 or ASCII

commit b0fa26afe21718a39c759ba13b0309da9034e3c6
Author: Daniel Pocock <daniel@pocock.pro>
Date:   2014-11-06T15:50:12Z

    Begin fixing CAMEL-8002, depends on pull req. 39 in jsmpp

----
",15/Feb/15 11:16;davsclaus;Can we get a status of all those smpp tickets and PR and patches?,"15/Feb/15 16:20;daniel.pocock;As noted earlier, this is still work-in-progress. I just had a quick look over the code and it appears valid but may need further testing.  Some of my other un-merged changes depend on updating the jSMPP 2.2.x (CAMEL-8219) but that is not a blocker for this issue.

A resolution of this issue will make it easier for people to use SMPP without having to think about encoding issues.  At present, people have to think about encoding issues before giving their message to camel-smpp.","15/Feb/15 16:40;daniel.pocock;Actually, part of the branch / pull request for this work does depend on the changes to Alphabet.java in jSMPP 2.2.x","20/Jul/15 13:23;githubbot;Github user dpocock closed the pull request at:

    https://github.com/apache/camel/pull/317
",28/May/16 14:01;davsclaus;We have just upgraded to jsmpp 2.2.x. Wonder if you have time to look at this again?,,,,,,,,,,,,,,,,,,,,,,,,,,,,
assumes SMSC default alphabet is always GSM 3.38 7 bit,CAMEL-8009,12753662,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,daniel.pocock,daniel.pocock,2014/11/7 10:00,2017/2/28 14:43,2021/3/6 6:31,,2.14.0,,,,,,,camel-smpp,,,,,,,0,,,,,,"When using the default alphabet (dataCoding/alphabet value == 0), the camel-smpp code assumes that the SMSC is expecting a GSM 3.38 encoded message and it converts the String message to a byte[] array using GSM 3.38 encoding.

Some SMSCs are configured differently though.  For example, Nexmo uses Latin1 as default.  Therefore, there probably needs to be some configuration option to tell camel-smpp which default alphabet the SMSC is expecting when alphabet == 0.
",n/a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,16:24.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Feb 15 16:28:45 UTC 2015,,,,,,,,0|i223nb:,9.22337E+18,,,,,,,,,,,,,,,15/Feb/15 11:16;davsclaus;What is the status of this?,"15/Feb/15 16:28;daniel.pocock;These issues are related but not quite the same thing.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-smpp - split messages and throttling,CAMEL-8013,12753712,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,daniel.pocock,daniel.pocock,2014/11/7 15:14,2015/2/15 16:32,2021/3/6 6:31,,2.14.0,,,,,,,camel-smpp,,,,,,,0,,,,,,"Some locations, including the US, impose throttling restrictions on SMS

Sending more than 1 message per second may violate the throttling rules and result in message delivery errors.

If a message is big and it is automatically split by the camel-smpp code (in SmppSubmitSmCommand.java) then this results in a situation where multiple message parts are sent in quick succession, this can violate the throttling limits.

It would be useful for camel-smpp to send each part with a delay.",n/a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Feb 15 16:32:00 UTC 2015,,,,,,,,0|i223yf:,9.22337E+18,,,,,,,,,,,,,,,"05/Jan/15 14:37;daniel.pocock;Raised by another user on the mailing list
http://mail-archives.apache.org/mod_mbox/camel-users/201412.mbox/%3C1418809688431-5760816.post%40n5.nabble.com%3E
","05/Jan/15 14:40;daniel.pocock;Splitting is currently done within the endpoint.  To allow the Throttler component to work on parts of a split message or to handle per-fragment errors (such as a throttling error from the SMSC rejecting the final fragment of a split message) it would be necessary to divide the producer into two parts:

- a Processor that converts messages to one or more SMPP PDUs (one or more new exchanges)

- an endpoint that sends the SMPP PDUs to the wire
","15/Feb/15 16:32;daniel.pocock;I'm not aware of any work under way to resolve this.

As a workaround, people can use the message splitting polices introduced in CAMEL-8116 to ensure that messages won't be sent out at all if they would be split and violate the rate limits.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-jdbi - A jdbi component ,CAMEL-8203,12764537,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/1/2 16:22,2015/1/2 16:22,2021/3/6 6:31,,,,,,,Future,,,,,,,,,1,,,,,,"This is a nice library for SQL
http://www.jdbi.org/

We could make a camel-jdbi component that uses this library. It can be similar to camel-sql.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,22:41.0,,,,,,,,0|i23wn3:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-smpp - trying to create multiple receiver binds,CAMEL-8207,12764918,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,daniel.pocock,daniel.pocock,2015/1/5 14:58,2017/2/28 14:44,2021/3/6 6:31,,2.14.1,,,,,,,camel-smpp,,,,,,,0,,,,,,"I've noticed that the producer is just creating one transmitter bind but the consumer appears to try and create multiple receiver binds.

I tried putting threads(1, 1) into the consumer route but it still appears to try and create multiple receiver binds.

There are many scenarios where somebody would only want to use a single receiver bind

Many providers limit the number of binds and the component creates a lot of noise in the log file when it can't create additional binds because the SMSC rejects the additional connections with negative response code 5.

I went looking for information about this and found the following related comments about threading issues in jSMPP:

https://issues.jboss.org/browse/MR-838",n/a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,54:03.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Apr 28 15:54:03 UTC 2016,,,,,,,,0|i23yg7:,9.22337E+18,,,,,,,,,,,,,,,"15/Feb/15 16:22;daniel.pocock;Of all the outstanding camel-smpp issues, this is probably one of the more serious ones that needs to be addressed","28/Apr/16 15:54;davsclaus;Can you look more into this. Do you see a bunch of logs with ""Trying to reconnect to .."". It seems the consumer has some logic to fork a thread to create a sesseion and re-connect if the connection was closed.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cmis - Add support for SSL,CAMEL-8230,12766806,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2015/1/12 9:00,2017/6/30 7:15,2021/3/6 6:31,,,,,,,Future,,camel-cmis,,,,,,,0,,,,,,"This component does not support setting up https/ssl so end users can communicate with a secured server.

See user forum about the issue with some findings what to do
https://developer.jboss.org/thread/251474",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,04:31.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Jun 30 07:15:53 UTC 2017,,,,,,,,0|i2495r:,9.22337E+18,,,,,,,,,,,,,,,"29/Jun/17 13:04;jayarr1;Any updates on the same please? I am trying to use this to connect to CMIS, however would need SSL/TLS support. Thanks.","30/Jun/17 07:15;davsclaus;We love contributions so people in the community is welcome to help/work on this
http://camel.apache.org/contributing",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-keycloak - A security component,CAMEL-8249,12767670,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/1/15 7:02,2021/2/19 12:40,2021/3/6 6:30,,,,,,,Future,,,,,,,,,0,,,,,,"We should have a camel-keycloak component that integrates with keycloak
http://keycloak.jboss.org/

For example similar to as camel-spring-security
http://camel.apache.org/security
http://camel.apache.org/spring-security.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,52:34.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 19 12:40:18 UTC 2021,,,,,,,,0|i24efj:,9.22337E+18,,,,,,,,,,,,,,,07/Jul/16 09:52;acosentino;I'll take a look here.,19/Feb/21 12:40;onders;I would like to take a look at this if there is no progress yet..,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-rabbitmq: Builtin exchanges should support autoDelete & exchangeType as properties for queue declare,CAMEL-8271,12769615,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ceefour,ceefour,2015/1/23 11:17,2018/4/25 17:55,2021/3/6 6:31,,2.14.1,,,,,Future,,camel-rabbitmq,,,,,,,1,,,,,,"Currently all exchanges must set the {{autoDelete}} and {{exchangeType}} properties, and cannot be left empty, otherwise camel-rabbitmq will complain that these don't match.

The RabbitMQ builtin exchanges have predefined behavior and should be usable from {{camel-rabbitmq}} without setting these properties:

1. {{""""}} / {{amq.direct}}
2. {{amq.fanout}}
3. {{amq.topic}}
4. {{amq.match}}, {{amq.headers}}

In addition, when consuming from these, {{durable}} & {{autoDelete}} should configure the queue that will be bound to these exchanges, not the current behavior of configuring these builtin exchanges.

For example, currently it's impossible to do:

{{rabbitmq://localhost/amq.topic?durable=false&autoDelete=true&routingKey=lumen.speech.synthesis}}

Which is actually is a common scenario: declare a durable, auto-delete, autonamed queue that is bound to exchange {{amq.topic}} and routing key {{lumen.speech.synthesis}}. Instead, RabbitMQ fails with error.

Another request is to support {{exclusive=true}}, which is typically used for autogenerated queues.

Reference: https://www.rabbitmq.com/tutorials/amqp-concepts.html

Relates to CAMEL-8270",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:57.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Apr 25 17:55:57 UTC 2018,,,,,,,,0|i24pxr:,9.22337E+18,,,,,,,,,,,,,,,"25/Apr/18 17:55;phillipjohnson;I will also add that this makes it impossible for the exchange and the queue to have different {{autoDelete}} behaviors. However, different behaviors is supported by RabbitMQ.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pick up custom DBObject TypeConvertor,CAMEL-8290,12770678,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jmkgreen,jmkgreen,2015/1/28 14:24,2019/7/28 8:41,2021/3/6 6:31,,2.14.1,,,,,,,camel-mongodb,,,,,,,0,,,,,,"Reference ""Modifying a shipped TypeConvertor"" (http://camel.465427.n5.nabble.com/Modifying-a-shipped-TypeConverter-td5761945.html).

When converting a POJO to mongodb, a Jackson ObjectMapper is used by default. ObjectMapper by default converts Date types into Long types by default.

MongoDB of course has ISODate. In our case we had to provide a custom ObjectMapper switching off this Date to timestamp converter option. It would be nice if:

1. This was the default for mongodb
2. We could see this converter being picked up at runtime for use across the application.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:28.0,,,,,,,,0|i24wdb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
rest-dsl - Add support for wildcards to match on prefix,CAMEL-8306,12771712,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/2/2 12:00,2020/7/3 4:41,2021/3/6 6:31,,,,,,,3.x,,camel-core,rest,,,,,,1,,,,,,"See SO
http://stackoverflow.com/questions/28264748/regex-on-camel-rest-component

eg if we add support for using * as a wildcard then people can do rest paths with * as suffix, to indicate that it should match by wildcard

eg

 rest(""/api/user/*"") 

To match
- /api/user
- /api/user/foo
-/api/user/foo/bar

As * requires support from the underlying component, but most of them support that too, eg servlet / jetty / netty-http etc so likely we should be able to do this",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,52:14.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Apr 07 11:52:14 UTC 2017,,,,,,,,0|i252m7:,9.22337E+18,,,,,,,,,,,,,,,"23/Mar/15 16:37;davsclaus;We may need to introduce a intermediate route layer in camel rest-dsl so we can have match by wildcard and the likes coded in one place, and support on all http transports. Then we can better control the matching, such as the issue with restlet that has a bug - another ticket logged about that.","07/Apr/17 11:04;davsclaus;Not as sure if this is so good, are uri templates in spring-boot etc support wildcards like this?

[~zregvart] you have been in rest land recently, and thoughts? ","07/Apr/17 11:52;zregvart;I don't think that we should build another router, I think that we could have an API contract between the REST DSL and the implementing HTTP transport component that can percolate this information to it. This can be as simple as passing {{matchOnUriPrefix}} to the HTTP transport component in this case. With Spring Web MVC you have a lot of options to map requests to handlers, and one of the option is Ant style globs like {{/path/**}} that matches all nested paths within {{/path}}, but you also have regex support and you can implement custom {{HandlerMapping}} that maps in whatever way you feel is needed.
I don't see the need for Camel to match competencies of other Web frameworks, that is not it's core strength, but detecting {{&#42;}} or {{&#42;&#42;}} and passing that on to the HTTP transport as {{matchOnUriPrefix}} property should suffice.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Components - Generate per component XML schema,CAMEL-8361,12775284,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/2/16 6:37,2019/7/31 9:02,2021/3/6 6:31,,,,,,,3.x,,tooling,,,,,,,4,,,,,,"Now due to CAMEL-7999 we have information about each component and would be able to create a maven plugin that generates per component XML schema, which we can use in spring or blueprint to have per component type safe configuration of both the component and endpoints.

For example for endpoints something a like

{code}
<route>
<from><file directory=""somepath"" recursive=""true"" include=""*.txt""/></from>
<to><jms queue=""foo""/></to>
</route>
{code}

Though there a few more tasks to this as we would need to

- figure out how to integrate this with the camel model that is generated from camel-core
- how the namespace parsers of spring/blueprint detects these new namespaces for each component
- and have it work in all environments, eg standalone, jee, osgi, et all

For starters we could allow to configure endpoints in the <endpoints> section at first, an then later directly within the <routes>",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-7999,CAMEL-6380,CAMEL-8362,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:27.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Jul 31 08:59:43 UTC 2019,,,,,,,,0|i25nyf:,9.22337E+18,,,,,,,,,,,,,,,"16/Feb/15 11:27;davsclaus;And we would need a new <components> that allow to configure components, like we have for <dataformats>. Then ppl can do

{code}
<camelContext ...>
  <components
    <activemq id=""foo"" brokerUrl=""tcp:..."" maxReconnectAttempts=""3"" prefetchSize=""500"" .../>
    <jetty id=""jetty"" enabledJmx=""true"" maxThreads=""100""/>
  </components>

   ...
</camelContext>
{code}

Then inside components, its the components generated schema we use to configure components. The id is likely optional so you can differentiate components or given them a id. But if its omitted, then it should use the default component name, eg jetty for jetty etc.

Now the component schema is maybe a mix of using attributes and elements. And should also allow to use <property> style as well? ","16/Feb/15 11:29;davsclaus;For component configuration we could start to allow using <property> style, then we could allow to configure this without the schemas which are maybe not yet ready.

{code}
<camelContext ...>
  <components>
     <component id=""foo"" name=""activemq"">
       <property name=""brokerUrl"" value=""tcp:...""/>
       <property name=""prefetchSize"" value=""100""/>
     </component>
    <component id=""jetty"">
      <property name=""enabledJmx"" value=""true""/>
      <property name=""maxThreads"" value=""100""/>
  </components>
   ...
</camelContext>
{code}","02/Jul/18 10:33;onders;i did not look into this improvement area in deep but just had an idea to mentioned if my thinking would be worth thinking through around my idea.

so i think apt-compiler generates .json file per component, would it possible to convert them to their xml representation and generating an .xsd file per component using [trang.|http://www.thaiopensource.com/relaxng/trang.html] at this point not sure if the resulting xsd will be good enough to integrate with core model and have them work in all environments..",31/Jul/19 08:59;davsclaus;We may do an endpoint DSL for XML in 3.x later.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
support for PGP signature without encryption (including clearsigned ASCII-armored PGP),CAMEL-8403,12777478,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,daniel.pocock,daniel.pocock,2015/2/25 10:05,2015/2/25 10:47,2021/3/6 6:31,,2.14.1,,,,,,, camel-crypto,,,,,,,1,,,,,,"It is quite common to send emails that have a signature but no encryption.

A typical example of such an email is a release announcement from a free software project.

The marshalled message body should be human-readable but will either:
a) have an ASCII armored signature at the bottom
b) have a signature in a MIME attachment

Maybe the PGP marshaller should just put the binary version of the PGP signature in a header and then other data formats can be used for either the ASCII-armoring or conversion to MIME?

However, if the message body is already MIME (possibly with attachments), then the PGP data format may need to be able to sign each attachment and then the marshalled data will also be a MIME message but with additional signature attachments.

Below is an example of the most simple case, clearsigning ""Hello world"" with the gpg command.  The PGP data format should be able to both marshal the body ""Hello world"" into a message like that below and also unmarshal/verify it.

When unmarshalling the message below, the signature stuff should all be removed and the body will just become ""Hello world"" again.

$ echo ""Hello world"" | gpg --clearsign
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Hello world
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iQIcBAEBCAAGBQJU7ZjuAAoJEOm1uwJp1aqDcqwQAKVl4YQyL9VG+Vwy7y5W5Frb
mlhqibqquaYFc6HQvw+RLy9zicowdoMiXK4NRPxzTm5+PFxHXjgVMSFSDWNvuO6E
fzzkGOnyZdzPbFq+d0q1uMs4EnqfqHX/Y8v6PyWPdyHD8Isu7if0xpGNXbWGZMQn
jNGQzvj2t1lYqDP9DJDnctROI5qVDzXqR69pmgG+J9ZzaZW4EJmkitt9BJIath0a
ueVc5XJroGGj7KBJSyQAbpEhEO6b9Kz4cXCUqUfHTdKgVjO9UBfAZpmCappwMbDH
yvaAvUq1lAIncIS5ocWVvz66qG/tver5jrruGU5ptEwn9At/ZyKp88nvM09hNzuN
4Q6dFcytKtnEc2mSDeQ3/IFgT0FVU9vFhP8UusdfHF5GOBfsTWLc0RJdofCo27JN
jy1fHj9LroM7m0S/3ln7yQaa9qzatCOctzqq4d0xo8zX5WZ/7Eo9gwYgNUKg0WsU
PgZrzov0ImeULJvj43i2IMfojQSAN7aXnVPW817stIoKmkZpavH4TutfV6DDgbGa
UfsiYQ3BX/o/cfPB88SWmEMWZvP7syDwxK+iBzPDtwAexIAYP9NURfyWZvWe1ZBl
zdR/6pN8VR6/R17jJr3YCjpFlDs4zG67QoI8qSl91TH2h4V7uPQbaOUaSdAoh9Z6
TXpyXYPk5GTGx8rf5v5E
=Qbwp
-----END PGP SIGNATURE-----
",n/a,,,,,,,,,,,,,,,,,,,,,,,CAMEL-8405,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:37.0,,,,,,,,0|i260xb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add an OATH (HOTP / TOTP) component,CAMEL-8404,12777482,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,daniel.pocock,daniel.pocock,2015/2/25 10:30,2015/2/25 10:34,2021/3/6 6:31,,2.14.1,,,,,,,,,,,,,,1,,,,,,"This issue is to discuss adding support for algorithms from the Initiative for Open Authentication (OATH) http://en.wikipedia.org/wiki/Initiative_For_Open_Authentication

These algorithms are typically used for two-factor authentication, where the user carries a device such as a token that displays a OneTime Password (OTP) on the screen.  Soft-tokens are also available, e.g. the dynalogin app for Android implements HOTP.

HOTP is a counter-based OTP.  Each time an OTP is generated or authenticated, a counter value is incremented on both client and server.

TOTP is time-based (the timestamp takes the place of the counter value in the algorithm, authentication can not be performed twice in the same time interval).

There are two general approaches Camel could take:

a) component that implements everything within the JVM using a HOTP Java library.  The underlying algorithm is HMAC so this is not hard to implement, the dynalogin app source code provides a trivial example.  The component or the route would need to have some mechanism for updating the counter value in the user database each time a successful authentication occurs.

b) component that delegates all operations to a black-box style OATH server like dynalogin.  The route would give a token value to the dynalogin server and receive a response confirming whether the OTP was accepted.  In this case, the dynalogin server is responsible for maintaining the counter values in the user database.

As well as OTP authentication, OATH also provides two-way authentication and message signing algorithms.  In these cases, the same token devices and the same shared secrets can be used.  In the case of signing, the user enters some digits into their token device (the digits may represent the amount of a financial transaction or the account number of the payee) and the token will generate an OTP based on those digits.  The component would then verify that the amount or payee account number match some other values in the exchange headers.",n/a,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,30:40.0,,,,,,,,0|i260y7:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
support for S/MIME signing and encryption,CAMEL-8405,12777486,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,daniel.pocock,daniel.pocock,2015/2/25 10:46,2015/2/25 10:47,2021/3/6 6:31,,,,,,,,,camel-mail,,,,,,,3,,,,,,"
S/MIME encryption involves using X.509 certificates for digital signatures and/or encyrption/decryption of email.

https://tools.ietf.org/html/rfc5751

The JavaMail FAQ states that S/MIME is not supported in standard javamail but the API is flexible enough to allow it and other vendors do support it. http://www.oracle.com/technetwork/java/faq-135477.html

The JavaMail web site has a list of links to related projects that do include S/MIME support:  http://www.oracle.com/technetwork/java/javamail/third-party-136965.html

Another link provided from the JavaMail FAQ
http://www.imc.org/smime-pgpmime.html

This is not quite within reach of the crypto DataFormat in Camel because S/MIME is specific to MIME-formatted email.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,46:27.0,,,,,,,,0|i260z3:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Aggregation] [Optimistic Locking] [Hazelcast] Binary representation of same exchanges are different,CAMEL-8438,12779574,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,nfx,nfx,2015/3/4 20:11,2015/7/9 10:52,2021/3/6 6:31,,2.14.0,,,,,Future,,camel-hazelcast,,,,,,,0,,,,,,"After some low-level debugging i've figured out that it's not possible to use optimistic locking for HazelcastAggregationRepository, as marshalled exchanges have different representation on binary level and some of distributed atomic update operations by design rely on it. So it might be also relevant for aggregation repositories with optimistic locking for other backends. Problem is that inHeaders of DefaultExchangeHolder is marshalled as LinkedHashMap, which may change physical order of entries, still giving same hash code after unmarshalling.

As workaround - create special class for holding all aggregation properties and not to use more than one header. 

How to reproduce:
create a unit test with embedded hazelcast instance, hazecast agg. repository and let newExchange's have more than one header.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,06:19.0,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 09 10:52:34 UTC 2015,,,,,,,,0|i26d6f:,9.22337E+18,,,,,,,,,,,,,,,"06/Mar/15 13:11;nfx;Final conclusion - optimistic locking for HazelcastAggregationRepository does not work at all:
- test cases don't cover complex objects like hasmaps and multiple headers
- every time exchange is completed with predicate or with forced shutdown, new property is being added by AggregateProcessor, so cache.remove(key, holder) is always false. so that means, exchange would never be removed, as modified one would have new property set. It might be a good idea to do compare-and-swap on holder without properties. or creating different implementation of holder. or extending a holder. 
- HazelcastAggregationRepository is one of the few final classes within the project, which makes me sad and incapable of extending it
","10/Mar/15 08:06;davsclaus;You are welcome to work on a patch to not make it final, but also to try to fix/improve this",09/Jul/15 10:52;davsclaus;I made the class able to extend in Camel 2.16 onwards.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Graceful shutdown - Add kill operation,CAMEL-8499,12782486,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2015/3/17 7:17,2015/3/18 9:13,2021/3/6 6:31,,2.15.0,,,,,Future,,camel-core,jmx,,,,,,2,,,,,,"When Camel is doing a graceful shutdown, it may take some time to shutdown to drain inflight exchanges. And as that by default has a timeout of 300 seconds that is counting down. Then sometimes end users dont bother, eg its a test environment etc. Then we should have a JMX / Java API on graceful shutdown to terminate this timeout asap. Its basically to cancel the future task to do it.

We can then also have a karaf commands as well. Maybe its reusing the stop command but with a --kill flag.

If kill is a too extreme wording, we could use force stop or something instead.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,58:59.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Mar 18 09:13:24 UTC 2015,,,,,,,,0|i26uqn:,9.22337E+18,,,,,,,,,,,,,,,"17/Mar/15 09:58;antoine.dessaigne;Hi Claus,

We implemented this using a simple call to {{cancel(true)}} on the {{currentShutdownTaskFuture}} of the {{DefaultShutdownStrategy}}.
Maybe it would be better to make the {{DefaultShutdownStrategy}} truly stateless.
For instance we could have something like
{code}
public interface ShutdownStrategy {
    public Shutdown shutdown(CamelContext context);
}

public interface Shutdown {
    boolean isComplete();
    boolean hasTimeoutOccured();
    int getPendingMessageCount(); // refreshed every second
    int getDuration();
    boolean forceShutdown();
}
{code}

Right now the fields of a particular shutdown task are direct attributes of {{DefaultShutdownStrategy}}.

What do you think ?","17/Mar/15 16:53;geerzo;Would there be a way to trigger this when you stop a bundle in Karaf that has routes managed via blueprint?

Along with a kill option it might be nice to have a feature to specify the wait period on a stop. That way you could allow for at least a partial graceful shutdown if you have multiple routes as part of a bundle or context. ","17/Mar/15 17:07;antoine.dessaigne;By default, it waits 5 minutes before forcing the shutdown. This task is just for allowing to trigger this force shutdown from outside.

Regarding blueprint, I don't know yet :)","18/Mar/15 06:41;davsclaus;The idea of having state of the shutdown task is a good idea.

Notice the shutdown is also used for shutting down routes, not only camel itself. So the state needs to know if its for a route or for camel context itself.
","18/Mar/15 09:13;antoine.dessaigne;I know that you can either stop a particular route, all routes or event the context but I'm failing to see how it would be different in the API, in the {{Shutdown}} interface.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create ManifoldCF component,CAMEL-8534,12784852,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sstults,sstults,2015/3/23 15:41,2015/3/23 15:41,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"Apache ManifoldCF has access to quite a number of document repositories, and maps these to several search engines. Rather than duplicate the actual integration code, it would be useful if Camel could provide access to MCF's Consumer and Producer equivalents. These are exposed in MCF via REST API and should be fairly easy to map to a Camel component.
",,,,,,,,,,1209600,1209600,,0%,1209600,1209600,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,41:32.0,,,,,,,,0|i278cf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
hdfs & hdfs2 components are merging data locally instead of streaming it,CAMEL-8542,12785287,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,szhemzhitsky,szhemzhitsky,2015/3/24 20:18,2015/7/9 10:34,2021/3/6 6:31,,2.15.0,,,,,,,camel-hdfs,,,,,,,0,,,,,,"Here is the [conversation|http://camel.465427.n5.nabble.com/HDFS2-Component-and-NORMAL-FILE-type-td5764655.html]

CAMEL-4555 introduced an ability to merge files from within a single directory.
The merge operation is done locally, i.e. by means of creating the whole file on the local file system (that may be space and time consuming in case of multi -gigabyte, -terabyte files). 

# It will be more efficient to stream these files directly from hdfs, for example by wrapping them into [SequenceInputStream|http://docs.oracle.com/javase/7/docs/api/java/io/SequenceInputStream.html] or something like this [MapReducePartInputStreamEnumeration|https://github.com/yahoo/Glimmer/blob/master/src/main/java/com/yahoo/glimmer/util/MapReducePartInputStreamEnumeration.java]
# It will be really great if there will be an ability to switch merging on and off by means of an option or parameter.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,34:46.6,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 09 10:34:46 UTC 2015,,,,,,,,0|i27aqn:,9.22337E+18,,,,,,,,,,,,,,,09/Jul/15 10:34;davsclaus;You are welcome to work on a patch for this. Not sure how easy it is when in streaming mode.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-restlet - Form fields overwrite headers in InMessage,CAMEL-8625,12820545,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tptak,tptak,2015/4/13 14:36,2019/8/6 5:27,2021/3/6 6:31,,2.13.4,2.14.2,2.15.1,,,Future,,camel-restlet,,,,,,,1,,,,,,"DefaultRestletBinding adds values from submitted form as headers in the inMessage of the exchange. As a result it is close to impossible to rely on any of the values provided.
Suggested solution:
a) form values should be stored separately, or
b) populating headers from the form should fail if a header with this key already exists
c) prefixing keys coming from the form with something, for instance ""form.""

Solution a is a safer solution which will break compatibility with previous versions of Apache Camel (it can also be spread over a number of releases, first introducing new field for form values and logging a warning if form data is being extracted, next making it configurable and disabled by default, then removing this functionality).
Solution b is backwards compatible if this behaviour is not used as a feature  (if it is, it should not). That said someone could still use it to populate RestletRequest-like headers in the Message.
Solution c would be rather ok as well, but I like a more, personally.

I can provide a patch if any solution is accepted.",Linux,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,07/Sep/16 15:04;wblancqu;DefaultRestletBindingFixed.java;https://issues.apache.org/jira/secure/attachment/12827388/DefaultRestletBindingFixed.java,07/Sep/16 15:04;wblancqu;FormParameter.java;https://issues.apache.org/jira/secure/attachment/12827389/FormParameter.java,,,,2,,,,,,,,,,,,,,,,,,,,22:03.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Sep 07 15:04:02 UTC 2016,,,,,,,,0|i2d6kn:,9.22337E+18,,,,,,,,,,,,,,,"09/Jul/15 10:22;davsclaus;You are welcome to work on a patch for c, and also add some option to turn this form -> header mapping on/off. Then you can turn it off, and get the form data directly in another way.","07/Sep/16 15:04;wblancqu;Hi,

We encountered an issue which is strongly correlated to the issue described above.

We saw that in the outgoing restlet response, incoming request form parameters are attached. In our case, one of these form parameters were having a newline character. The response went through a HAProxy instance, marking the response header (which was actually a request header) as having an unauthorized character, provoking a HTTP 502 bad gateway.

In the end, the incoming form parameters should not be routed back to the response, so I did an effort implementing solution c prefixing the keys. It is however not ""toggleable"", but you might want to use this as a base to fix this issue.

I've attached the patched files.

Kind regards",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enforce immutability of camel context properties ,CAMEL-8638,12821077,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,tdiesler,tdiesler,2015/4/15 7:30,2019/8/6 5:28,2021/3/6 6:31,,,,,,,,,camel-core,,,,,,,0,,,,,,"There are properties on CamelContext that should be immutable after context start.

For example the application classloader associated with a CamelContext is not a dynamic thing. You are supposed to

1. Create the CamelContext 
2. Configure it (i.e. setApplicationContextClassLoader, etc)
3. Start the CamelContext

Reconfiguring the CamelContext at runtime would lead to undefined behaviour. If a higher level supports dynamicity in that classloader, it should set the application classloader to something that supports that.

Dynamicity in classloading is generally problematic because Java does not have a notion of ""unload class"", which would apply to the remove and replace cases.

For example:

* CL loads type A1 - CL gets reconfigured so that A1 is no longer available - loading of A1 is now inconsistent
* CL loads type A1 - CL gets reconfigured so that A1 is something else - loading of A1 is again inconsistent",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,30:16.0,,,,,,,,0|i2d9pr:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support custom data formats on individual REST DSL routes,CAMEL-8720,12825937,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,stijn.van.bael,stijn.van.bael,2015/4/29 12:50,2019/8/6 5:29,2021/3/6 6:31,,2.15.1,,,,,,,rest,,,,,,,0,,,,,,"It would be nice if I could select a custom data format for an individual REST DSL route to marshal objects differently.

For example: Say I have a REST service that returns company data including the company's employees. But when I get an individual employee, I want to include the URI of the company in the response. So I defined a ""json-standalone"" data format that uses a different Jackson view.

{code}
rest(""/companies/{companyId}"")
  .get()

rest(""/employees/{employeeId}"")
  .get()
  .dataFormat(""json-standalone"")

@Bean(name = ""json-standalone"")
@Scope(""prototype"")
public JacksonDataFormat dataFormat() {
    return new JacksonDataFormat(objectMapper, HashMap.class, JsonViews.Standalone.class);
}
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,50:45.0,,,,,,,,0|i2e2uf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-sip - SipConfiguration should be plain getter/setter,CAMEL-8781,12830672,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2015/5/18 12:57,2015/7/30 15:39,2021/3/6 6:31,,,,,,,,,camel-sip,,,,,,,0,,,,,,"The camel-sip component has a configuration class which does it own uri parsing and other initializations.

It should just be a plain getter/setter class.

The uri parsing is out of the box of the component, so most of that can be removed.

And any init logic should be part of the endpoint class, which it should do in doStart / doStop.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,57:52.0,,,,,,,,0|i2evaf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Apache MetaModel component,CAMEL-8937,12842875,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2015/7/6 12:57,2015/7/6 12:57,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,"Wonder if this project is worth a Camel component.
https://metamodel.apache.org/

Then a producer could return a SQL like resultset that a splitter etc can iterate, or provide a List<Map> with the data as a spread sheet like structure.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,57:28.0,,,,,,,,0|i2gvvj:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cxf - The namespace parser should use FactoryBean,CAMEL-8956,12844601,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/7/13 10:00,2015/7/13 10:00,2021/3/6 6:31,,,,,,,Future,,camel-cxf,,,,,,,0,,,,,,"The camel-cxf uses some poor spring namespace parsing where it does not use factory bean for all of those elements - without this the lifecycle of these objects cannot be handled safely.

So you may obtain a <cxf:cxfEndpoint> that is not properly initialized/started. 

If you look at camel-core-xml camel-spring how it does it, then we use factory beans for those elements which allows to control the lifecycle from the getObject method that spring calls.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,00:17.0,,,,,,,,0|i2h673:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Watchdog route policy for spotting starved, overactive or stuck routes",CAMEL-8999,12846872,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,yuruki,yuruki,2015/7/22 12:09,2019/8/6 5:55,2021/3/6 6:31,,,,,,,Future,,,,,,,,,1,,,,,,"In our use case we need to spot routes that are processing less than expected or too many exchanges in a certain time. The limits also depend on whether it is a busy or a quiet time (day vs night, weekdays vs weekend etc.).

Also, we would like to be able to spot routes that are stuck but produce no errors.

In my opinion the most natural solution is a RoutePolicy that would keep count of inflight and completed exchanges and perform periodic checks on this information. Multiple checks with different schedules would be allowed per RoutePolicy instance.

If a check fails the RoutePolicy would log a warning. These warnings could then be singled out based on the logger by, for example, an automated log watcher.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,15:42.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 25 13:25:12 UTC 2016,,,,,,,,0|i2hjv3:,9.22337E+18,,,,,,,,,,,,,,,"22/Jul/15 12:15;githubbot;GitHub user yuruki opened a pull request:

    https://github.com/apache/camel/pull/567

    CAMEL-8999 Watchdog route policy

    Watchdog route policy for spotting starved, overactive or stuck routes.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/yuruki/camel camel-watchdog

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/567.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #567
    
----
commit 95f5f49289cb29e46c185a017541fa40f1d08a1c
Author: Jyrki Ruuskanen <yuruki@kotikone.fi>
Date:   2015-07-22T12:11:04Z

    Added WatchdogRoutePolicy

----
","25/Nov/16 13:25;githubbot;Github user yuruki closed the pull request at:

    https://github.com/apache/camel/pull/567
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
rest-dsl - Add some dsl or spi to deal with exceptions during marshalling response,CAMEL-9053,12851638,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/8/5 9:46,2015/8/5 9:46,2021/3/6 6:31,,,,,,,Future,,camel-core,rest,,,,,,0,,,,,,"See CAMEL-9034

We may want to add some way of easily configure some options or dsl or some spi interface that allows end users to deal with exceptions during json/jaxb marshalling. 

For example users may want to say whether to include stacktrace in response, what the status code should be (default to 500) and maybe a custom response body etc.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,46:33.0,,,,,,,,0|i2ictz:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SimpleCxfRsBinding improvements,CAMEL-9170,12896411,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sergey_beryozkin,sergey_beryozkin,2015/9/25 15:25,2017/4/7 8:52,2021/3/6 6:31,,,,,,,Future,,camel-cxfrs,,,,,,,0,PatchAvailable,,,,,"SimpleCxfRsBinding should:
- ensure the Camel In Message body is null when the body index is -1 and it is not multipart - the default binding which SimpleCxfRsBinding extends still sets the body to a CXF specific response even if no body is available - which causes side-effects when a RestDsl binding is enabled.
- should work if a CXF RS model is used as opposed to the interface

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25/Sep/15 15:26;sergey_beryozkin;camel9170.txt;https://issues.apache.org/jira/secure/attachment/12762392/camel9170.txt,,,,,1,,,,,,,,,,,,,,,,,,,,02:05.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 25 16:05:42 UTC 2015,,,,,,,,0|i2lkef:,9.22337E+18,,,,,,,,,,,,,,,"25/Sep/15 16:02;davsclaus;Oh I wonder if some special CXF version is required. The patch gives me

{code}
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR :
[INFO] -------------------------------------------------------------
[ERROR] /Users/davsclaus/workspace/camel/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/SimpleCxfRsBinding.java:[367,44] error: cannot find symbol
[ERROR]   symbol:   method getModelResources()
  location: variable endpoint of type CxfRsEndpoint
/Users/davsclaus/workspace/camel/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/SimpleCxfRsBinding.java:[368,60] error: cannot find symbol
[INFO] 2 errors
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 21.560 s
[INFO] Finished at: 2015-09-25T18:03:16+02:00
[INFO] Final Memory: 41M/743M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project camel-cxf: Compilation failure: Compilation failure:
[ERROR] /Users/davsclaus/workspace/camel/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/SimpleCxfRsBinding.java:[367,44] error: cannot find symbol
[ERROR] symbol:   method getModelResources()
[ERROR] location: variable endpoint of type CxfRsEndpoint
[ERROR] /Users/davsclaus/workspace/camel/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/SimpleCxfRsBinding.java:[368,60] error: cannot find symbol
{code}","25/Sep/15 16:03;davsclaus;Ah maybe a code change is missing in the patch. Seems like a new method on the endpoint.

But would be nice to get this in 2.16.","25/Sep/15 16:05;sergey_beryozkin;Sorry, indeed, it depends on the other code, will prepare a patch soon, thanks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
support SIP MESSAGE method (IM/chat messaging),CAMEL-9190,12902488,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,daniel.pocock,daniel.pocock,2015/10/5 19:40,2016/7/10 9:18,2021/3/6 6:31,,,,,,,,,camel-sip,,,,,,,0,,,,,,"The camel-sip component currently supports publish/subscribe functionality (SIP methods NOTIFY and SUBSCRIBE, RFC 6665)

SIP also has a method called MESSAGE for sending and receiving messages, it is in RFC 3428.  It is widely supported in softphones, some desk phones, WebRTC phones and most SIP proxies.

The RFC says the MESSAGE method can be used for any MIME type, although only text/plain must be supported

It should not be too hard to extend the existing camel-sip code to support this type of message.  It is supported by the javax.sip API:

https://android.googlesource.com/platform/external/nist-sip/+/618ef6b2f5a2d3c29e4a76faa5abc5ebd5fa6fe3/java/javax/sip/message/Request.java#15",all,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,18:19.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Jul 10 09:18:19 UTC 2016,,,,,,,,0|i2mlpz:,9.22337E+18,,,,,,,,,,,,,,,10/Jul/16 09:18;nikv; https://github.com/apache/camel/pull/1056 ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Claim Check EIP - DataStore spi and out of the box stores,CAMEL-9261,12908192,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/10/27 10:58,2015/10/27 10:58,2021/3/6 6:31,,,,,,,Future,,camel-core,eip,,,,,,0,,,,,,"We should consider a ClaimCheckRepository API (or potentially allow to reuse aggregate repository) and add into the DSL to make it easy to store / claim.

A blog about this
http://www.javaprocess.com/2015/10/distributed-services-with-apache-camel-part2.html

And the eip
http://camel.apache.org/claim-check.html

Likely the aggregator repository is the best suited to reuse/extend from as its to store with a key -> exchange. And have apis to remove as well.

But we need to give it a bit more thought. The idea is for the implementations to make them reusable so we do not have to implement this again for JDBC, hazelcast and what else we have today for repositories.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,58:20.0,,,,,,,,0|i2nkjj:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-okhttp - Using the popular okhttp client,CAMEL-9268,12908824,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/10/29 7:38,2020/9/28 8:02,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,"A camel-okhttp component that uses the okhttp client
http://square.github.io/okhttp/
http://square.github.io/okhttp/
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:11.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Sep 28 08:02:31 UTC 2020,,,,,,,,0|i2nodz:,9.22337E+18,,,,,,,,,,,,,,,"08/Dec/15 17:33;gautric;Okhttp lib uses ASF compliant license 

http://square.github.io/okhttp/#license","08/Dec/15 20:52;gautric;Okio a sub lib uses ASF too

https://github.com/square/okio/blob/master/LICENSE.txt",27/Sep/20 20:43;dbajic;[~davsclaus] is this still desireable feature? I would like to give it a shot.,"28/Sep/20 06:52;davsclaus;Yeah sure, although camel-http-vertx is also a great client especially for microservices and with camel-quarkus.","28/Sep/20 08:02;dbajic;Okay, will try to create a component. Thanks [~davsclaus] !",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Changed read-lock to keep state between polls to allow to be faster,CAMEL-9324,12913065,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/11/14 10:42,2020/1/2 8:53,2021/3/6 6:31,,,,,,,Future,,camel-core,camel-ftp,,,,,,2,,,,,,"See nabble
http://camel.465427.n5.nabble.com/sftp-endpoint-is-not-as-performant-as-expected-tp5773654p5773879.html



Yeah the current changed read-lock afair don't keep state between
polls. So we could look into one that does that, and do a full scan of
all the files, and then do a change detect on all files all together
and make up which ones hasn't changed. And that way can react faster
than currently.

Now that may require doing more file directory listings to gather all
those files and their timestamps / size to see which one has changed,
instead of monitoring a single file one by one. Also it may mean that
files can be processed out of order, if a file sort isn't must be
strictly followed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jan 02 08:53:02 UTC 2020,,,,,,,,0|i2oef3:,9.22337E+18,,,,,,,,,,,,,,,"02/Jan/20 08:53;davsclaus;See also SO
https://stackoverflow.com/questions/53780257/how-can-we-combine-readlockcheckinterval-and-maxmessagesperpoll-in-camel-file-co?noredirect=1#comment105287183_53780257",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NSQ message broker component,CAMEL-9440,12923648,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,achmadns,achmadns,2015/12/22 3:03,2016/2/16 8:35,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,Another messaging component that support NSQ message broker. I would like to contribute although the nsq itself is not on 1 version yet. Something like preview may be.,http://nsq.io/ that still support Linux and OSX,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,03:20.0,,,,,,,,0|i2q73r:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RabbitMQ - Wonder if the consumer can use a grown/shrink thread pool,CAMEL-9460,12924858,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2015/12/30 10:53,2016/1/3 12:42,2021/3/6 6:31,,,,,,,Future,,camel-rabbitmq,,,,,,,0,,,,,,"The consumer creates a default thread pool of 10. You can configure the size but the pool is fixed.

Wonder if we should use a bounded pool so we can have min-max so it can grow depending on demand. That is a bit hard to do as the thread pools in jdk isn't so good at this. 

The spring-jms has a fair bit of logic to do this scaling up/down.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,07:12.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Jan 03 12:42:05 UTC 2016,,,,,,,,0|i2qei7:,9.22337E+18,,,,,,,,,,,,,,,30/Dec/15 10:54;davsclaus;[~pax] i logged a ticket about those 10 threads.,"30/Dec/15 16:07;preben;Current default is a threadpool with a pool size of 10 to support 1 Channel (the number of concurrent consumers, default is 1)
I wonder if it would enough just to allokate as many threads to the pool as there are concurrent consumers. ","30/Dec/15 16:22;davsclaus;Looking at the code, then that executor service is only used as a boss thread that connects to the rabbitmq broker. And as such it should just be 1 thread. And the thread pool should be private for the consumer only, and not really exposed in the endpoint class.

The concurrent consumers is run and handled by the rabbit mq client library and is outside the control of that executor service. 
","30/Dec/15 16:35;davsclaus;Ah sorry my bad, the openConnection method takes in the executor as a parameter. So its seems its tying each thread to one connection, so yeah it makes sense to have 1 boss + N concurrent consumers.","30/Dec/15 17:00;preben;Yeah it would also make the configuration options easier to reason about sinse it's currently a bit unclear what the relation is between threadpoolsize and concurrentconsumers is.
I guess the threadpoolsize option could be deprecated ? 
","03/Jan/16 12:42;preben;Here is a proposed patch https://github.com/pax95/camel/commit/56c5ba20e768883db75e68092603c7449be1d191 
To me it seems reasonable that the threadpool is allocated = the number of concurrent consumers(open channels), but since I'm not a Rabbit user myself, maybe a Rabbit user has some comments.

Btw I have removed the threadPoolSize option. I'm not sure if you can remove options in major versions, or if they should be deprecated instead. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,
DynamodbStreamConsumer should provide for a callback once the stream is being read,CAMEL-9516,12930114,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,rvedotrc,rvedotrc,2016/1/14 11:30,2017/4/7 11:05,2021/3/6 6:31,,,,,,,Future,,camel-aws,,,,,,,0,,,,,,"Use case: I want to read and keep up-to-date with the contents of a table.

Approach: start reading the stream (using DdbStreamConsumer), then _once the consumer has definitely started reading the stream_, i.e. is guaranteed not to miss any future updates, _then_ I scan the table.

In order to achieve this I need to know when the consumer has started reading the stream.  Specifically, when the first successful call to GetRecords has occurred.

Possible approach: on the endpoint URI, define a ddbStreamStartupListener bean parameter.

Given I have a DdbStreamEndpoint with a ddbStreamStartupListener
When the first call to GetRecords success
Then the bean should be called synchronously (*before* the consumer proceeds with processing any records that GetRecords returned).

Of course it is up to the user providing that bean what it does ?for example, whether it does something blocking and therefore potentially long, or whether it triggers something async.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,10:09.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Sep 15 15:10:09 UTC 2016,,,,,,,,0|i2raif:,9.22337E+18,,,,,,,,,,,,,,,"14/Jan/16 11:36;rvedotrc;Looking at this, it seems that defining a PollingConsumerPollStrategy (where ""commit"" is the callback we need) may be sufficient.  This approach satisfies everything on this ticket except for the requirement that the callback happens before any Exchanges.
",15/Sep/16 15:10;davsclaus;Contributions is welcome for anyone working with AWS and Camel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bean - Allow use of Java8 method reference in Camel route,CAMEL-9547,12934806,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,cathodion,cathodion,2016/1/28 13:43,2016/8/28 9:34,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,"Camel allows for a route to call a bean by pointing to a class and supplying the name of the method as a string. This does not allow IDE's to easily point out problems of the mentioned class does not have a method with that name.

It would be very nice of we could have Camel call a certain method by supplying a Java8 method reference.

https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,34:44.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Aug 28 09:34:44 UTC 2016,,,,,,,,0|i2s3fb:,9.22337E+18,,,,,,,,,,,,,,,28/Aug/16 09:34;davsclaus;Took a quick look and its not clear if this is possible to known from java reflection etc ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RabbitMQ InOut Producer generates operation not permitted on the default exchange when using dynamic exchange,CAMEL-9561,12935996,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,arnaudchotard,arnaudchotard,2016/2/2 15:29,2016/2/20 8:37,2021/3/6 6:31,,2.16.2,,,,,Future,,camel-rabbitmq,,,,,,,1,,,,,,"The use case uses a RabbitMQ InOut Producer with a dynamic RabbitMQ exchange name header :

{code}
from(""direct:route"")
   .setHeader(RabbitMQConstants.EXCHANGE_NAME, constant(""exchange""))
   .inOut(""rabbitmq:///?connectionFactory=..."")
{code}

The exchange name is only set on header, not in RabbitMQ endpoint URI.

This generates a RabbitMQ Exception :

{code}
com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method<channel.close>(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)
{code}

The problem is located when doing queueBinding on reply to queue in org.apache.camel.component.rabbitmq.reply.TemporaryQueueReplyManager

{code}
protected Connection createListenerContainer() throws Exception
{code}

{code}
channel.queueBind(getReplyTo(), endpoint.getExchangeName(), getReplyTo());
{code}

The header exchange name should be used instead of the endpoint exchange name.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,26:14.8,,,FALSE,,,,,Advanced,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Feb 20 08:37:34 UTC 2016,,,,,,,,0|i2sarj:,9.22337E+18,,,,,,,,,,,,,,,"03/Feb/16 07:26;davsclaus;Thanks you are welcome to work on a patch / PR
http://camel.apache.org/contributing",20/Feb/16 08:18;davsclaus;This is not supported as the reply manager is tied to the producer and cannot by dynamic in that way.,"20/Feb/16 08:21;davsclaus;You can use dynamic-to and set the exchangeName in the uri
http://camel.apache.org/how-to-use-a-dynamic-uri-in-to.html","20/Feb/16 08:37;davsclaus;To support this we would possible need to create a reply manager per dynamic exchange name, which potentially could lead to a lot if using many different exchange names.

Also there should maybe be a way to tell if the reply manager should be discarded afterwards if the exchange name was only to be used once. But if there is a lot more in the future using same exchange name then you may want to reuse the same reply manager.

This adds another dimension on top of the existing reply manager support.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Able to customise Camel RabbitMQ reply to queue and routing key,CAMEL-9565,12936269,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,souciance,souciance,2016/2/3 8:05,2016/2/3 8:05,2021/3/6 6:31,,2.16.1,,,,,,,camel-rabbitmq,,,,,,,0,,,,,,"Today, in Camel when you use the camel-rabbitmq component to send a message to a topic, and expect a response, the component will automatically create a a random amq queue and set that as a replyto and as the routing key to listen for the response. 

Ideally, it would be nice if it would be possible to manually set the routing key and the queue for the response part. This could be the case for environments where the routing keys and queues are created via a script or by an admin.

I have tried with skipQueueDeclare but that did not help. 

Thanks.",Camel 2.16.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:29.0,,,,,,,,0|i2scf3:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Splitup camel-cxf into modules so REST dont pull in old SOAP stuff,CAMEL-9627,12940791,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,davsclaus,davsclaus,2016/2/20 14:48,2019/5/24 6:59,2021/3/6 6:31,,,,,,,Future,,karaf,osgi,,,,,,0,,,,,,To make camel-cxf feature less bloated and not include this seldom used component which you can install as its own feature.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Feb 20 14:54:10 UTC 2016,,,,,,,,0|i2t41r:,9.22337E+18,,,,,,,,,,,,,,,"20/Feb/16 14:54;davsclaus;Argh f*** camel-cxf uses stuff in camel-cxf-transport just to make things worse.

This module really needs to be split into

- camel-cxf-common
- camel-cxf-ws
- camel-cxf-rs
- camel-cxf-transports (and maybe deprecated this)

And then do not have any split-packages to make osgi a hell.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-rx module should extend Bean Binding to support methods returning Observable<T>,CAMEL-9682,12948086,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jstrachan,jstrachan,2016/3/8 17:40,2017/9/8 9:28,2021/3/6 6:31,,,,,,,Future,,camel-rx,,,,,,,0,,,,,,"when making asynchronous InOut requests it'd be nice if methods could return Observable<T> so that we could use the RxJava async programming model to process async requests & responses.

e.g. kinda like how folks can use Retrofit for HTTP: http://joluet.github.io/blog/2014/07/07/rxjava-retrofit/
{code}
public interface MyThing {

@GET(""/session.json"")
Observable<LoginResponse> login();

@GET(""/user.json"")
Observable<UserState> getUserState();
}
{code}

to then let you use the normal composition / join / flatMap stuff in RxJava to compose multiple requests across different microservice invocations together with timeouts etc e.g. to compose the latest from 2 calls:

{code}
Observable.combineLatest(api.fetchUserProfile(), api.getUserState(),
(user, userStatus) -> new Pair<>(user, userStatus));
{code}

Where we'd replace the @GET annotation with a bean binding annotation and a URI parameter to switch to using ActiveMQ or Twitter or whatever",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:22.0,,,,,,,,0|i2ucif:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
LMAX Disruptor Component: Make it compatible with async routing engine,CAMEL-9692,12948717,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,raulvk,raulvk,2016/3/10 9:24,2019/8/6 6:02,2021/3/6 6:31,,2.16.2,,,,,Future,,camel-disruptor,,,,,,,0,,,,,,"Currently, the {{camel-disruptor}} component is not compatible with the async routing engine. 

Therefore, in an InOut scenario, it keeps the calling thread waiting until the CountDownLatch fires.

This degree of synchronicity is contrary to a message-oriented middleware and contrary to the philosophy of the LMAX Disruptor itself.

We should strive to make it fully async via an {{AsyncCallback}}.

According to https://stackoverflow.com/questions/6559308/how-does-lmaxs-disruptor-pattern-work, it should be natively possible:

bq. We also allow consumers to wait on the results of other consumers without having to put another queuing stage between them. A consumer can simply watch the sequence number of a consumer that it is dependent on. This avoids the need for join stages in pipeline.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:35.0,,,,,,,,0|i2ugen:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create EVCache component,CAMEL-9742,12952433,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,acosentino,acosentino,2016/3/22 13:21,2019/4/5 9:18,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,Create an EVCache component by using the Netflix project: https://github.com/Netflix/EVCache,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Mar 23 09:01:05 UTC 2016,,,,,,,,0|i2v0x3:,9.22337E+18,,,,,,,,,,,,,,,23/Mar/16 09:01;acosentino;Maybe it is better to wait for evcache-server to be open sourced.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support a parent configuration for routes to inherit properties for the CamelContext,CAMEL-9814,12955895,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,mattrpav,mattrpav,2016/4/4 19:59,2019/7/31 9:25,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"It would be really handy to have a top-level configuration that Contexts and Routes can inherit a set of default values.

This would allow developers to reduce the complexity and verboseness of routes as well as allow administrators to set defaults for an environment.

Types of settings:

Tracing: on/off
Jmx Enabled, mbean port, URL, etc
DefaultShutdownStrategy timeout
etc.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,59:11.0,,,,,,,,0|i2vm9z:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add connection events to websocket connector,CAMEL-9947,12965260,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,andrewrdwyer@gmail.com,andrewrdwyer@gmail.com,2016/5/5 12:06,2016/5/24 7:10,2021/3/6 6:31,,,,,,,,,camel-atmosphere-websocket,camel-websocket,,,,,,0,,,,,,"Consider adding support in the websocket connector to trigger events when clients connect or disconnect from the web socket. 

 Claus Ibsen suggested:
bq. ""from(websocket:test?events=onConnect,onDisconnect) so you can filter on the events""

This issue has been discussed on SO at http://stackoverflow.com/questions/36887454/connect-disconnect-from-activemq-topic-on-camel-websocket-connection-disconnecti",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,06:58.0,,,,,,,,0|i2x7fr:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a camel-chronicle component,CAMEL-9949,12965539,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2016/5/6 9:26,2019/8/6 6:05,2021/3/6 6:31,,,,,,,Future,,,,,,,,,1,,,,,,"Create a camel component for:
- https://github.com/OpenHFT/Chronicle-Engine (done by CAMEL-10170, needs documentation)
- https://github.com/OpenHFT/Chronicle-Map
- https://github.com/OpenHFT/Chronicle-Queue
- https://github.com/OpenHFT/Chronicle-Essence",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,29:54.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Sep 15 15:31:46 UTC 2016,,,,,,,,0|i2x95r:,9.22337E+18,,,,,,,,,,,,,,,15/Sep/16 14:29;davsclaus;Are you working more on this for 2.18 or should tasks be moved to 2.19 ?,"15/Sep/16 15:31;lb;Basic component is here, I need to document it, hope before eow 
Will be extended in 2.19",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka - Support Parallel consumption of already polled messages in consumer,CAMEL-10152,12990228,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,demesne,demesne,2016/7/18 1:03,2017/3/3 20:22,2021/3/6 6:31,,2.17.2,,,,,,,camel-kafka,,,,,,,1,,,,,,"Similar to CAMEL-10065, support for batching and parallel processing in producer, it would be nice to have the parallel consumption of messages in consumer.

Polling in consumer, fetches messages in batches, and camel-kafka component forces it to consume messages one at a time. Bunching up the messages in a list, and sending them in batch to the processor would let camel listeners scale up by adding parallel consumption.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,22:47.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Mar 03 20:22:47 UTC 2017,,,,,,,,0|i313wv:,9.22337E+18,,,,,,,,,,,,,,,"03/Mar/17 20:22;davsclaus;Yeah either we can have some way of setting a batch size to consume in X sizes.

You can also use aggregatator EIP and have it batch stuff but then you do have a hand off between consumer -> aggregagator.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a camel component for etcd v3,CAMEL-10173,12991729,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2016/7/22 7:45,2020/7/27 5:05,2021/3/6 6:31,,,,,,,Future,,,,,,,,,1,gsoc2020,,,,,See https://github.com/coreos/jetcd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:12.9,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Jul 27 05:05:11 UTC 2020,,,,,,,,0|i31d5z:,9.22337E+18,,,,,,,,,,,,,,,13/Jan/17 09:55;acosentino;Still waiting for the first stable release.,"26/Aug/17 09:31;acosentino;First release is out

https://github.com/coreos/jetcd/releases

","25/Feb/20 11:26;manonthegithub;Hello! I'd like to participate in GSoC, and can work on this component as well!","28/Feb/20 10:00;zregvart;[~manonthegithub] perfect, make sure you compile all the issues you consider undertaking in the project proposal.",26/Jul/20 19:58;aryankoul;Hi! I would like to work on this issue.,26/Jul/20 20:49;bedla;Hi. Small part is being implemented in [https://github.com/apache/camel/pull/3983] . I would suggest to wait until it is merged and continue from there.,27/Jul/20 05:05;aryankoul;Okay.,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-netty4-http - to support HTTP/2 with an endpoint option,CAMEL-10191,12992926,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,zhfeng,raulvk,raulvk,2016/7/27 13:37,2019/10/29 1:14,2021/3/6 6:31,,,,,,,,,camel-netty4-http,,,,,,,0,,,,,,See: https://github.com/netty/netty/tree/4.1/codec-http2.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,37:18.0,,,,,,,,0|i31kjz:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support use of junit rules for spring test support,CAMEL-10220,12994858,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davidkarlsen,davidkarlsen,2016/8/4 10:33,2019/8/6 8:21,2021/3/6 6:31,,,,,,,Future,,camel-spring,camel-test,,,,,,0,,,,,,"It would be nice if the spring test support in camel-test-spring was realized as junit-rules instead of the runner so that runners can be freed for use with Parameterized etc.
See
http://blog.codeleak.pl/2015/08/parameterized-integration-tests-with.html
http://docs.spring.io/spring-framework/docs/4.3.2.RELEASE/spring-framework-reference/htmlsingle/#testcontext-junit4-rules",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,56:17.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 25 13:56:17 UTC 2019,,,,,,,,0|i31wh3:,9.22337E+18,,,,,,,,,,,,,,,25/Jul/19 13:56;davsclaus;[~aldettinger] is this something you also look at in your junit5 research/prototype,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Complete support to API Docker,CAMEL-10330,13006178,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,fabryprog,fabryprog,2016/9/20 13:07,2019/8/6 8:24,2021/3/6 6:31,,2.18.0,,,,,,,camel-docker,,,,,,,0,docker,,,,,"Today, through the work of the CAMEL-10307 the docker-java library it has been updated. 

A open this jira to complete work by covering the services still not available (for example ""docker swarm"")

Note: i will do it soon as possible
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,10:21.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Sep 21 07:10:20 UTC 2016,,,,,,,,0|i33u9z:,9.22337E+18,,,,,,,,,,,,,,,"21/Sep/16 07:10;davsclaus;Fabrizio, you can now self assign tickets in JIRA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-asterisk - Complete AMI features,CAMEL-10336,13006505,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,fabryprog,fabryprog,2016/9/21 14:09,2019/8/6 8:24,2021/3/6 6:31,,2.18.0,,,,,,,camel-asterisk,,,,,,,0,,,,,,"After resolution of CAMEL-10321 apache camel have a new component: ""camel-asterisk"".

This initial release support a little subset of AMI API

This issue to remember me to insert new functionalities.

http://www.voip-info.org/wiki/view/Asterisk+manager+API",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:35.0,,,,,,,,0|i33waf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable Hazelcast Distributed Computing,CAMEL-10353,13008255,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,fabryprog,fabryprog,2016/9/28 14:52,2019/8/6 8:25,2021/3/6 6:31,,,,,,,,,camel-hazelcast,,,,,,,0,,,,,,"Add the ability to execute distributed task through Hazelcast Cluster

http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#distributed-computing",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,15:54.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon May 15 09:27:09 UTC 2017,,,,,,,,0|i34727:,9.22337E+18,,,,,,,,,,,,,,,09/May/17 09:15;lb;[~fabryprog] any update on this so we can eventually include it in the next release cycle ?,"15/May/17 09:27;fabryprog;Hello luca, 
Sure, Give me 2 weeks to resolve this issue!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve documentation detailing websocket implementation details,CAMEL-10497,13021752,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,singram777,singram777,2016/11/18 13:32,2020/2/28 9:22,2021/3/6 6:31,,2.18.0,,,,,Future,,camel-websocket,documentation,,,,,,0,help-wanted,,,,,"Improve behavior documentation of this component, specifically around port workflows.

While the initial port can be declaratively exposed for clients to connect the component opens up two random(?) ports per client connected rather than communicate through the single exposed port declared.

This was not apparent from the documentation and makes this component somewhat inappropriate for containerization which would be useful to consider when evaluating the 3 websocket implementations currently available for Camel.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,42:58.8,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Apr 18 07:43:59 UTC 2017,,,,,,,,0|i36i67:,9.22337E+18,,,,,,,,,,,,,,,"21/Nov/16 09:42;davsclaus;Contributions is welcome to update the docs at
https://github.com/apache/camel/blob/master/components/camel-websocket/src/main/docs/websocket-component.adoc","04/Apr/17 08:24;onders;[~singram777] I am not sure i understand what you require in camel-websocket documents.As far as i can see, if port specified, the component uses it, otherwise default port 9292 is in use.",10/Apr/17 06:26;onders;[~singram777] any commen?,"10/Apr/17 15:50;singram777;Apologies for the slow response.

To clarify on the issue.  The port specified is indeed the primary port used.  However the implementation requires 2 other ports per client connection which was unexpected.
The effect of this is that if you are running locally and have no network restrictions this implementation detail is invisible.
However if you put this in say a container with the primary port specified it does not work because the 2 other ports are not exposed to traffic.
This is particularly difficult as the 2 ports created per client connection are random.

This was not clear in the documentation and took some time to discover, hence the request to note it in the documentation which may be important selection criteria for another developer looking at this solution.

Let me know if this make sense.
Thanks for taking a look.","18/Apr/17 07:43;onders;[~singram777]i got what you mean. however, i can not verify that i can see what you meant in the code. if you could provide test env or steps that i can reproduce, i can provide better documentation (i just don't want to add a simple statement to adoc and close the issue.) or why don't you create github PR if you are already able to test and see the issue and maybe you can do a blog post about your experience?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-infinispan - Add docs about aggregation repository ,CAMEL-10631,13029661,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,acosentino,davsclaus,davsclaus,2016/12/21 8:17,2016/12/21 8:18,2021/3/6 6:31,,,,,,,Future,,camel-infinispan,,,,,,,0,,,,,,"We should document the aggregation repository we have which is both local and remote, and also recoverable
https://github.com/apache/camel/tree/master/components/camel-infinispan/src/test/java/org/apache/camel/component/infinispan/processor/aggregate

In the docs at
https://github.com/apache/camel/blob/master/components/camel-infinispan/src/main/docs/infinispan-component.adoc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,17:57.0,,,,,,,,0|i37uzb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow to configure component alias to use a common name for a series of components,CAMEL-10651,13030371,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,njiang,davsclaus,davsclaus,2016/12/23 12:41,2019/8/6 9:23,2021/3/6 6:31,,,,,,,,,camel-core,,,,,,,0,,,,,,"So with Camel we have a number of HTTP clients, and it would be nice if we can allow users to just use ""http"" as the component name, in their urls.

And then we let Camel figure out which of those clients are on the classpath and uses that, eg you can tell Camel to look in this order

camel.component.alias.http=http,http4,jetty-http,...

And this should be supported in camel-sprint-boot and outside as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 09:23:38 UTC 2019,,,,,,,,0|i37zd3:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 09:23;davsclaus;It helps a bit with camel 3 that http4 is now renamed to http,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a component for Kafka-Stream,CAMEL-10652,13030377,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,acosentino,acosentino,2016/12/23 13:31,2020/7/27 8:16,2021/3/6 6:31,,,,,,,Future,,camel-kafka,,,,,,,0,gsoc2020,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,10:32.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Jul 27 08:16:28 UTC 2020,,,,,,,,0|i37zef:,9.22337E+18,,,,,,,,,,,,,,,"22/Feb/17 13:58;acosentino;I'll take a look here too, I have no idea for the moment :-)","24/Feb/20 06:10;gabru-md;Hi! I saw that this is a project Idea for Google Summer of Code and would love to work on it.

Can you please help me a bit to get started with what has to be achieved?

Thanks","25/Feb/20 11:25;manonthegithub;I'd like to contribute too as GSoC, in case Manish will have problems or drops it.","27/Feb/20 02:15;manonthegithub;Manish doesn't mind if I do the component, so I have a few questions.
Kafka stream supports not only consuming and producing messages, but lots of transformations. As I understand implementing transformations in the component is not needed (as it is done in camel Producers), so the main things to be implemented are raw Producer and Consumer (as a part of Endpoint and Component), and may them as universal a possible. Therefore the transformation part of Kafka Streams is not a concern. Is that right?","28/Feb/20 09:57;zregvart;I don't know much about Kafka so bare that in mind. I think having a component that just supports Kafka Streams as is is the goal here. The transformation or any other processing would be left to Camel itself. The end result for the users, from what I understand, would be akin to writing a Kafka Streams application but using Camel as an underlying framework. We should evaluate what trade-offs users need to make to write Kafka Streams application vs Camel + Kafka Streams application.","29/Mar/20 18:28;hien711;I am interested in this new feature and I participate GSoc. In case [~manonthegithub] already taken this, how should it work for other participants? I should choose another project ? Thanks :)","30/Mar/20 11:10;dmvolod;Hi [~hien711] you can choose another issue marked with gsoc2020 label or ask community for selecting some another issues for you.

We have a set of free issues for selection.","20/Jul/20 06:46;aryankoul;Hi,

I am interested in working on this issue. Is this still open and unassigned?","20/Jul/20 06:49;acosentino;Yes, it is.",22/Jul/20 09:01;aryankoul;kafka-streams has lot of transformation operations associated to it which take input as lambda functions. How can we handle these operations using camel component?,"22/Jul/20 09:08;omarsmak;Honestly, I am still sceptic about the feasibility of having Kafka Streams as Camel component as KStreams has different purpose for transformations. [~acosentino] any use case where you see Kafka Streams is feasible as Camel component? ","22/Jul/20 09:11;acosentino;Yes, to me there is always the possibility for new component I don't think it's not feasible. ",22/Jul/20 09:12;acosentino;btw this was just a placeholder for discussing. What are the cons in your opinion and why you think it's not feasible or useful?,"22/Jul/20 09:36;omarsmak;Kafka Streams IMHO serves the purpose of transformations like aggregation or joining .. etc that is very strong depending on Kafka broker for all intermediate operations as well as the final output and input, hence I still can't find a good use case for it as camel component.
Maybe it could be added as camel aggregator perhaps? But we shouldn't forget, input and output has to be kafka topics.

However, I see it more useful to us in terms of camel-kafka-connector, you can argue since camel-kafka-connectors live within Kafka ecosystem, we can build a DSL abstraction in top of Kafka Streams and Camel processors as I mentioned here: https://github.com/apache/camel-kafka-connector/issues/23. 

This is only my opinion on this :) ",22/Jul/20 09:49;acosentino;Maybe we need some more discussion with [~aryankoul],"22/Jul/20 15:53;aryankoul;Apache camel already has camel-kafka component.  Likewise, it makes sense to make a component for streams API as well.  It will make it easier for user to send or receive stream data transform it and then pass it on to other component for further processing.

Also,  I dont know much about camel-kafka-connector. I'll check it out.","26/Jul/20 17:20;aryankoul;[~omarsmak] Please correct me if i am wrong but as far as i have read, the streams API is completely completely decoupled from kafka broker and all the processing is done on the machine where it is called, by making its own producer and consumer. And also that the input is taken from a kafka topic but the output doesn't necessarily have to be a kafka topic. ","26/Jul/20 17:29;aryankoul;Instead, i am kinda skeptical whether it will be possible to create complex processor topologies using kafka stream in the form of a camel component or not.","27/Jul/20 08:16;omarsmak;[~aryankoul] yes you are right, the streams API process can run anywhere. However, it uses Kafka broker as backing store for all intermediate operations, for example joining two streams may require as first step a re-key for the keys, the output of that re-key process will be in written into intermediate topic in kafka. As well as taking the input streams and writing streams, all these streams are indeed kafka topics, therefore strong coupling there with Kafka broker.
The output most times is a kafka topic or a depending on what you specify. 
",,,,,,,,,,,,,,,
Add support for SaltyRTC,CAMEL-10669,13031639,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,tdiesler,tdiesler,2017/1/3 11:46,2017/1/3 11:55,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"SaltyRTC is an end-to-end encrypted signalling protocol. It offers to freely choose from a range of signalling tasks, such as setting up a WebRTC or ORTC peer-to-peer connection. SaltyRTC is completely open to new and custom signalling tasks for everything feasible.

https://saltyrtc.org/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:15.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Jan 03 11:55:15 UTC 2017,,,,,,,,0|i3876f:,9.22337E+18,,,,,,,,,,,,,,,03/Jan/17 11:46;tdiesler;I would take a first stab at this,03/Jan/17 11:55;acosentino;Great :-),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Let's take a look at implementing Saga pattern possibly with Axon framework,CAMEL-10706,13034732,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ceposta,ceposta,2017/1/13 17:06,2019/8/6 9:26,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,Have had some asks about Saga pattern and using Camel to implement that. Axon framework seems to have some support we may be able to plug into the camel route lifecycle. ,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-10742,CAMEL-11665,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,06:51.0,,,,,,,,0|i38ogv:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create camel-axon component,CAMEL-10742,13037613,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/1/25 8:17,2019/8/6 9:26,2021/3/6 6:31,,,,,,,Future,,,,,,,,,2,,,,,,"http://www.axonframework.org/
https://github.com/AxonFramework/AxonFramework",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-11665,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,17:58.0,,,,,,,,0|i39687:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Base undertow component on http-common,CAMEL-10803,13041056,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2017/2/7 17:59,2019/4/15 12:02,2021/3/6 6:31,,2.19.0,,,,,,,camel-undertow,,,,,,,0,,,,,,"To facilitate reuse, the Undertow component should be based on http-common component.
The `UndertowComponent` should extend `HttpCommonComponent` and `UndertowEndpoint` should extend `HttpCommonEndpoint`.
Following that options defined in the http-common component should be also supported in the Undertow component.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,06:48.5,,,FALSE,,,,,Unknown,,,,,,,,,Patch,,,,,,,,9.22337E+18,,,Mon Apr 15 12:02:24 UTC 2019,,,,Patch Available,,,,0|i39qif:,9.22337E+18,,,,,,,,,,,,,,,"07/Feb/17 18:06;githubbot;GitHub user zregvart opened a pull request:

    https://github.com/apache/camel/pull/1450

    CAMEL-10803 Base undertow component on http-common

    # Please don't merge
    
    I would like some feedback on this first. Still to do:
    - [x] Make `UndertowComponent` and `UndertowEndpoint` extend `HttpCommonComponent` and `HttpCommonEndpoint`
    - [ ] Implement support for options from `http-common` component

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/zregvart/camel CAMEL-10803

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/1450.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1450
    
----

----
","11/May/18 10:38;githubbot;zregvart closed pull request #1450: CAMEL-10803 Base undertow component on http-common
URL: https://github.com/apache/camel/pull/1450
 
 
   

This is a PR merged from a forked repository.
As GitHub hides the original diff on merge, it is displayed below for
the sake of provenance:

As this is a foreign pull request (from a fork), the diff is supplied
below (as it won't show otherwise due to GitHub magic):

diff --git a/components/camel-undertow/src/main/docs/undertow-component.adoc b/components/camel-undertow/src/main/docs/undertow-component.adoc
index 68fdea4fde9..5de51f9bdf5 100644
--- a/components/camel-undertow/src/main/docs/undertow-component.adoc
+++ b/components/camel-undertow/src/main/docs/undertow-component.adoc
@@ -38,7 +38,7 @@ You can append query options to the URI in the following format,
 
 
 // component options: START
-The Undertow component supports 4 options which are listed below.
+The Undertow component supports 8 options which are listed below.
 
 
 
@@ -48,6 +48,10 @@ The Undertow component supports 4 options which are listed below.
 | **undertowHttpBinding** (advanced) | To use a custom HttpBinding to control the mapping between Camel message and HttpClient. |  | UndertowHttpBinding
 | **sslContextParameters** (security) | To configure security using SSLContextParameters |  | SSLContextParameters
 | **hostOptions** (advanced) | To configure common options such as thread pools |  | UndertowHostOptions
+| **httpBinding** (advanced) | To use a custom HttpBinding to control the mapping between Camel message and HttpClient. |  | HttpBinding
+| **httpConfiguration** (advanced) | To use the shared HttpConfiguration as base configuration. |  | HttpConfiguration
+| **allowJavaSerialized Object** (advanced) | Whether to allow java serialization when a request uses context-type=application/x-java-serialized-object. This is by default turned off. If you enable this then be aware that Java will deserialize the incoming data from the request to Java and that can be a potential security risk. | false | boolean
+| **headerFilterStrategy** (filter) | To use a custom org.apache.camel.spi.HeaderFilterStrategy to filter header to and from Camel message. |  | HeaderFilterStrategy
 | **resolveProperty Placeholders** (advanced) | Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders. | true | boolean
 |=======================================================================
 // component options: END
@@ -70,30 +74,63 @@ with the following path and query parameters:
 [width=""100%"",cols=""2,5,^1,2"",options=""header""]
 |=======================================================================
 | Name | Description | Default | Type
-| **httpURI** | *Required* The url of the HTTP endpoint to use. |  | URI
+| **httpUri** | *Required* The url of the HTTP endpoint to call. |  | URI
 |=======================================================================
 
-#### Query Parameters (17 parameters):
+#### Query Parameters (50 parameters):
 
 [width=""100%"",cols=""2,5,^1,2"",options=""header""]
 |=======================================================================
 | Name | Description | Default | Type
+| **chunked** (common) | If this option is false the Servlet will disable the HTTP streaming and set the content-length header on the response | true | boolean
+| **disableStreamCache** (common) | Determines whether or not the raw input stream from Servlet is cached or not (Camel will read the stream into a in memory/overflow to file Stream caching) cache. By default Camel will cache the Servlet input stream to support reading it multiple times to ensure it Camel can retrieve all data from the stream. However you can set this option to true when you for example need to access the raw stream such as streaming it directly to a file or other persistent store. DefaultHttpBinding will copy the request input stream into a stream cache and put it into message body if this option is false to support reading the stream multiple times. If you use Servlet to bridge/proxy an endpoint then consider enabling this option to improve performance in case you do not need to read the message payload multiple times. The http/http4 producer will by default cache the response body stream. If setting this option to true then the producers will not cache the response body stream but use the response stream as-is as the message body. | false | boolean
+| **headerFilterStrategy** (common) | To use a custom HeaderFilterStrategy to filter header to and from Camel message. |  | HeaderFilterStrategy
+| **transferException** (common) | If enabled and an Exchange failed processing on the consumer side and if the caused Exception was send back serialized in the response as a application/x-java-serialized-object content type. On the producer side the exception will be deserialized and thrown as is instead of the HttpOperationFailedException. The caused exception is required to be serialized. This is by default turned off. If you enable this then be aware that Java will deserialize the incoming data from the request to Java and that can be a potential security risk. | false | boolean
+| **httpBinding** (common) | To use a custom HttpBinding to control the mapping between Camel message and HttpClient. |  | HttpBinding
+| **async** (consumer) | Configure the consumer to work in async mode | false | boolean
 | **bridgeErrorHandler** (consumer) | Allows for bridging the consumer to the Camel routing Error Handler which mean any exceptions occurred while the consumer is trying to pickup incoming messages or the likes will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions that will be logged at WARN or ERROR level and ignored. | false | boolean
 | **httpMethodRestrict** (consumer) | Used to only allow consuming if the HttpMethod matches such as GET/POST/PUT etc. Multiple methods can be specified separated by comma. |  | String
-| **matchOnUriPrefix** (consumer) | Whether or not the consumer should try to find a target consumer by matching the URI prefix if no exact match is found. | true | Boolean
-| **optionsEnabled** (consumer) | Specifies whether to enable HTTP OPTIONS for this Servlet consumer. By default OPTIONS is turned off. | false | boolean
+| **matchOnUriPrefix** (consumer) | Whether or not the consumer should try to find a target consumer by matching the URI prefix if no exact match is found. | false | boolean
+| **responseBufferSize** (consumer) | To use a custom buffer size on the javax.servlet.ServletResponse. |  | Integer
+| **eagerCheckContentAvailable** (consumer) | Whether to eager check whether the HTTP requests has content if the content-length header is 0 or not present. This can be turned on in case HTTP clients do not send streamed data. | false | boolean
 | **exceptionHandler** (consumer) | To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions that will be logged at WARN or ERROR level and ignored. |  | ExceptionHandler
 | **exchangePattern** (consumer) | Sets the exchange pattern when the consumer creates an exchange. |  | ExchangePattern
-| **cookieHandler** (producer) | Configure a cookie handler to maintain a HTTP session |  | CookieHandler
+| **optionsEnabled** (consumer) | Specifies whether to enable HTTP OPTIONS for this Servlet consumer. By default OPTIONS is turned off. | false | boolean
+| **traceEnabled** (consumer) | Specifies whether to enable HTTP TRACE for this Servlet consumer. By default TRACE is turned off. | false | boolean
+| **bridgeEndpoint** (producer) | If the option is true HttpProducer will ignore the Exchange.HTTP_URI header and use the endpoint's URI for request. You may also set the option throwExceptionOnFailure to be false to let the HttpProducer send all the fault response back. | false | boolean
+| **connectionClose** (producer) | Specifies whether a Connection Close header must be added to HTTP Request. By default connectionClose is false. | false | boolean
+| **copyHeaders** (producer) | If this option is true then IN exchange headers will be copied to OUT exchange headers according to copy strategy. Setting this to false allows to only include the headers from the HTTP response (not propagating IN headers). | true | boolean
+| **httpMethod** (producer) | Configure the HTTP method to use. The HttpMethod header cannot override this option if set. |  | HttpMethods
+| **ignoreResponseBody** (producer) | If this option is true The http producer won't read response body and cache the input stream | false | boolean
 | **keepAlive** (producer) | Setting to ensure socket is not closed due to inactivity | true | Boolean
 | **options** (producer) | Sets additional channel options. The options that can be used are defined in org.xnio.Options. To configure from endpoint uri then prefix each option with option. such as option.close-abort=true&option.send-buffer=8192 |  | Map
+| **preserveHostHeader** (producer) | If the option is true HttpProducer will set the Host header to the value contained in the current exchange Host header useful in reverse proxy applications where you want the Host header received by the downstream server to reflect the URL called by the upstream client this allows applications which use the Host header to generate accurate URL's for a proxied service | false | boolean
 | **reuseAddresses** (producer) | Setting to facilitate socket multiplexing | true | Boolean
 | **tcpNoDelay** (producer) | Setting to improve TCP protocol performance | true | Boolean
-| **throwExceptionOnFailure** (producer) | If the option is true HttpProducer will ignore the Exchange.HTTP_URI header and use the endpoint's URI for request. You may also set the option throwExceptionOnFailure to be false to let the producer send all the fault response back. | true | Boolean
-| **transferException** (producer) | Option to disable throwing the HttpOperationFailedException in case of failed responses from the remote server. This allows you to get all responses regardless of the HTTP status code. | false | Boolean
-| **headerFilterStrategy** (advanced) | To use a custom HeaderFilterStrategy to filter header to and from Camel message. |  | HeaderFilterStrategy
+| **throwExceptionOnFailure** (producer) | Option to disable throwing the HttpOperationFailedException in case of failed responses from the remote server. This allows you to get all responses regardless of the HTTP status code. | true | boolean
+| **cookieHandler** (producer) | Configure a cookie handler to maintain a HTTP session |  | CookieHandler
+| **okStatusCodeRange** (producer) | The status codes which is considered a success response. The values are inclusive. The range must be defined as from-to with the dash included. | 200-299 | String
+| **urlRewrite** (producer) | Refers to a custom org.apache.camel.component.http.UrlRewrite which allows you to rewrite urls when you bridge/proxy endpoints. See more details at http://camel.apache.org/urlrewrite.html |  | UrlRewrite
+| **mapHttpMessageBody** (advanced) | If this option is true then IN exchange Body of the exchange will be mapped to HTTP body. Setting this to false will avoid the HTTP mapping. | true | boolean
+| **mapHttpMessageFormUrl EncodedBody** (advanced) | If this option is true then IN exchange Form Encoded body of the exchange will be mapped to HTTP. Setting this to false will avoid the HTTP Form Encoded body mapping. | true | boolean
+| **mapHttpMessageHeaders** (advanced) | If this option is true then IN exchange Headers of the exchange will be mapped to HTTP headers. Setting this to false will avoid the HTTP Headers mapping. | true | boolean
 | **synchronous** (advanced) | Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported). | false | boolean
 | **undertowHttpBinding** (advanced) | To use a custom UndertowHttpBinding to control the mapping between Camel message and undertow. |  | UndertowHttpBinding
+| **proxyAuthDomain** (proxy) | Proxy authentication domain to use with NTML |  | String
+| **proxyAuthHost** (proxy) | Proxy authentication host |  | String
+| **proxyAuthMethod** (proxy) | Proxy authentication method to use |  | String
+| **proxyAuthPassword** (proxy) | Proxy authentication password |  | String
+| **proxyAuthPort** (proxy) | Proxy authentication port |  | int
+| **proxyAuthScheme** (proxy) | Proxy authentication scheme to use |  | String
+| **proxyAuthUsername** (proxy) | Proxy authentication username |  | String
+| **proxyHost** (proxy) | Proxy hostname to use |  | String
+| **proxyPort** (proxy) | Proxy port to use |  | int
+| **authDomain** (security) | Authentication domain to use with NTML |  | String
+| **authHost** (security) | Authentication host to use with NTML |  | String
+| **authMethod** (security) | Authentication methods allowed to use as a comma separated list of values Basic Digest or NTLM. |  | String
+| **authMethodPriority** (security) | Which authentication method to prioritize to use either as Basic Digest or NTLM. |  | String
+| **authPassword** (security) | Authentication password |  | String
+| **authUsername** (security) | Authentication username |  | String
 | **sslContextParameters** (security) | To configure security using SSLContextParameters |  | SSLContextParameters
 |=======================================================================
 // endpoint options: END
diff --git a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/DefaultUndertowHttpBinding.java b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/DefaultUndertowHttpBinding.java
index 6b28f2a5ae2..e670d00e1df 100644
--- a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/DefaultUndertowHttpBinding.java
+++ b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/DefaultUndertowHttpBinding.java
@@ -162,9 +162,9 @@ public void populateCamelHeaders(HttpServerExchange httpExchange, Map<String, Ob
 
         String path = httpExchange.getRequestPath();
         UndertowEndpoint endpoint = (UndertowEndpoint) exchange.getFromEndpoint();
-        if (endpoint.getHttpURI() != null) {
+        if (ObjectHelper.isNotEmpty(endpoint.getHttpUri())) {
             // need to match by lower case as we want to ignore case on context-path
-            String endpointPath = endpoint.getHttpURI().getPath();
+            String endpointPath = endpoint.getHttpUri().getPath();
             String matchPath = path.toLowerCase(Locale.US);
             String match = endpointPath.toLowerCase(Locale.US);
             if (match != null && matchPath.startsWith(match)) {
@@ -285,7 +285,7 @@ public Object toHttpResponse(HttpServerExchange httpExchange, Message message) t
 
         int code = message.getHeader(Exchange.HTTP_RESPONSE_CODE, defaultCode, int.class);
 
-        httpExchange.setResponseCode(code);
+        httpExchange.setStatusCode(code);
 
         TypeConverter tc = message.getExchange().getContext().getTypeConverter();
 
diff --git a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/RestUndertowHttpBinding.java b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/RestUndertowHttpBinding.java
index c99487153f4..0f83479f7f1 100644
--- a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/RestUndertowHttpBinding.java
+++ b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/RestUndertowHttpBinding.java
@@ -36,7 +36,7 @@ public void populateCamelHeaders(HttpServerExchange httpExchange, Map<String, Ob
         // so we need to map those placeholders with data from the incoming request context path
 
         UndertowEndpoint endpoint = (UndertowEndpoint) exchange.getFromEndpoint();
-        String consumerPath = endpoint.getHttpURI().getPath();
+        String consumerPath = endpoint.getHttpUri().getPath();
 
         if (useRestMatching(consumerPath)) {
 
diff --git a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowClientCallback.java b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowClientCallback.java
index d9c648535fb..d4d9a0c9d81 100644
--- a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowClientCallback.java
+++ b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowClientCallback.java
@@ -117,7 +117,7 @@ public void failed(final IOException e) {
         this.endpoint = endpoint;
         this.request = request;
         this.body = body;
-        throwExceptionOnFailure = endpoint.getThrowExceptionOnFailure();
+        throwExceptionOnFailure = endpoint.isThrowExceptionOnFailure();
     }
 
     @Override
diff --git a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowComponent.java b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowComponent.java
index 09d2ee05fce..ac29d5e65c2 100644
--- a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowComponent.java
+++ b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowComponent.java
@@ -28,7 +28,7 @@
 import org.apache.camel.Endpoint;
 import org.apache.camel.Processor;
 import org.apache.camel.Producer;
-import org.apache.camel.impl.UriEndpointComponent;
+import org.apache.camel.http.common.HttpCommonComponent;
 import org.apache.camel.spi.Metadata;
 import org.apache.camel.spi.RestApiConsumerFactory;
 import org.apache.camel.spi.RestConfiguration;
@@ -42,15 +42,11 @@
 import org.apache.camel.util.URISupport;
 import org.apache.camel.util.UnsafeUriCharactersEncoder;
 import org.apache.camel.util.jsse.SSLContextParameters;
-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
 
 /**
  * Represents the component that manages {@link UndertowEndpoint}.
  */
-public class UndertowComponent extends UriEndpointComponent implements RestConsumerFactory, RestApiConsumerFactory, RestProducerFactory {
-    private static final Logger LOG = LoggerFactory.getLogger(UndertowEndpoint.class);
-
+public class UndertowComponent extends HttpCommonComponent implements RestConsumerFactory, RestApiConsumerFactory, RestProducerFactory {
     private Map<UndertowHostKey, UndertowHost> undertowRegistry = new ConcurrentHashMap<UndertowHostKey, UndertowHost>();
 
     @Metadata(label = ""advanced"")
@@ -100,13 +96,15 @@ protected Endpoint createEndpoint(String uri, String remaining, Map<String, Obje
                         uriHttpUriAddress.getQuery(),
                         uriHttpUriAddress.getFragment()),
                 parameters);
-        endpoint.setHttpURI(httpUri);
+
+        // the one set via createEndpointInstance is null, we need to set the value now
+        endpoint.setHttpUri(httpUri);
 
         return endpoint;
     }
 
     protected UndertowEndpoint createEndpointInstance(URI endpointUri, UndertowComponent component) throws URISyntaxException {
-        return new UndertowEndpoint(endpointUri.toString(), component);
+        return new UndertowEndpoint(endpointUri.toString(), component, null);
     }
 
     @Override
@@ -270,7 +268,7 @@ protected void doStart() throws Exception {
     }
 
     public void registerConsumer(UndertowConsumer consumer) {
-        URI uri = consumer.getEndpoint().getHttpURI();
+        URI uri = consumer.getEndpoint().getHttpUri();
         UndertowHostKey key = new UndertowHostKey(uri.getHost(), uri.getPort(), consumer.getEndpoint().getSslContext());
         UndertowHost host = undertowRegistry.get(key);
         if (host == null) {
@@ -282,7 +280,7 @@ public void registerConsumer(UndertowConsumer consumer) {
     }
 
     public void unregisterConsumer(UndertowConsumer consumer) {
-        URI uri = consumer.getEndpoint().getHttpURI();
+        URI uri = consumer.getEndpoint().getHttpUri();
         UndertowHostKey key = new UndertowHostKey(uri.getHost(), uri.getPort(), consumer.getEndpoint().getSslContext());
         UndertowHost host = undertowRegistry.get(key);
         host.unregisterHandler(consumer.getHttpHandlerRegistrationInfo());
diff --git a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowConsumer.java b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowConsumer.java
index 817eb6e2f38..ebb4bc50486 100644
--- a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowConsumer.java
+++ b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowConsumer.java
@@ -17,9 +17,14 @@
 package org.apache.camel.component.undertow;
 
 import java.io.IOException;
+import java.io.InputStream;
 import java.nio.ByteBuffer;
+import java.nio.channels.Channels;
+import java.nio.channels.ReadableByteChannel;
 
 import io.undertow.Handlers;
+import io.undertow.io.IoCallback;
+import io.undertow.io.Sender;
 import io.undertow.server.HttpHandler;
 import io.undertow.server.HttpServerExchange;
 import io.undertow.server.handlers.form.EagerFormParsingHandler;
@@ -28,18 +33,24 @@
 import io.undertow.util.Methods;
 import io.undertow.util.MimeMappings;
 import io.undertow.util.StatusCodes;
+
 import org.apache.camel.Exchange;
+import org.apache.camel.InvalidPayloadException;
+import org.apache.camel.Message;
 import org.apache.camel.Processor;
 import org.apache.camel.TypeConverter;
 import org.apache.camel.impl.DefaultConsumer;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
+import org.xnio.IoUtils;
 
 /**
  * The Undertow consumer which is also an Undertow HttpHandler implementation to handle incoming request.
  */
 public class UndertowConsumer extends DefaultConsumer implements HttpHandler {
 
+    static final int CHUNK_BUFF_SIZE = 1024 * 1024;
+
     private static final Logger LOG = LoggerFactory.getLogger(UndertowConsumer.class);
 
     private HttpHandlerRegistrationInfo registrationInfo;
@@ -70,9 +81,9 @@ public HttpHandlerRegistrationInfo getHttpHandlerRegistrationInfo() {
             UndertowEndpoint endpoint = getEndpoint();
 
             registrationInfo = new HttpHandlerRegistrationInfo();
-            registrationInfo.setUri(endpoint.getHttpURI());
+            registrationInfo.setUri(endpoint.getHttpUri());
             registrationInfo.setMethodRestrict(endpoint.getHttpMethodRestrict());
-            registrationInfo.setMatchOnUriPrefix(endpoint.getMatchOnUriPrefix());
+            registrationInfo.setMatchOnUriPrefix(endpoint.isMatchOnUriPrefix());
         }
         return registrationInfo;
     }
@@ -88,10 +99,12 @@ public HttpHandler getHttpHandler() {
     public void handleRequest(HttpServerExchange httpExchange) throws Exception {
         HttpString requestMethod = httpExchange.getRequestMethod();
 
-        if (Methods.OPTIONS.equals(requestMethod) && !getEndpoint().isOptionsEnabled()) {
+        final UndertowEndpoint endpoint = getEndpoint();
+        final Sender responseSender = httpExchange.getResponseSender();
+        if (Methods.OPTIONS.equals(requestMethod) && !endpoint.isOptionsEnabled()) {
             String allowedMethods;
-            if (getEndpoint().getHttpMethodRestrict() != null) {
-                allowedMethods = ""OPTIONS,"" + getEndpoint().getHttpMethodRestrict();
+            if (endpoint.getHttpMethodRestrict() != null) {
+                allowedMethods = ""OPTIONS,"" + endpoint.getHttpMethodRestrict();
             } else {
                 allowedMethods = ""GET,HEAD,POST,PUT,DELETE,TRACE,OPTIONS,CONNECT,PATCH"";
             }
@@ -100,7 +113,7 @@ public void handleRequest(HttpServerExchange httpExchange) throws Exception {
             httpExchange.getResponseHeaders().put(ExchangeHeaders.CONTENT_TYPE, MimeMappings.DEFAULT_MIME_MAPPINGS.get(""txt""));
             httpExchange.getResponseHeaders().put(ExchangeHeaders.CONTENT_LENGTH, 0);
             httpExchange.getResponseHeaders().put(Headers.ALLOW, allowedMethods);
-            httpExchange.getResponseSender().close();
+            responseSender.close();
             return;
         }
 
@@ -112,7 +125,7 @@ public void handleRequest(HttpServerExchange httpExchange) throws Exception {
 
         //create new Exchange
         //binding is used to extract header and payload(if available)
-        Exchange camelExchange = getEndpoint().createExchange(httpExchange);
+        Exchange camelExchange = endpoint.createExchange(httpExchange);
 
         //Unit of Work to process the Exchange
         createUoW(camelExchange);
@@ -125,27 +138,130 @@ public void handleRequest(HttpServerExchange httpExchange) throws Exception {
         }
 
         Object body = getResponseBody(httpExchange, camelExchange);
-        TypeConverter tc = getEndpoint().getCamelContext().getTypeConverter();
+        TypeConverter tc = endpoint.getCamelContext().getTypeConverter();
 
         if (body == null) {
             LOG.trace(""No payload to send as reply for exchange: "" + camelExchange);
             httpExchange.getResponseHeaders().put(ExchangeHeaders.CONTENT_TYPE, MimeMappings.DEFAULT_MIME_MAPPINGS.get(""txt""));
-            httpExchange.getResponseSender().send(""No response available"");
+            responseSender.send(""No response available"");
+
+            return;
+        }
+
+        final Message message = fetchMessage(camelExchange);
+        final boolean chunked = message.getHeader(Exchange.HTTP_CHUNKED, endpoint.isChunked(), Boolean.class);
+        if (chunked) {
+            sendChunked(responseSender, message);
         } else {
             ByteBuffer bodyAsByteBuffer = tc.convertTo(ByteBuffer.class, body);
-            httpExchange.getResponseSender().send(bodyAsByteBuffer);
+            responseSender.send(bodyAsByteBuffer);
         }
-        httpExchange.getResponseSender().close();
     }
 
-    private Object getResponseBody(HttpServerExchange httpExchange, Exchange camelExchange) throws IOException {
-        Object result;
-        if (camelExchange.hasOut()) {
-            result = getEndpoint().getUndertowHttpBinding().toHttpResponse(httpExchange, camelExchange.getOut());
+    /**
+     * Sends the given message body as HTTP/1.1 chunked transfer.
+     *
+     * @param responseSender
+     *            Undertow {@link Sender} to transfer the body to
+     * @param message
+     *            Camel message from which the body is sent
+     * @throws InvalidPayloadException
+     *             if the message does not contain a body of {@link ReadableByteChannel} or {@link InputStream} type
+     * @throws IOException
+     */
+    void sendChunked(final Sender responseSender, final Message message) throws InvalidPayloadException, IOException {
+        final Object body = message.getBody();
+
+        if (body instanceof ReadableByteChannel) {
+            sendChunked(responseSender, (ReadableByteChannel) body);
         } else {
-            result = getEndpoint().getUndertowHttpBinding().toHttpResponse(httpExchange, camelExchange.getIn());
+            final InputStream stream = message.getMandatoryBody(InputStream.class);
+
+            sendChunked(responseSender, Channels.newChannel(stream));
         }
-        return result;
+    }
+
+    /**
+     * Sends the bytes received on the {@link ReadableByteChannel} to the exchange using HTTP/1.1 chuncked transfer.
+     * 
+     * @param httpExchange
+     *            Undertow HTTP exchange to transfer upon
+     * @param channel
+     *            the channel on which the response to be sent resides
+     * @throws IOException
+     */
+    void sendChunked(final Sender responseSender, final ReadableByteChannel channel) throws IOException {
+        final ByteBuffer buffy = ByteBuffer.allocate(CHUNK_BUFF_SIZE);
+
+        final int read = channel.read(buffy);
+        if (read == -1) {
+            return;
+        }
+
+        buffy.flip();
+        final IoCallback callback = new IoCallback() {
+            @Override
+            public void onComplete(final HttpServerExchange exchange, final Sender sender) {
+                if (buffy.hasRemaining()) {
+                    sender.send(buffy, this);
+                } else {
+                    buffy.clear();
+
+                    try {
+                        final int read = channel.read(buffy);
+                        if (read == -1) {
+                            responseSender.close();
+                            return;
+                        }
+
+                        buffy.flip();
+                        sender.send(buffy, this);
+                    } catch (final IOException e) {
+                        try {
+                            handleException(""Unable to read from the given body"", e);
+                        } finally {
+                            exchange.endExchange();
+                            IoUtils.safeClose(exchange.getConnection());
+                        }
+                    }
+                }
+            }
+
+            @Override
+            public void onException(final HttpServerExchange exchange, final Sender sender,
+                    final IOException exception) {
+                try {
+                    handleException(""Unable to send response to client"", exception);
+                } finally {
+                    exchange.endExchange();
+                    IoUtils.safeClose(exchange.getConnection());
+                }
+            }
+        };
+
+        responseSender.send(buffy, callback);
+    }
+
+    /**
+     * Returns the OUT, or if not present the IN message.
+     *
+     * @param exchange
+     *            exchange containing IN or OUT messages
+     * @return OUT or IN message if OUT message is not present
+     */
+    Message fetchMessage(final Exchange exchange) {
+        if (exchange.hasOut()) {
+            return exchange.getOut();
+        } else {
+            return exchange.getIn();
+        }
+    }
+
+    Object getResponseBody(HttpServerExchange httpExchange, Exchange camelExchange) throws IOException {
+        final Message message = fetchMessage(camelExchange);
+        final UndertowHttpBinding undertowHttpBinding = getEndpoint().getUndertowHttpBinding();
+
+        return undertowHttpBinding.toHttpResponse(httpExchange, message);
     }
 
 }
diff --git a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowEndpoint.java b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowEndpoint.java
index dcd08cef015..2b946c81389 100644
--- a/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowEndpoint.java
+++ b/components/camel-undertow/src/main/java/org/apache/camel/component/undertow/UndertowEndpoint.java
@@ -20,9 +20,11 @@
 import java.net.URISyntaxException;
 import java.util.Locale;
 import java.util.Map;
+
 import javax.net.ssl.SSLContext;
 
 import io.undertow.server.HttpServerExchange;
+
 import org.apache.camel.AsyncEndpoint;
 import org.apache.camel.Consumer;
 import org.apache.camel.Exchange;
@@ -30,14 +32,10 @@
 import org.apache.camel.PollingConsumer;
 import org.apache.camel.Processor;
 import org.apache.camel.Producer;
-import org.apache.camel.http.common.cookie.CookieHandler;
-import org.apache.camel.impl.DefaultEndpoint;
-import org.apache.camel.spi.HeaderFilterStrategy;
+import org.apache.camel.http.common.HttpCommonEndpoint;
 import org.apache.camel.spi.HeaderFilterStrategyAware;
-import org.apache.camel.spi.Metadata;
 import org.apache.camel.spi.UriEndpoint;
 import org.apache.camel.spi.UriParam;
-import org.apache.camel.spi.UriPath;
 import org.apache.camel.util.jsse.SSLContextParameters;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
@@ -45,34 +43,23 @@
 import org.xnio.OptionMap;
 import org.xnio.Options;
 
+
 /**
  * The undertow component provides HTTP-based endpoints for consuming and producing HTTP requests.
  */",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Figure out how to enable the Camel Azure component tests,CAMEL-10816,13042080,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sergey_beryozkin,sergey_beryozkin,2017/2/10 14:31,2017/9/8 11:11,2021/3/6 6:31,,,,,,,Future,,tests,,,,,,,0,,,,,,"So far the possible options include:

- requesting from the Azure team to release the Azure emulator for Linux
  (and asking them to make sure it can be started not only manually - even if the emulator runs on Windows only to at least consider doing the Windows integration tests)

- seeking the test account sponsorship options, ex, ask the Azure team to create some test playground for Blob/Queue/etc which can be invoked remotely  

 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Feb 13 21:46:20 UTC 2017,,,,,,,,0|i39wtz:,9.22337E+18,,,,,,,,,,,,,,,13/Feb/17 21:46;sergey_beryozkin;One more idea is to report a bug issue against the Azure Java SDK for the 'final' qualifiers be removed which will make it simpler to cover the producer and consumer code. Will investigate,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a Google Cloud Spanner component,CAMEL-10833,13043218,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2017/2/15 10:45,2017/2/15 10:55,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:14.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 15 10:55:14 UTC 2017,,,,,,,,0|i3a3uf:,9.22337E+18,,,,,,,,,,,,,,,15/Feb/17 10:55;acosentino;+1 ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve camel-salesforce documentation,CAMEL-11001,13050541,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,zregvart,zregvart,2017/3/13 12:12,2017/3/13 12:12,2021/3/6 6:31,,2.19.0,,,,,,,camel-salesforce,,,,,,,0,easytask,help-wanted,,,,"The Camel Salesforce component contains a number of operations that are not accompanied with examples of usage or at least general usage notes: for instance what is expected in the body or header of the message.
Also general configuration getting started instructions should be provided. 
A FAQ section would be nice as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,12:09.0,,,,,,,,0|i3bbgf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a vault service to manage secrets,CAMEL-11030,13056936,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/3/17 9:00,2019/8/6 10:34,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,2,,,,,,"Lot of components these days are supposed to manage secrets such as auth tokens etc. but as there's no common support in camel each component is implementing the same concept which increase the maintenance cost.

It would be nice to have a vault service in camel-core so that components can leverage and extend it, some ideas/examples:

- to store auth tokens and delegate to the vault the notification about expiration and renewal when needed (by registering some functions/callbacks)
- to provide different backends like kubernetes secrets, hashicorp's vault,
- to provide different workflow (i.e. JSON Web Token)
- to use the vault as properties source if someone prefix a property with vault like {{vault:db.password}}

The interface should be as simple as possible.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:13.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Apr 11 09:23:55 UTC 2019,,,,,,,,0|i3cexj:,9.22337E+18,,,,,,,,,,,,,,,"17/Mar/17 11:55;zregvart;I would like to see support for injecting secrets into component/endpoint configuration, for instance in {{@Metadata}} or a new annotation {{@Credentials}}, a simple interface that the Component or Endpoint can implement would be {{HoldsCredential}} something like:

{code:java}
public interface HoldsCredential {
    void credentialChanged(Credential c) throws CredentialRejectedException;
}
{code}

Then we could have:
{code:java}
public abstract ComponentWithCredentials extends DefaultComponent implements HoldsCredential {
    public void credentialChanged(Credential c) throws CredentialRejectedException {
        // sets the property
        credentialsHaveChanged(c); // notifies the component
    }

    protected abstract credentialsHaveChanged(Credential c);
}
{code}

And the analogue for Endpoints.

Credential might look like:

{code:java}
public interface Credential<T> {
    String type();
    String name();
    T value();
}
{code}

We probably would need to think a bit about the kind of credentials we can support, I'm thinking:
- username/password
- token (strings)
- certificate/private key
","11/Apr/19 08:54;ddcprg;Any updates on this ticket? I'm looking to read secrets, not just credentials, from Vault and then use them downstream in the route. I think a {{vault:}} component may be most suitable for this?",11/Apr/19 09:23;davsclaus;No the work has not started. Use the vote system in JIRA to help prioritze the tickets,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-api-component-maven-plugin - Suppress stacktrace for ignoring type parameters,CAMEL-11035,13057329,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,igarashitm,igarashitm,2017/3/19 10:09,2019/8/6 10:34,2021/3/6 6:31,,,,,,,,,tooling,,,,,,,1,,,,,,"The stacktrace is verbose for this one
{noformat}
[WARNING] Ignoring type parameters <T> for argument status, unable to load parametric type argument T
java.lang.ClassNotFoundException: java.lang.T
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.apache.camel.maven.AbstractApiMethodGeneratorMojo.getCanonicalName(AbstractApiMethodGeneratorMojo.java:340)
	at sun.reflect.GeneratedMethodAccessor28.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.doInvoke(UberspectImpl.java:395)
	at org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:384)
	at org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:173)
	at org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:280)
	at org.apache.velocity.runtime.parser.node.ASTReference.value(ASTReference.java:567)
	at org.apache.velocity.runtime.parser.node.ASTExpression.value(ASTExpression.java:71)
	at org.apache.velocity.runtime.parser.node.ASTSetDirective.render(ASTSetDirective.java:142)
	at org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:72)
	at org.apache.velocity.runtime.directive.Foreach.render(Foreach.java:420)
	at org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:207)
	at org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:342)
	at org.apache.velocity.Template.merge(Template.java:356)
	at org.apache.velocity.Template.merge(Template.java:260)
	at org.apache.camel.maven.AbstractGeneratorMojo.mergeTemplate(AbstractGeneratorMojo.java:150)
	at org.apache.camel.maven.AbstractApiMethodGeneratorMojo.execute(AbstractApiMethodGeneratorMojo.java:81)
	at org.apache.camel.maven.ApiComponentGeneratorMojo.execute(ApiComponentGeneratorMojo.java:92)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,56:25.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 10:34:29 UTC 2019,,,,,,,,0|i3chcv:,9.22337E+18,,,,,,,,,,,,,,,"22/Mar/18 19:56;aldettinger;I also hit a very similar stack trace using as below:
{code:java}
<extraOption>
  <name>status</name>
  <type>java.util.List&lt;T&gt;</type>
</extraOption>
{code}
generates:
{code:java}
[WARNING] Ignoring type parameters <T> for argument status, unable to load parametric type argument T
java.lang.ClassNotFoundException: java.lang.T
    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
    at org.apache.camel.maven.AbstractApiMethodGeneratorMojo.getCanonicalName(AbstractApiMethodGeneratorMojo.java:340)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.doInvoke(UberspectImpl.java:506)
    at org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:494)
    at org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:198)
    at org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:304)
    at org.apache.velocity.runtime.parser.node.ASTReference.render(ASTReference.java:411)
    at org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:144)
    at org.apache.velocity.runtime.directive.Foreach.renderBlock(Foreach.java:289)
    at org.apache.velocity.runtime.directive.Foreach.render(Foreach.java:259)
    at org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:295)
    at org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:377)
    at org.apache.velocity.Template.merge(Template.java:359)
    at org.apache.velocity.Template.merge(Template.java:264)
    at org.apache.camel.maven.AbstractGeneratorMojo.mergeTemplate(AbstractGeneratorMojo.java:158)
    at org.apache.camel.maven.AbstractApiMethodGeneratorMojo.execute(AbstractApiMethodGeneratorMojo.java:81)
    at org.apache.camel.maven.ApiComponentGeneratorMojo.execute(ApiComponentGeneratorMojo.java:92)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)
    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)
    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)
    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)
    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)

{code}
And indeed, I find the warning justified but the stack trace could be hidden.

Let me know if you would like that I to build a PR.",06/Aug/19 10:34;davsclaus;Contributions is welcome to help fix this,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-api-component-maven-plugin - Create an ApiMethodName enum to provide a list of API methods,CAMEL-11036,13057330,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,igarashitm,igarashitm,2017/3/19 10:32,2019/8/6 10:34,2021/3/6 6:31,,,,,,,,,tooling,,,,,,,0,,,,,,"Although the plugin generates *ApiMethod class though, it contains details of the API method and can't be used as a method name list. It would be helpful to generate a method name list as well so that it could be used for a restriction on a endpoint URI.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,32:12.0,,,,,,,,0|i3chd3:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ping Check API - Output metadata to component json file,CAMEL-11038,13057523,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2017/3/20 13:19,2019/8/6 10:35,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"We need to add some logic to apt compiler plugin so it can detect its a verifiable component (ping check) and add some details in the component json file.

We would need on the component section, something along the lines to denote what features it supports
{code}
""verifiable"": [ ""connectivity"", ""parameters"" ]
{code}

",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-12398,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:22.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Apr 12 11:16:26 UTC 2017,,,,,,,,0|i3cik7:,9.22337E+18,,,,,,,,,,,,,,,"20/Mar/17 15:51;lb;there should be already something like that, it is done using metadata but could be improved.
The only issue is that the component may not know what scopes are enabled just checking the code, scopes have to be explicit mentioned ","29/Mar/17 10:43;lb;[~davsclaus] as today we have this one:

{code}
 ""component"": {
    ""kind"": ""component"",
    ""scheme"": ""http4"",
    ""alternativeSchemes"": ""http4,http4s"",
    ""syntax"": ""http4:httpUri"",
    ""title"": ""HTTP4"",
    ""description"": ""For calling out to external HTTP servers using Apache HTTP Client 4.x."",
    ""label"": ""http"",
    ""deprecated"": false,
    ""async"": false,
    ""consumerOnly"": false,
    ""producerOnly"": true,
    ""lenientProperties"": true,
    ""javaType"": ""org.apache.camel.component.http4.HttpComponent"",
    ""firstVersion"": ""2.3.0"",
    ""groupId"": ""null"",
    ""artifactId"": ""null"",
    ""verifiers"": ""parameters,connectivity"",
    ""version"": ""null""
  },
{code}

Is that enough ?
","29/Mar/17 12:42;davsclaus;Yeah that is a good starter with the verifiers in the top. 

Down the road I wonder if we need a new section

{code}
""connectivity"": {
  ...
}
{code}
Where we have some special information for it? For example which options you can use for connectivity check.","29/Mar/17 13:04;lb;We could add some new annotations like

{code:java}
@Verifiable(scopes = { """", """" })
{code}

So we can add information about supported scopes on bot class level and field level, like: 

{code}
  ""authUsername"": {
    ""kind"": ""parameter"",
    ""displayName"": ""Auth Username"",
    ""group"": ""security"",
    ""label"": ""producer,security"",
    ""type"": ""string"",
    ""javaType"": ""java.lang.String"",
    ""deprecated"": false,
    ""secret"": true,
    ""description"": ""Authentication username"",
    ""verifiers"": ""parameters,connectivity"" },
{code}

Then the default verifier may ignore errors on parameters not supposed to be validated (i.e.)",12/Apr/17 11:16;davsclaus;Yeah lets look at this for next release if we need to include those verifiers in each of those options - it seems at first though like a nice idea.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Incremental Export support for zendesk consumer,CAMEL-11041,13057792,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,igarashitm,igarashitm,2017/3/21 6:06,2019/8/6 10:35,2021/3/6 6:31,,,,,,,,,camel-zendesk,,,,,,,0,,,,,,"Incremental Exports provides incremental list of Zendesk resources
https://developer.zendesk.com/rest_api/docs/core/incremental_export

Zendesk Java Client seems to support Incremental Exports for the tickets, users, organizations
https://github.com/cloudbees/zendesk-java-client",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,06:10.0,,,,,,,,0|i3ck7z:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make docker socket support usable,CAMEL-11069,13059049,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jliptak,jliptak,2017/3/24 22:15,2017/3/24 22:23,2021/3/6 6:31,,2.18.3,,,,,,,camel-docker,,,,,,,0,,,,,,"Our docker environment does not expose the remote API socket over TCP, so I wanted to get the unix:///var/run/docker.sock endpoint to work.

This needed two changes:
1. The DockerClientProfile toUrl() method appends a :port which is not valid for the unit port.
2. The URI parameter for socket has the wrong name and isn't in the valid URI parameters map.

I will submit a pull request once I have the issue #.",Linux docker enviroments,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,22:21.8,,,FALSE,,,,,Moderate,,,,,,,,,Patch,,,,,,,,9.22337E+18,,,Fri Mar 24 22:23:34 UTC 2017,,,,,,,,0|i3crz3:,9.22337E+18,,,,,,,,,,,,,,,"24/Mar/17 22:22;githubbot;GitHub user jhliptak opened a pull request:

    https://github.com/apache/camel/pull/1570

    CAMEL-11069 docker socket support

    pull request for https://issues.apache.org/jira/browse/CAMEL-11069 

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/jhliptak/camel CAMEL-11069

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/1570.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1570
    
----
commit 142b6e59c0c8bba1926d28558a6feb1e20c711e8
Author: John Liptak <john.liptak@centurylink.com>
Date:   2017-03-24T22:20:45Z

    CAMEL-11069 docker socket support

----
","24/Mar/17 22:22;githubbot;Github user jhliptak closed the pull request at:

    https://github.com/apache/camel/pull/1570
","24/Mar/17 22:22;githubbot;GitHub user jhliptak reopened a pull request:

    https://github.com/apache/camel/pull/1570

    CAMEL-11069 docker socket support

    pull request for https://issues.apache.org/jira/browse/CAMEL-11069 

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/jhliptak/camel CAMEL-11069

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/1570.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1570
    
----
commit 142b6e59c0c8bba1926d28558a6feb1e20c711e8
Author: John Liptak <john.liptak@centurylink.com>
Date:   2017-03-24T22:20:45Z

    CAMEL-11069 docker socket support

----
","24/Mar/17 22:23;githubbot;Github user jhliptak closed the pull request at:

    https://github.com/apache/camel/pull/1570
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-salesforce - Expose HTTP status and message from REST API responses,CAMEL-11078,13059467,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,zregvart,zregvart,2017/3/27 17:30,2019/8/6 10:36,2021/3/6 6:31,,,,,,,,,camel-salesforce,,,,,,,0,,,,,,It is helpful to the users to have a message header they can consult and do additional error handling/alternate logic.,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-10846,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,30:38.0,,,,,,,,0|i3cujz:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create cache DSL,CAMEL-11114,13061756,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,nferraro,nferraro,nferraro,2017/4/5 14:31,2019/8/6 10:36,2021/3/6 6:31,,,,,,,3.x,,camel-core,eip,,,,,,4,,,,,,"We should evaluate adding a new ""cache"" dsl that can be used with all cache components in Camel. A default implementation may use also caffeine, included in camel-core.

A possible usage example may be:

{code}
from(""xxx"")
.cache().on(""${header.yyy}"").ttl(600000) // caches the body
  .to(""http4://a-service-that-makes-me-pay-for-each-request.com/api/expensive-endpoint"")
  .transform().zzz()
  .to(""http4://or-a-service-that-i-can-call-few-times-a-day.com/api/limited-endpoint"")
  .unmarshal()
.endCache()
{code}

It should be also useful to protect internal services when using Camel e.g. as a api-gateway (almost what hystrix does in case of failure of the target host).",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-10267,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,21:10.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 08 11:07:20 UTC 2017,,,,,,,,0|i3d8o7:,9.22337E+18,,,,,,,,,,,,,,,"05/Apr/17 15:21;dmvolod;Nicola, this a good idea and desirable feature, please also add method which could invalidate cache by key. For example, we can catch event from foreign system that the data has changed and clear (invalidate) cache for the data and systems consistency.",08/Sep/17 11:07;davsclaus;I suggest to move this to 2.21 release,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ComponentVerifier : add support for producer/consumer options validation,CAMEL-11127,13062819,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/4/10 8:54,2019/8/6 10:36,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"As today the ComponentVerifier (Ping Check) perform a global validation i.e. it does not check if an option is consumer or producer only which is fine but there are cases where it could make sense to perform a validation for a specific side.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,54:20.0,,,,,,,,0|i3df87:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-rest : rest factories should leverage http-commons,CAMEL-11128,13062831,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2017/4/10 9:22,2019/8/6 10:36,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"camel-rest creates producer and consumer using a factory which signatures look like:

{code:java}
Producer createProducer(
    CamelContext camelContext, 
    String host,
    String verb, 
    String basePath, 
    String uriTemplate, 
    String queryParameters,
    String consumes, 
    String produces, 
    Map<String, Object> parameters) throws Exception;
{code}

The factory method are a mix of specific parameters like host, basePath, etc. and something more open like parameters. It would be nice to explore the possibility to bring some http-commons standardization here so we can put more stuffs in the generic ""parameters"" options which would reduce the difference to setup and validate rest components.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,22:29.0,,,,,,,,0|i3dfav:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Capture fork/join pattern in OpenTracing,CAMEL-11129,13062865,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,objectiser,objectiser,2017/4/10 11:16,2019/8/6 10:37,2021/3/6 6:31,,,,,,,,,camel-opentracing,,,,,,,0,,,,,,"In the blog post http://www.hawkular.org/blog/2017/03/24/distributed-tracing-with-camel.html I instrumented the Loan Broker JMS example, which has a multicast/parallel and aggregation - but currently only the inbound/outbound endpoints create spans, so the opentracing data does not capture the fork/join structure.

Therefore I wanted to explore ideas for how these control structures could be instrumented by the camel-opentracing component.

As an initial spec, ideally what is required for the fork is a point where a 'fork' span could be created to act as the parent for a child span per concurrent path. This also means needing to be able to detect the start and end of the exchange for each path.

Finally - when the join has been performed, need to gain access to the exchanges representing the concurrent paths, and associate the span context for each path with a new span representing the join point. Although haven't investigated in depth, potentially a proxy around the aggregation strategy might work - but not sure how this could be installed.

This jira is just intended to investigate options, as currently the OpenTracing spec does not clearly define how this pattern would be represented, and would probably need additional reference types to be defined.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,16:25.0,,,,,,,,0|i3dfif:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide type metadata for each Components/DataFormats,CAMEL-11132,13062909,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,igarashitm,igarashitm,igarashitm,2017/4/10 14:11,2019/8/6 10:37,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"CAMEL-10447 has introduced InputType/OutputType declaration and declarative Transformer/Validator based on those types declared on a route.

Next step is to provide type metadata for each Components/DataFormats:
* Let components/DataFormats provide metadata about what data types are supported so that app developer can see
* Narrow down the possible data types (i.e. exclude unsupported types) and transformers when writing a route in IDE, allow IDE to show those candidates as a hint so that app developer can choose from. Also maven plugin could leverage those metadata
* Provide such facility from camel side so that the maven plugin and/or IDE can leverage it

Annotation would be an option, but it only provides static types. For example xslt component only consumes/produces XML so ""XML"" could be provided via annotation. But dozer component consumes/produces arbitrary data formats and the actual type to be used is determined via configuration, so it cannot be provided via annotation. It would need a common way to calculate possible input types and output types on a component/endpoint and dataformat from its configuration.

Sometimes even body of the input message would affect the possible output types. To visualize this we'll need some kind of simulation with a test message.",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-330,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,14:11.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jun 29 10:14:51 UTC 2017,,,,,,,,0|i3dfs7:,9.22337E+18,,,,,,,,,,,,,,,"28/Jun/17 19:14;dhirajsb;Will this support dynamic discovery of types at runtime? Salesforce allows users to define custom relational tables, which means that objects supported by the component are dependent on user's salesforce instance. Even Salesforce defined default objects can be customized to add user defined fields. There can even be differences in schema depending on the underlying Salesforce version. 
So runtime discovery of schema is critical for Salesforce. At present this is supported using a camel-salesforce-maven-plugin which generates POJO classes from Salesforce schema. There are open issues for adding support for generating json schema and handling simple json strings as input/output fields. ","29/Jun/17 10:14;davsclaus;No this ticket is not about dynamic types. 
At first its about static types that a component can offer.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-Kubernetes: Add support for Ingress resources,CAMEL-11159,13064625,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,acosentino,acosentino,acosentino,2017/4/18 8:21,2019/8/6 10:37,2021/3/6 6:31,,,,,,,,,camel-kubernetes,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,21:04.0,,,,,,,,0|i3dqcf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
REST-DSL support for Google Protobuf,CAMEL-11174,13065466,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,dmvolod,luistrigueiros,luistrigueiros,2017/4/20 10:06,2017/11/9 9:53,2021/3/6 6:31,,,,,,,Future,,camel-core,camel-grpc,,,,,,0,,,,,,"It would be nice to be able to output something other that just XML/JSON
from a camel rest dsl route, namely Google Protobuf or Apache thrift.
The idea would be that one could have addional MIME types add one could define how they are handled.
So for example application/x-protobuf could be handle by Protobuf.

One example article that comes to mind is:
https://javarants.com/using-jax-rs-with-protocol-buffers-for-high-performance-rest-apis-563ce40d15d9",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,50:43.1,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Nov 09 09:53:21 UTC 2017,,,,,,,,0|i3duxz:,9.22337E+18,,,,,,,,,,,,,,,"26/Apr/17 17:50;dmvolod;Hi Luis!

It's not a good idea to overload core and rest-dsl subsystems with non-typical functions, i.e. marshal/unmarshal third-party binary formats, etc. As camel supports protobuf format OOB, you could create a very simple route like this for implementing described scenario:
{code:xml}
<camelContext id=""camelContext-47e82289-6ff4-4210-a7f0-5e93f397b04a"" xmlns=""http://camel.apache.org/schema/spring"">
    <restConfiguration component=""restlet"" port=""8181""/>
    <rest bindingMode=""off"" id=""_rest1"" path=""/test"" produces=""application/octetstream"">
        <get uri=""/id"">
            <to uri=""direct:test-id""/>
        </get>
    </rest>
    <route id=""_route1"">
        <from id=""_from1"" uri=""direct:test-id""/>
        <bean id=""_bean1"" method=""buildPongResponse"" ref=""messageBuilder""/>
        <marshal id=""_marshal1"">
            <protobuf/>
        </marshal>
    </route>
</camelContext>
{code}

P.S. The gRPC or Thrift RPC are working much faster, however your case is good example to be implemented as sample.  ","27/Apr/17 16:10;luistrigueiros;Hi [~dmvolod]:

This is cool I did not knew this, but the use case that I am also thinking of is to be able to expose the swagger documentation of a gRCP IDL via camel rest swagger interface.
This already exists done by Google example is: 
* https://github.com/grpc-ecosystem/grpc-gateway
* https://speakerdeck.com/thesandlord/grpc-vs-rest-api-strat-2016

","27/Apr/17 16:59;dmvolod;Thanks for ideas Luis!
As camel-grpc client component will be released as part of 2.19 build, we are working on the native server implementation now.
Looks like a new camel-grpc-gateway component need to be implemented and integrated with swagger-rest-dsl-generator
Please also note, that starting 2.19 camel-protobuf data format able to marshal/unmarshal from/to JSON in advance to binary data.","27/Apr/17 17:05;luistrigueiros;Hi [~dmvolod]:

If would love to have a go at testing this component for something I am working on as I already have the the service proto defintions.
Many thanks, kindly
  Luis Oscar","08/Nov/17 09:31;dmvolod;Also [gRPC<->Jersey bridge|https://github.com/fullcontact/grpc-jersey] has the similar feature.
However, need to define what kind of features we need to implement:
- auto generate Camel REST DSL editable route(s) 
- auto generate embedded and not editable and pass through protobuf via REST
- JAX RS extension for gRPC/Thrift ","09/Nov/17 09:53;luistrigueiros;Hi [~dmvolod]:

Thank you for this pointer to gRPC/jersey bridge I will have a look at it.

Kindly
  Luis Oscar Trigueiros",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Service Call : provides an ServiceHealthFilter that leverages PingChek/HealthCheck APIs,CAMEL-11199,13066945,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2017/4/26 6:06,2019/8/6 10:37,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"If the service definition provides an health endpoint and no information about the health, we should thinking about leverages ping check api to filter out unhealthy services.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-10026,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,06:52.0,,,,,,,,0|i3e427:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-jpa doesn't handle exclusive locks for concurrent consumers when setting consumeDelete to false,CAMEL-11223,13068372,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,teikitel,teikitel,2017/5/2 9:52,2018/2/1 15:00,2021/3/6 6:31,,2.18.3,,,,,,,camel-jpa,,,,,,,1,,,,,,"Deploying 4 instances of the same app containing a camel-jpa consumer polling on the same database, I noticed that several servers can consume the same entities.

The polling is currently done as follow :
# Poll without lock on the `maxResult` first rows
# On each row :
## Apply a lock _select ... for update (NOWAIT)_
## Consume entity
## Release the lock (commit)
## New Transaction
## Process exchange
## End Transaction

What can happen with several instances of the consuming on the same database is :
# {color:green}Server 1 polls the 10 first rows{color}
# {color:red}Server 2 polls the same 10 first rows{color}
# {color:green}Server 1 locks row 1 for update and consume it{color}
# {color:red}Server 2 locks row 1 for update as the previous lock is already released and consumes it{color}

This demand is related to my previous post on the user forum : http://camel.465427.n5.nabble.com/JPA-consumer-component-is-not-handling-multiple-server-concurrent-polling-td5797937.html","Java JDK  1.8.0_121
Spring 4 (reproduced with Spring Boot 1.5.3)
RedHat RHEL 7.1 x86_64
Oracle 11G",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/May/17 13:38;teikitel;jira-camel-11223.zip;https://issues.apache.org/jira/secure/attachment/12866175/jira-camel-11223.zip,,,,,1,,,,,,,,,,,,,,,,,,,,48:11.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Oct 20 13:48:11 UTC 2017,,,,,,,,0|i3ecvb:,9.22337E+18,,,,,,,,,,,,,,,"03/May/17 14:01;teikitel;After further analysis, I figured out that the consumeDelete parameter when set to true :
* By default consumes the entity by deleting it
* If an @Consumed or @PreConsumed method is defined, applies it (Besides this point is not very clear in the documentation :( http://camel.apache.org/jpa.html)

In a external POC I managed to use multiple concurrent pollers using consumeDelete=true and @Consumed or @PreConsumed.

Reality is, sometimes you want to externalize your model from your app and and just use it as a dependency. In that case, it is currently impossible to scan the @Consumed method.

As a workaround it is possible to manually consume the entity setting consumeDelete to false and using a bean to update the entity. In that particular case, the exclusive lock fails.

See attached a reproduction of the issue.","03/May/17 14:14;teikitel;My test data :
{quote}TRUNCATE TABLE CAMEL.TOTO;
TRUNCATE TABLE CAMEL.TOTO_CONSUMED;
BEGIN
  FOR i IN 1..10 LOOP
      INSERT INTO CAMEL.TOTO VALUES ('Toto' || i, 0);
  END LOOP;
  COMMIT;
END;

SELECT * FROM CAMEL.TOTO_CONSUMED;{quote}",20/Oct/17 13:48;pla;I have a similar problem. Some entities are consumed twice. But i have set consumeDelete to true. Have you a solution for the problem?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rewrite Salesforce DTO generation using JavaPoet,CAMEL-11226,13068690,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,zregvart,zregvart,zregvart,2017/5/3 9:06,2019/8/6 10:38,2021/3/6 6:31,,2.19.0,,,,,Future,,camel-salesforce,,,,,,,0,,,,,,"The current Velocity based templates for generating Salesforce DTOs are hard to maintain. We should switch to using Java code generator such as JavaPoet to make the code easier to follow and test.

With this we could also consider implementing annotation processor along with Maven plugin to generate DTOs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,19:28.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed May 03 09:19:28 UTC 2017,,,,,,,,0|i3eetz:,9.22337E+18,,,,,,,,,,,,,,,"03/May/17 09:19;lb;Agree!

btw, we have forge roaster already used for spring boot starters auto generator so it would be nice to standardize on one tool (whatever it is) so we can eventually have utility classes to cope with code styles, conventions & co.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Run tests of JMS component against Apache Artemis,CAMEL-11238,13069977,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2017/5/8 12:07,2019/8/6 10:38,2021/3/6 6:31,,,,,,,Future,,camel-jms,,,,,,,0,,,,,,"We should try to flush out any issues that might be related to ActiveMQ Artemis support in camel-jms (and perhaps other JMS components), by running the tests against Artemis.
We could consider creating profiles to run against Artemis or ActiveMQ 6.x or two executions of surefire/failsafe with different dependencies.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,57:13.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Oct 05 02:24:11 UTC 2017,,,,,,,,0|i3emrr:,9.22337E+18,,,,,,,,,,,,,,,"08/May/17 12:57;davsclaus;Yeah this would be nice, mind that there is some unit tests of camel-jms that may use AMQ specific options, however I am not as much sure. But we could likely move those tests to a special package, and then have a common set of unit tests that should run with both AMQ 6.x and Artemis.","05/Oct/17 02:24;igarashitm;I put some work on top of [~zregvart]'s and made most of the tests run with both of ActiveMQ5 and Artemis.
https://github.com/igarashitm/camel/commits/CAMEL-11238

But... number of tests intermittently and randomly fails with empty message, expected number of messages are not received, cannot connect to server, and etc... while ActiveMQ5 never fails. I think we can't merge them as it would make CI unstable. Further investigation required.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-catalog : provide information about the uri support for expressions,CAMEL-11246,13070405,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,davsclaus,lb,lb,2017/5/9 13:04,2019/9/30 6:45,2021/3/6 6:31,,,,,,,3.x,,tooling,,,,,,,0,,,,,,"Some component like camel-sql support expressions to be used inside the uri definition and this may cause troubles in environment like spring as the simple language prefix/suffix clash with spring's property resolution.

By providing some information about what languages the endpoint supports in the camel-catalog, tools like IDEs or validation plugins can provide some hints or warning to the user/developer. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,04:57.0,,,,,,,,0|i3epev:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the possibility to add an external id to camel beans,CAMEL-11248,13070416,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/5/9 13:36,2019/8/6 10:44,2021/3/6 6:31,,,,,,,Future,,camel-blueprint,camel-core,camel-core-xml,camel-spring,,,,0,,,,,,"If an id is added to an endpoint definition in a spring/blueprint xml, this endpoint will be registered to the application context but you may need to add an id just for reference or for your tools without impacting the camel run-time so it would be nice to support an externalId atttribute, like:

{code:xml}
  <from externalId=""my-id"" uri=""twitter://timeline/user""/>
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,36:02.0,,,,,,,,0|i3ephb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Extend split() capabilities with pluggable splitters,CAMEL-11249,13070425,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,nferraro,nferraro,2017/5/9 14:02,2019/8/6 10:46,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"Currently a ""split().body()"" processor will work with a limited set of value types.

This is an excerpt from ObjectHelper.createIterator(value):
{code}
     * Creates an iterator over the value if the value is a collection, an
     * Object[], a String with values separated by comma,
     * or a primitive type array; otherwise to simplify the caller's code,
     * we just create a singleton collection iterator over a single value
     * <p/>
     * Will default use comma for String separating String values.
     * This method does <b>not</b> allow empty values
{code}

New libraries (reactive-streams, grpc, but also java 8 collections) make heavy use of streams, not only standard java collections.

In order to support a wide range of streams types, we can make the split algorithm pluggable, e.g. by providing custom conversions from a specific type to a ""CamelStreamingObject"" (tbd).

This way we can convert any kind of streaming object (e.g. Publisher) into its content by putting a "".split().body()"". 

In Camel 2.19.0, users should include a ""UnwrapStreamProcessor"" in their routes to do this conversion.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,31:37.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 10:46:15 UTC 2019,,,,,,,,0|i3epjb:,9.22337E+18,,,,,,,,,,,,,,,"19/May/17 11:58;nferraro;There's a limitation set by our own convention of putting a ""SPLIT_COMPLETE"" header (or also a ""MULTICAST_COMPLETE"" header) on the last element of the collection to be split.

If we want to extend splitting to asynchronous streams (like Flow/Publisher), that convention should be changed, because in a stream you know that the stream is finished when you receive a specific event. So when you emit an item, you know that it's the last if you receive (later) a stream close event... but you cannot wait indefinitely.

A dirty solution would be to process an element of the stream only when the subsequent event is received (that may be another element or the completion event).

Or.. introduce empty exchanges to signal such events?","08/Sep/17 09:31;davsclaus;Yeah or maybe its a limitation of using streaming, the the SPLIT_COMPLETE header would not be present at all.
For multicast we would know when its complete as its always a fixed set of tasks, eg multicast to 2, 3 or 4 endpoints etc.",08/Sep/17 11:14;davsclaus;I suggest to move to 2.21,"08/Sep/17 13:10;nferraro;Yeah, but if we just don't use the SPLIT_COMPLETE header, parent exchanges would remain in-flight forever in the metrics. Let's move to 2.21 for now.",06/Aug/19 10:46;davsclaus;Camel 3 iterator now supports java util Streams API,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core : allow to retrieve components/endpoints/etc list with a predicate,CAMEL-11252,13070453,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2017/5/9 15:17,2019/8/6 10:47,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"As today components/endpoints and so on can be retrieved/removed from the camel context by id but it would be nice to have a more flexible way to retrieve them like:

{code:java}
List<Component> components = context.getComponents(id, component -> {
    return component instanceof IdAware;
});
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,27:11.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed May 10 07:50:56 UTC 2017,,,,,,,,0|i3eppj:,9.22337E+18,,,,,,,,,,,,,,,"10/May/17 07:27;davsclaus;What is the use-case for this?

I am asking because the API on CamelContext is already big. And its API should be limited and also mostly targeted towards Camel end users. We should likely revisit some of its APIs for Camel 3.0.

We have CamelContextHelper which has various helper methods that component developers and for camel internals to use. I wonder what you want is not a better fit there.","10/May/17 07:50;lb;The intention was to add more flexibility to the camel context as follow up for having a way to atomically add a service if not already registered raised during camel-reactive-streams development but yeah, something can be added in CamelContextHelper for 2.x and introduced in the CamelContext API in 3.0.

Maybe in the 3.0 the CamelContext could use the ""Predicate way"" by default and the CamelContextHelper could then provide helpers to find by id, find by type so that we can keep the API limited and we can provide a number of helper functions when new needs arise. 

Would that make any sense ?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-google-pubsub - Improve to work with streaming mode,CAMEL-11262,13071084,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2017/5/11 8:32,2019/8/6 10:47,2021/3/6 6:31,,2.19.0,,,,,Future,,camel-google-pubsub,,,,,,,1,,,,,,"The pubsub component
https://github.com/apache/camel/tree/master/components/camel-google-pubsub

Can likely be improved to work better with streaming mode and use Camel asynchronous processing. 

There may be other things.

Ray Tsang from Google has some ideas and want to help out.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,21:05.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Jul 21 01:52:21 UTC 2017,,,,,,,,0|i3etkv:,9.22337E+18,,,,,,,,,,,,,,,"19/May/17 10:21;emin;A few use cases that need to be considered when switching to async.

1. Downstream blocking queues (such as seda limited to let's say 100 with explicit blocking until processed)

The use case here was when PubSub is under load, Camel had tendency to extract messages first leading to reading the queue all the time and not processing the downstream.

2. throttle

One of the use cases - how would this play out with async?

3. explicit concurrentConsumers

I have noticed a slight performance degradation with a large number of concurrent consumers against PubSub - but mainly concerned with downstream systems

Important discussions to consider:

https://github.com/GoogleCloudPlatform/google-cloud-java/issues/1661
https://github.com/GoogleCloudPlatform/google-cloud-java/issues/1157

As you can see synchronous pull has been requested by more than one person.
From my perspective, the improvements to be introduced would need to extend the current model.","30/Jun/17 00:07;sarel;I work with Evgeny and will be looking at updating the camel-google-pubsub library.

Specifically will be using the new gRPC google cloud pub sub libraries (which is still in beta) -  [https://cloud.google.com/pubsub/docs/reference/libraries#client-libraries-usage-java]","13/Jul/17 01:46;sarel;I have implemented the camel-google-pubsub library using the google gRPC pubsub api.

As the google gRPC api is still in alpha I won't be doing any pull requests yet.

The producer has been changed to using asynchronous processing.

A branch with the implementation is available at 
https://github.com/ScentreGroup/camel/tree/feature/CAMEL-11262-gRPC-google-api

","14/Jul/17 07:43;davsclaus;Thanks Sarel for working on this.

People in the community is surely welcome to take a look at this branch and provide feedback.

Sarel, is there more work needed, maybe something on the consumer side as well etc?
","14/Jul/17 18:10;davsclaus;I wonder if we can do a little example as well in
https://github.com/apache/camel/tree/master/examples

Maybe in another PR to keep it separated. But would be nice with some example end users can fairly easy try out, and then maybe configure with their google cloud credentials and then have Camel use its pubsub","17/Jul/17 00:51;sarel;Hi Claus,

I need to update the documentation a little bit. 
Currently the implementation is using the underlying grpc pubsub api. There is however a pull request from Garrett Jones which will provide a layer on top of this which will be the recommended api to code against. Will incorporate this as soon as the pull request is merged (targeted for 7/21) into the googe pubsub api. Also will add streaming mode.

Will be good to have an example - will create something ","21/Jul/17 01:52;sarel;I have create PR https://github.com/apache/camel/pull/1837 for camel pubsub example (against current pubsub rest implementation)
",,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a Jimfs component,CAMEL-11300,13073431,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,acosentino,acosentino,2017/5/19 13:20,2019/8/6 10:48,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,"https://github.com/google/jimfs

jimfs is an in-memory file system. It should be interesting to have a component like this in camel.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:27.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Apr 08 10:41:27 UTC 2019,,,,,,,,0|i3f80v:,9.22337E+18,,,,,,,,,,,,,,,"08/Apr/19 10:41;dmvolod;[~ancosen], good point to have component like this, but looks like jimfs library released very rarely",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a camel-spring-cache component,CAMEL-11303,13073632,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2017/5/20 12:39,2017/5/27 7:49,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,39:54.0,,,,,,,,0|i3f99j:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java 8 DSL improvements - Food for thought,CAMEL-11306,13073782,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2017/5/22 7:47,2017/5/22 9:07,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,1,,,,,,"[~lb] and [~nferraro] here is a video about SI and their Java 8 DSL. Its in German but the video is showing source code. 

It may be of inspiration for areas to improve the Camel Java 8 DSL a bit more.
https://www.youtube.com/watch?v=uTqNj91cKuA&feature=youtu.be&a

Mind that the power of Camel DSL is that Java and XML are inter-changeable and that users can do both of them on equal foot. The pervious Java DSL was very complex, but it seems they have looked at Camel and got a bit inspired.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,07:46.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon May 22 09:07:46 UTC 2017,,,,,,,,0|i3fa6v:,9.22337E+18,,,,,,,,,,,,,,,"22/May/17 09:07;lb;IMHO one interesting thing - not really java 8 relevant - is that you can create a single ""route"" the spring boot way so I think it would be a nice to have if our camel core would collect beans of type RoutesDefinitions and/or eventually a functional interface for which the RoutesDefinitions object is preconfigured.

Another non java 8 topic is to be able to create an endpoint using a type safe dsl builder, but that's already in the pipe :)

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a per-SpringCamelContext replacement for `noStart` flag,CAMEL-11405,13079482,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2017/6/13 13:11,2019/8/6 10:49,2021/3/6 6:31,,2.20.0,,,,,Future,,camel-spring,,,,,,,0,,,,,,"Having a thread local {{noStart}} flag in {{SpringCamelContext}} can lead to inconsistencies as it can affect other CamelContextss trying to start on the same classloader/thread. We should provide a per-CamelContext replacement for that flag.
The flag is being used by Wildfly Camel team and in integration test support, so we should find a solution that fits both use cases.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,11:30.0,,,,,,,,0|i3g7q7:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
XML DSL : refactor IDs,CAMEL-11412,13079996,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/6/15 7:45,2019/8/6 10:44,2021/3/6 6:31,,,,,,,Future,,camel-blueprint,camel-cdi,camel-spring,,,,,0,,,,,,"ID attributes are used everywhere in XML DSL but they do not always behave like the related attributes in spring/blueprint/cdi i.e. not all the elements with an ID are also bound to the application context so it would be nice to remove the ID attribute where it does not make sense and bound beans to the application context if they are defined.

Some related work to be done:
- CAMEL-11248
- CAMEL-7778
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-7778,CAMEL-11248,,,,,,0,,,,,,,,,,,,,,,,,,,,40:48.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jun 15 08:40:48 UTC 2017,,,,,,,,0|i3gaw7:,9.22337E+18,,,,,,,,,,,,,,,"15/Jun/17 08:40;aurelien.pupier;just a note to ensure that JMX Camel debug functionality is preserved.
The ids are also used for this purpose.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create camel component for Atomix v3,CAMEL-11451,13082426,,New Feature,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2017/6/26 7:35,2019/8/6 10:55,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,Atomix will get a major refactoring in v3.0so it may be nice to have a separate component instead of upgrading the existing one.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,35:14.0,,,,,,,,0|i3gpvb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-salesforce - add undertow support,CAMEL-11513,13084872,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jpoth,jpoth,2017/7/5 15:36,2019/8/6 10:51,2021/3/6 6:31,,2.19.1,,,,,3.x,,camel-salesforce,,,,,,,0,,,,,,"It would be nice to have the option to use undertow as the underlying http client for camel-salesforce.

Here's a summary following a duscussion with [~zregvart]:

*  We could have an abstraction which would allow the option to use jetty/undertow (default being jetty)
* We currently rely on CometD for streaming which only supports Jetty. We would need to rebuild that with websocket/long polling from undertow.

Ideas/opinions are welcome!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,36:58.0,,,,,,,,0|i3h4x3:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the ability for CAMEL-RABBITMQ to support transactional consumers and producers,CAMEL-11519,13085273,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,gmotts,gmotts,2017/7/6 15:59,2018/2/26 8:53,2021/3/6 6:31,,2.19.1,,,,,,,camel-rabbitmq,,,,,,,0,rabbitmq,,,,,"Recommend enhancing the camel-rabbitmq component to optionally support transactional consumers and producers.  As a temporary work around to make the consumer transactional, I added  this.channel.txSelect();  to line 57 (camel 2-19 branch) and             this.channel.txCommit();  to line 133 and  this.channel.txRollback();  to line 165 of the RabbitMQConsumer.  Recommend adding an endpoint option to disable or enable TX per channel",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,20/Feb/18 21:47;gmotts;RabbitConsumer.patch;https://issues.apache.org/jira/secure/attachment/12911279/RabbitConsumer.patch,20/Feb/18 21:47;gmotts;RabbitMQEndpoint.patch;https://issues.apache.org/jira/secure/attachment/12911280/RabbitMQEndpoint.patch,,,,2,,,,,,,,,,,,,,,,,,,,43:41.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Feb 26 08:53:38 UTC 2018,,,,,,,,0|i3h7dj:,9.22337E+18,,,,,,,,,,,,,,,07/Jul/17 07:43;davsclaus;You are welcome to work on a patch / github PR,"09/Jul/17 17:32;jlpedrosa;Hi [~davsclaus]

I can pick up this one if ok with you.

JL","12/Sep/17 13:55;davsclaus;Yeah we love contributions
https://github.com/apache/camel/blob/master/CONTRIBUTING.md","20/Feb/18 21:46;gmotts;Hi Claus/Jose Luis

Attaching 2 patch files -RabbitMQEndpoint.patch and RabbitConsumer.patch.  We started with Camel 2.19.0 and completed with 2.19.4, so the patch files are based on migrated 2.19.4 source code with other applicable JIRAs applied.  The modified RabbitMQEndpoint adds 2 new parameters to the camel-rabbitmq component - *transacted* (boolean) and *transactionRetryInterval*(int).  When transacted is set true, the RabbitMQ channel is opened as transactional, enabling camel to resend a rolled back transaction for a specified interval (milliseconds - recommend a default value of 60000) .  For now we've only added transnational behavior to consumers only and use producer confirms for producers.  Sorry no unit tests for now, we verify rollback behavior using end to end tests.

Hope this helps,

-Gary","26/Feb/18 08:53;davsclaus;The patch seems to use a blocking thread when you wait to do a TX recovery - is this a good solution? Then you block this on the client side. I wonder if there is not a better solution on the server side, where you can do a rollback, and then let the broker ""handle the redelivery and delay between redeliveries"". 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Components with destination override via header should allow this override to be in message history / error handler,CAMEL-11521,13085432,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2017/7/7 7:24,2017/7/7 7:24,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"See this SO
https://stackoverflow.com/questions/44963186/camel-kafka-logging-incorrect-details-in-messagehistory

We can maybe have some kind of standard way for a component to say that its sending a message to an override destination than given in the endpoint uri, such as CamelJmsDestination, HttpUrl, HttpPath, CamelKafkaTopic etc.

By knowing this we can make the message history, error handler aware of this and output additional information about this destination was in use.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:05.0,,,,,,,,0|i3h8cf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include requirements,CAMEL-11522,13085433,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2017/7/7 7:29,2020/6/27 18:37,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,help-wanted,,,,,"We should have a requirements page, a getting started page, or what version page, that lists, at least, JVM versions per Camel version required.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15/Mar/20 13:42;RimshaCh;Include Requirement.png;https://issues.apache.org/jira/secure/attachment/12996768/Include+Requirement.png,,,,,1,,,,,,,,,,,,,,,,,,,,41:29.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jun 27 18:37:56 UTC 2020,,,,,,,,0|i3h8cn:,9.22337E+18,,,,,,,,,,,,,,,"13/Dec/18 13:05;zregvart;We need this page, listing the requirements, either in the Hugo content or in the user manual, linked from the user manual and perhaps from the footer also. I think it would make sense to have few links in the footer like: About, Requirements, Source...","17/Mar/19 15:41;nayanagamuhandiram;Hi Mr.Zoran Regvart, Can I take this one?","26/Jul/19 08:24;zregvart;We don't explicitly link to the ""What are the dependencies?"" page in the ""Getting started"" chapter of the user manual -- I think that might be okay. We could add an explicit requirements document or reword the ""What are the dependencies?"" page as dependencies is a bit different than requirements.","13/Mar/20 16:27;ojel;Good  evening sir,can i work on this?","15/Mar/20 13:43;RimshaCh; !Include Requirement.png!  
Hey I was trying this issue , is this how requirements page should be accessed from the footer? I was thinking to add each requirement as a separate link under this heading and briefly explain them on each page. ","15/Mar/20 14:22;zregvart;[~RimshaCh] I don't think the footer is a good place for this, requirements could change with each version. I think this should belong to the user manual as I outlined in the above comment.","15/Mar/20 19:51;RimshaCh;oh alright,I'll make the changes on user manual page and also for the content,you have mentioned rewording the dependencies page, I was going through camel jar dependencies ,can those be added as requirements?

","23/Mar/20 09:26;zregvart;[~RimshaCh] I would not list dependencies I would list requirements. Java version primarily, and versions of platforms Camel runs on: Spring/Spring Boot, Karaf, Kubernetes/OpenShift.","23/Mar/20 12:44;RimshaCh;Yes I realized that ,and I removed the dependencies from requirements",27/Jun/20 18:37;zregvart;We have this page: [https://camel.apache.org/manual/latest/what-are-the-dependencies.html] perhaps linking to it from this page [https://camel.apache.org/manual/latest/getting-started.html] and from the navigation (nav.adoc) along with updating it to reflect the current versions is what we need.,,,,,,,,,,,,,,,,,,,,,,,,
Telegram Button / Keyboard / Position,CAMEL-11541,13086824,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,fabryprog,fabryprog,2017/7/13 7:06,2019/8/6 10:51,2021/3/6 6:31,,,,,,,,,camel-telegram,,,,,,,0,,,,,,"Telegram component manage a basic type of message (text, video, image, audio) but there are any functionalities not implemeted yet. 

For example: Keyboards, buttons, Positions (lat/lon) etc",,"DenisIstomin commented on pull request #2729: CAMEL-11541: Add ""sendLocation"", ""editMessageLiveLocation"" methods support, add camel-example-telegram project
URL: https://github.com/apache/camel/pull/2729
 
 
   Changes:
   1. Added sendLocation method support
   2. Added editMessageLiveLocation method support
   3. Added example project
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;23/Jan/19 16:25;githubbot;600","DenisIstomin commented on pull request #2730: CAMEL-11541: Add camel-example-telegram
URL: https://github.com/apache/camel/pull/2730
 
 
   Changes from PR #2729.
   This is basic example.
   I'll improve it, when I implement more HTTP Telegram API methods.
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;24/Jan/19 10:33;githubbot;600","oscerd commented on pull request #2729: CAMEL-11541: Add ""sendLocation"", ""editMessageLiveLocation"" methods support
URL: https://github.com/apache/camel/pull/2729
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;28/Jan/19 07:17;githubbot;600","oscerd commented on pull request #2730: CAMEL-11541: Add camel-example-telegram
URL: https://github.com/apache/camel/pull/2730
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;30/Jan/19 08:59;githubbot;600","DenisIstomin commented on pull request #2759: CAMEL-11541 Add sendVenue and stopMessageLiveLocation support
URL: https://github.com/apache/camel/pull/2759
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;11/Feb/19 20:38;githubbot;600","oscerd commented on pull request #2759: CAMEL-11541 Add sendVenue and stopMessageLiveLocation support
URL: https://github.com/apache/camel/pull/2759
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;12/Feb/19 14:39;githubbot;600","DenisIstomin commented on pull request #2764: CAMEL-11541: Improve example with stopMessageLiveLocation and sendVen?
URL: https://github.com/apache/camel/pull/2764
 
 
   …ue methods usage
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;12/Feb/19 14:58;githubbot;600","davsclaus commented on pull request #2764: CAMEL-11541: Improve example with stopMessageLiveLocation and sendVen?
URL: https://github.com/apache/camel/pull/2764
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;13/Feb/19 04:58;githubbot;600",,0,4800,,,0,4800,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:02.5,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 20 13:51:26 UTC 2019,,,,,,,,0|i3hgw7:,9.22337E+18,,,,,,,,,,,,,,,01/Feb/18 15:33;davsclaus;Contributions is welcome,"27/Nov/18 14:46;vgandhi1;Hi Camel team,

Has some one started working on this?

I wanted to contribute and found this in Contributing.md link as starter bug. Should I start working on this?","21/Jan/19 13:59;DenisIstomin;Hi,
I've started to work on this recently.
Adding support for ""sendLocation"", ""editMessageLiveLocation"", ""sendVenue"", etc.",28/Jan/19 07:20;acosentino;[~DenisIstomin] is there still work to do on this one?,"28/Jan/19 11:42;DenisIstomin;[~ancosen] there is a lot of work to do:
 # ""Position"" methods to implement: ""sendVenue"", ""stopMessageLiveLocation"".
 # Work with ""Keyboards"" ([ReplyKeyboardRemove|https://core.telegram.org/bots/api#replykeyboardremove] or [ForceReply|https://core.telegram.org/bots/api#forcereply])
 # Improve example project.

I'll will implement them.

I think we should create new ""parent"" task with named ""Implement telegram component"" and decompose it with subtasks. I'll think about docomposition later.","13/Feb/19 05:06;davsclaus;Is there more work on this, I think the last PR had examples of the above?","13/Feb/19 11:35;DenisIstomin;[~davsclaus], yes, last PR had examples of some methods above.

Current task is not specific. I've implemented ""Position""-methods, added example project. Maybe current issue should be closed, and remaining work should be decomposed to multiple tasks? What do you think would be better to do? [~davsclaus], [~ancosen]?

Remaining work (ordered by priority as I think):
*1. Implement multiple Types support at field ""reply_markup""*
All methods like ""sendMessage"", ""sendLocation"" and others can send different types at the field ""reply_markup"". Now only ReplyKeyboardMarkup is supported.
https://core.telegram.org/bots/api#sendmessage

*2. Implement methods to update messages*
(https://core.telegram.org/bots/api#updating-messages)
- editMessageText
- editMessageCaption
- editMessageMedia
- editMessageReplyMarkup
- deleteMessage

*3. Implement Inline mode*
https://core.telegram.org/bots/api#inline-mode

Method: answerInlineQuery.
Lot of ""InlineQueryResult*"" types of messages.
Lot of ""Input*MessageContent"" types of messages.

*4. Improve example project with chatbot example*
Example should countain working chatbot application.
Maybe based on unit-test ""TelegramChatBotTest"".

*5. Implement Stickers support*
https://core.telegram.org/bots/api#stickers
Especially ""sendSticker"" method.

*6. Implement Payments methods*
https://core.telegram.org/bots/api#payments

Methods:
-sendInvoice
-answerShippingQuery
-answerPreCheckoutQuery

And other Types of messages: Invoice, OrderInfo, etc.

*7. Implement Games support*

*8. Implement Telegram Passport support*",14/Feb/19 04:52;davsclaus;Yeah lets create new tickets that has titles that reflect better the work. You are welcome to create 1 or more new tickets for the remaining work.,"19/Feb/19 14:30;DenisIstomin;Created 8 tasks with field ""*Component/s:*   [camel-telegram""|https://issues.apache.org/jira/issues/?jql=project+%3D+CAMEL+AND+component+%3D+camel-telegram]  

https://issues.apache.org/jira/browse/CAMEL-13222
https://issues.apache.org/jira/browse/CAMEL-13223
https://issues.apache.org/jira/browse/CAMEL-13224
https://issues.apache.org/jira/browse/CAMEL-13225
https://issues.apache.org/jira/browse/CAMEL-13226
https://issues.apache.org/jira/browse/CAMEL-13227
https://issues.apache.org/jira/browse/CAMEL-13228
https://issues.apache.org/jira/browse/CAMEL-13229

Current task could be closed.","20/Feb/19 08:00;davsclaus;Thanks Dennis, could we convert those 8 tasks into a parent task, and 7 sub-tasks, so they are linked together automatic, and also a good idea is to have ""telegram - xxx"" in the titles so you can easily see its for this component.",20/Feb/19 13:51;DenisIstomin;Created new parent task and converted all of thouse tasks to sub-tasks: https://issues.apache.org/jira/browse/CAMEL-13237,,,,,,,,,,,,,,,,,,,,,,,
cluster service : add xml and java dsl,CAMEL-11546,13087449,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2017/7/16 18:49,2020/5/14 9:35,2021/3/6 6:31,,,,,,,Future,,camel-blueprint,camel-cdi,camel-core,camel-core-xml,camel-spring,camel-spring-boot,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,49:13.0,,,,,,,,0|i3hkpz:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modular DefaultCamelContext in terms of loading and starting routes,CAMEL-11565,13088640,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/7/20 5:19,2021/1/21 14:43,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"- Add a concept of RouteLoader which is in charge of building the route
  definitions from a source, to eventually monitor the source for
  changes and then refresh the contex so i.e. we can move the current
  process of loading routes from xml to a dedicated XMLRouteLoader. It
  should be possible to add more loaders so one can load routes from
  different sources (yaml, json, groovy)

- Add a concept of RouteControler which is in charge of routes'
  life-cycle, this is partially done by CAMEL-11443 but for 2.x it will
  be more a placeholder that an concrete implementation as the
  life-cycle of routes involves quite a bit of code and it is quite hard
  to introduce a proper life-cycle manager without breaking the things.
  In my mind the camel context should be a bridge between RouteLoader
  and the RouteController then the specific route controller can do its
  job like:

  - start routes in parallel
  - handle reoutes dependencies (CAMEL-8599)
  - restart failing routes
  - etc
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:09.4,,,FALSE,,,,,Advanced,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 18 12:51:09 UTC 2020,,,,,,,,0|i3hs2n:,9.22337E+18,,,,,,,,,,,,,,,"18/Sep/20 12:51;davsclaus;We have most of this, except for a RouteLoader SPI. Which we can bring into camel-api, and then support loaders for alternative languages which is part of camel-k-runtime such as groovy, kotlin, yaml etc, and have that generic out of the box in camel 3 itself for everyone to use.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unified events in CamelContext,CAMEL-11566,13088641,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/7/20 5:20,2019/7/31 15:00,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,1,,,,,,"- Have a single and complete source fo events, as today we can listen
  for events using different concepts:

  - LifecycleStrategy
  - StartupListener
  - EventNotifier
  - RoutePolicy

  Some of them seems overlapping a little so we may create 'contextual'
  listeners like RouteEventListener, ExchangeEventListener, etc and
  then i.e. the RoutePolicy could extend only what make sense for the
  context so for the camel context prospective only an event has to be
  fired. Listeenrs can eventually throw an uncheckd ""VetoedException""
  if the operation should not be done (i.e. a policy may prevent to
  stop or start a route if certain circumstances).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Advanced,,,,,,,,,,,,,,,,,9.22337E+18,,,20:27.0,,,,,,,,0|i3hs2v:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ServiceNow : add suport for Jakarta release,CAMEL-11567,13088673,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2017/7/20 8:24,2018/11/16 10:16,2021/3/6 6:31,,,,,,,Future,,camel-servicenow,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,25:38.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 16 09:58:50 UTC 2018,,,,,,,,0|i3hs9z:,9.22337E+18,,,,,,,,,,,,,,,08/Sep/17 11:25;davsclaus;Oh there is another ticket about Istanbul release. Can you clean up those tickets so we only have the right one,"08/Sep/17 11:31;lb;it is another release, the component should have support for each release. moving to 2.21","26/Feb/18 13:11;davsclaus;Is there anything we need to do for camel-servicenow that we can do now, or should we move this to 2.22",16/Nov/18 09:58;acosentino;[~lb] what's the status here?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Zookeeper : upgrade to curator 4.0,CAMEL-11616,13091094,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,vrlgohel,lb,lb,2017/7/31 5:23,2017/10/6 13:11,2021/3/6 6:31,,,,,,,Future,,camel-zookeeper,,,,,,,0,,,,,,"Curator 4.0.0 is out and should support both ZooKeeper 3.4 and 3.5

http://curator.apache.org/zk-compatibility.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,30:39.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Aug 04 09:57:53 UTC 2017,,,,,,,,0|i3i6rz:,9.22337E+18,,,,,,,,,,,,,,,"03/Aug/17 15:30;githubbot;GitHub user vrlgohel opened a pull request:

    https://github.com/apache/camel/pull/1867

    CAMEL-11616: Upgraded Apache Curator version to 4.0.0

    Upgraded Apache Curator version to 4.0.0, https://issues.apache.org/jira/browse/CAMEL-11616

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/vrlgohel/camel-1 CAMEL-11616

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/1867.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1867
    
----
commit 9ac83c4962cc6fe1b6754e5ee05e019ca26cf463
Author: Viral Gohel <vrlgohel87@gmail.com>
Date:   2017-08-03T15:26:44Z

    CAMEL-11616: Upgraded Apache Curator version to 4.0.0

----
","04/Aug/17 09:50;githubbot;Github user vrlgohel closed the pull request at:

    https://github.com/apache/camel/pull/1867
","04/Aug/17 09:57;vrlgohel;Apache Curator 4.0.0 seems to be having a hard dependency on Zookeeper version 3.5.3, https://github.com/apache/curator/blob/4194c07aa72c2c05f1c11cabc1af25e0c5c3fedd/pom.xml#L62. 

Zookeeper version 3.5.3 Beta is available here, https://blog.cloudera.com/blog/2017/05/apache-zookeeper-3-5-3-beta-has-been-released/.
As Zk 3.5.x is a Beta release, and the GA version of Zk is not released yet, I will look at this issue when Zk GA 3.5.3 is released. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade brave to allow simple MDC logging,CAMEL-11646,13092900,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,cipous,cipous,2017/8/7 15:07,2019/8/6 10:53,2021/3/6 6:31,,2.19.1,,,,,Future,,camel-opentracing,,,,,,,2,,,,,,"It would be nice if spans are logged as we know it from spring-sleuth. Simplest could be usage of brave-context-slf4j https://github.com/openzipkin/brave/tree/master/context/slf4j.
Unfortunately this requires higher version of brave. I tried to make it work with 2.20.0-SNAPSHOT but no luck..",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-11381,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:50.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Dec 17 18:38:14 UTC 2017,,,,,,,,0|i3ihtj:,9.22337E+18,,,,,,,,,,,,,,,"08/Aug/17 15:41;koscejev;According to the [OpenTracing API documentation|https://github.com/opentracing/opentracing-java] it seems that the spans should be activated and deactivated. 

E.g., a span can be created via {{Tracer.SpanBuilder.startActive()}} or it can be created via  {{Tracer.SpanBuilder.startManual()}} (which is done right now, except using the deprecated {{start()}} method) and later activated via {{Tracer.makeActive()}}. 
Consequently, an ActiveSpan should be deactivated via {{ActiveSpan.deactivate()}}.
The activation/deactivation is currently not done - this is probably a bug/oversight. This results in any CurrentTraceContext not working correctly, which is why MDCCurrentTraceContext cannot be applied.

A workaround that seems to work, but is probably not performing (de)activation at the correct time: 
{code}
@Bean
InterceptStrategy activateSpanInterceptStrategy(Tracer tracer) {
  // CAMEL-11646 spans are not activated currently
  return (context, definition, target, nextTarget) -> exchange -> {
    Optional<ActiveSpan> activeSpan = Optional.ofNullable(ActiveSpanManager.getSpan(exchange))
        .map(tracer::makeActive);
    try {
      target.process(exchange);
    } finally {
      activeSpan.ifPresent(ActiveSpan::deactivate);
    }
  };
}
{code}
Perhaps this logic can just be built into ActiveSpanManager, so it ""holds"" an ActiveSpan instance, not Span?","22/Aug/17 10:53;objectiser;When originally doing the work I used the active span approach in OT, but because the default impl uses thread local there were problems propagating the context across threads.

The current approach is simpler because it piggybacks the trace context (span stack) with the exchange itself. However I can see there are times when other functionality may be relying on knowledge of the current span, outside the camel/exchange.

However before looking at changing anything, would prefer to wait until https://github.com/opentracing/opentracing-java/pull/166 is resolved, as this will have an impact on this mechanism.","15/Dec/17 15:35;cipous;Hello, It looks like opentracing-java is resolved, so hopefully it is now possible to fix it?",17/Dec/17 18:38;davsclaus;Contributions is welcome with a github PR,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SupervisingRouteController : add JMX support,CAMEL-11647,13092901,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2017/8/7 15:07,2019/8/6 10:54,2021/3/6 6:31,,,,,,,3.x,,camel-core,camel-spring-boot,,,,,,0,route-controller,,,,,"SupervisingRouteController should expose info about routes it is supervising like:

- the back-off configuration
- the status
- when the next restart will happens (i.e. nb of seconds till attempt)
- the last error/stack trace

Camel Spring Boot should leverage this and expose the same information from an Endpoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,08:08.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 22 08:13:19 UTC 2017,,,,,,,,0|i3ihtr:,9.22337E+18,,,,,,,,,,,,,,,22/Sep/17 08:08;davsclaus;Do we have some JMX support today? Or should we move this to 2.21 release?,"22/Sep/17 08:13;lb;We have a basic one, this can be deferred to 2.21",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
@Metadata should be repeatable,CAMEL-11675,13095574,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,onders,lb,lb,2017/8/18 7:49,2019/10/28 14:59,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"As today @Metadata is not repeatable so it is not easy to add multiple information to i.e. a component, it would be nice to write something like:

{code:java}
@Metadata(key = ""platforms"", enums = { ""spring"", ""spring-boot"", ""osgi"" })
@Metadata(key = ""extensions"", types = { MyExtension.cass })
class MyComponent extends DefaultComponent {
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:21.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 10:56:26 UTC 2019,,,,,,,,0|i3iy1z:,9.22337E+18,,,,,,,,,,,,,,,"25/Jun/18 10:55;githubbot;onderson opened a new pull request #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391
 
 
   

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","25/Jun/18 10:55;githubbot;GitHub user onderson opened a pull request:

    https://github.com/apache/camel/pull/2391

    CAMEL-11675 - Repetable @Metadata annotation

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/onderson/camel CAMEL-11675

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/2391.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #2391
    
----
commit 962bc2590cda27c57f5a0b5571778af90764ceba
Author: Sezgin <onder.sezgin@...>
Date:   2018-06-25T08:46:38Z

    CAMEL-11675 - Repetable @Metadata annotation

----
","25/Jun/18 11:24;githubbot;lburgazzoli commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-399918784
 
 
   I think that beside making the annotation repeatable we should also amend tooling (apt & co) to support it

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","25/Jun/18 12:40;githubbot;onderson commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-399937843
 
 
   yes i will check for them too. just made this simple change and have not adapted the remaining.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","25/Jun/18 20:32;githubbot;onderson commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-400085816
 
 
   @lburgazzoli , see my question here ?
   https://github.com/rhiot/rhiot/issues/169#issuecomment-400075439
   
   let me know if you have idea about this?
   
   i can see usages in apt, i think i can figure out but not sure about co? what do you mean by co?
   
   Thanks.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","26/Jun/18 04:50;githubbot;lburgazzoli edited a comment on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-399918784
 
 
   I think that beside making the annotation repeatable we should also amend tooling (apt & so) to support it

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","26/Jun/18 04:51;githubbot;lburgazzoli edited a comment on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-399918784
 
 
   I think that beside making the annotation repeatable we should also amend tooling (apt & so on) to support it

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","26/Jun/18 04:52;githubbot;lburgazzoli commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-400177929
 
 
   run mvnDebug and attaching a debugger should work.
   
   co is a typo, I meant ""apt & so on""

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","26/Jun/18 08:35;githubbot;onderson commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-400227194
 
 
   debugger is getting attached but i dont know why it is not suspending at the first line of process methods of any processors.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","26/Jun/18 09:58;davsclaus;It can be hard to debug an apt plugin. What you can do is to use the logging, there is some logger code that writes to a apt-camel log file. You can then look in that file what goes on.","26/Jun/18 12:00;onders;i am not sure if i get you right. Is there already an existing logging or do i need to implement a new one? if exists already, i could not find. could you help me find?

thanks","26/Jun/18 12:02;davsclaus;See the log methods on

https://github.com/apache/camel/blob/master/tooling/apt/src/main/java/org/apache/camel/tools/apt/AnnotationProcessorHelper.java#L359","26/Jun/18 22:16;githubbot;onderson commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation
URL: https://github.com/apache/camel/pull/2391#issuecomment-400480770
 
 
   Not ready yet!!

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","27/Jun/18 11:35;githubbot;onderson commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#issuecomment-400641050
 
 
   @lburgazzoli @davsclaus could you have a look?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","03/Jul/18 12:12;githubbot;davsclaus commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#issuecomment-402133503
 
 
   Is the checkstyle correct, it looks a bit as if there are too many spaces / tabs

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","03/Jul/18 12:14;githubbot;davsclaus commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#issuecomment-402134226
 
 
   Does this not require to have a key or some id like attribute on `@Metadata` as in the JIRA ticket? Also the apt plugin should favour the metadata that has no value set in key, as that is what its using by default for all the component json data stuff it does, eg
   
   

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","03/Jul/18 12:16;githubbot;davsclaus commented on a change in pull request #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#discussion_r199783865
 
 

 ##########
 File path: tooling/apt/src/main/java/org/apache/camel/tools/apt/CoreEipAnnotationProcessor.java
 ##########
 @@ -219,8 +219,8 @@ protected EipModel findEipModelProperties(ProcessingEnvironment processingEnv, R
         boolean deprecated = classElement.getAnnotation(Deprecated.class) != null;
         model.setDeprecated(deprecated);
 
-        Metadata metadata = classElement.getAnnotation(Metadata.class);
-        if (metadata != null) {
+        Metadata[] metadataArray = classElement.getAnnotationsByType(Metadata.class);
+        for (Metadata metadata : metadataArray) {
 
 Review comment:
   I dont think we should just loop and override the label, eg we should get the metadata annotation that has no `key` set as that is what is used for components today. Or it should grab the first that is not empty.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","03/Jul/18 12:16;githubbot;davsclaus commented on a change in pull request #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#discussion_r199783973
 
 

 ##########
 File path: tooling/apt/src/main/java/org/apache/camel/tools/apt/EndpointAnnotationProcessor.java
 ##########
 @@ -359,12 +359,22 @@ protected ComponentModel findComponentProperties(RoundEnvironment roundEnv, UriE
         model.setLenientProperties(uriEndpoint.lenientProperties());
         model.setAsync(implementsInterface(processingEnv, roundEnv, endpointClassElement, ""org.apache.camel.AsyncEndpoint""));
 
+        String deprecationNote = null;
         // what is the first version this component was added to Apache Camel
         String firstVersion = uriEndpoint.firstVersion();
-        if (Strings.isNullOrEmpty(firstVersion) && endpointClassElement.getAnnotation(Metadata.class) != null) {
-            // fallback to @Metadata if not from @UriEndpoint
-            firstVersion = endpointClassElement.getAnnotation(Metadata.class).firstVersion();
+        Metadata[] metadataArray = endpointClassElement.getAnnotationsByType(Metadata.class);
+        for(Metadata metadata : metadataArray) {
 
 Review comment:
   code formatting looks like a checkstyle problem here

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","04/Jul/18 06:21;githubbot;onderson commented on a change in pull request #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#discussion_r200018087
 
 

 ##########
 File path: tooling/apt/src/main/java/org/apache/camel/tools/apt/CoreEipAnnotationProcessor.java
 ##########
 @@ -219,8 +219,8 @@ protected EipModel findEipModelProperties(ProcessingEnvironment processingEnv, R
         boolean deprecated = classElement.getAnnotation(Deprecated.class) != null;
         model.setDeprecated(deprecated);
 
-        Metadata metadata = classElement.getAnnotation(Metadata.class);
-        if (metadata != null) {
+        Metadata[] metadataArray = classElement.getAnnotationsByType(Metadata.class);
+        for (Metadata metadata : metadataArray) {
 
 Review comment:
   not sure what i was thinking. i will look into it again.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","04/Jul/18 06:21;githubbot;onderson commented on a change in pull request #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#discussion_r200018147
 
 

 ##########
 File path: tooling/apt/src/main/java/org/apache/camel/tools/apt/EndpointAnnotationProcessor.java
 ##########
 @@ -359,12 +359,22 @@ protected ComponentModel findComponentProperties(RoundEnvironment roundEnv, UriE
         model.setLenientProperties(uriEndpoint.lenientProperties());
         model.setAsync(implementsInterface(processingEnv, roundEnv, endpointClassElement, ""org.apache.camel.AsyncEndpoint""));
 
+        String deprecationNote = null;
         // what is the first version this component was added to Apache Camel
         String firstVersion = uriEndpoint.firstVersion();
-        if (Strings.isNullOrEmpty(firstVersion) && endpointClassElement.getAnnotation(Metadata.class) != null) {
-            // fallback to @Metadata if not from @UriEndpoint
-            firstVersion = endpointClassElement.getAnnotation(Metadata.class).firstVersion();
+        Metadata[] metadataArray = endpointClassElement.getAnnotationsByType(Metadata.class);
+        for(Metadata metadata : metadataArray) {
 
 Review comment:
   there was not checkstyle issue AFAIR. will check again.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","04/Jul/18 19:57;githubbot;dmvolod commented on a change in pull request #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#discussion_r200194991
 
 

 ##########
 File path: tooling/apt/src/main/java/org/apache/camel/tools/apt/EndpointAnnotationProcessor.java
 ##########
 @@ -359,12 +359,22 @@ protected ComponentModel findComponentProperties(RoundEnvironment roundEnv, UriE
         model.setLenientProperties(uriEndpoint.lenientProperties());
         model.setAsync(implementsInterface(processingEnv, roundEnv, endpointClassElement, ""org.apache.camel.AsyncEndpoint""));
 
+        String deprecationNote = null;
         // what is the first version this component was added to Apache Camel
         String firstVersion = uriEndpoint.firstVersion();
-        if (Strings.isNullOrEmpty(firstVersion) && endpointClassElement.getAnnotation(Metadata.class) != null) {
-            // fallback to @Metadata if not from @UriEndpoint
-            firstVersion = endpointClassElement.getAnnotation(Metadata.class).firstVersion();
+        Metadata[] metadataArray = endpointClassElement.getAnnotationsByType(Metadata.class);
+        for(Metadata metadata : metadataArray) {
 
 Review comment:
   @onderson , please note, that right now -Psourcecheck option doesn't stop build and just print audit message warning and you need to check it manually.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","09/Jul/18 20:30;githubbot;onderson commented on issue #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391#issuecomment-403610049
 
 
   will do a rework. closing.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","09/Jul/18 20:30;githubbot;onderson closed pull request #2391: CAMEL-11675 - Repetable @Metadata annotation and amend apt for tooling
URL: https://github.com/apache/camel/pull/2391
 
 
   

This is a PR merged from a forked repository.
As GitHub hides the original diff on merge, it is displayed below for
the sake of provenance:

As this is a foreign pull request (from a fork), the diff is supplied
below (as it won't show otherwise due to GitHub magic):

diff --git a/tooling/apt/src/main/java/org/apache/camel/tools/apt/CoreEipAnnotationProcessor.java b/tooling/apt/src/main/java/org/apache/camel/tools/apt/CoreEipAnnotationProcessor.java
index 4b66859ace6..e5f93648ece 100644
--- a/tooling/apt/src/main/java/org/apache/camel/tools/apt/CoreEipAnnotationProcessor.java
+++ b/tooling/apt/src/main/java/org/apache/camel/tools/apt/CoreEipAnnotationProcessor.java
@@ -219,8 +219,8 @@ protected EipModel findEipModelProperties(ProcessingEnvironment processingEnv, R
         boolean deprecated = classElement.getAnnotation(Deprecated.class) != null;
         model.setDeprecated(deprecated);
 
-        Metadata metadata = classElement.getAnnotation(Metadata.class);
-        if (metadata != null) {
+        Metadata[] metadataArray = classElement.getAnnotationsByType(Metadata.class);
+        for (Metadata metadata : metadataArray) {
             if (!Strings.isNullOrEmpty(metadata.label())) {
                 model.setLabel(metadata.label());
             }
@@ -348,54 +348,56 @@ private boolean processAttribute(ProcessingEnvironment processingEnv, RoundEnvir
             }
         }
 
-        Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-
         name = prefix + name;
         TypeMirror fieldType = fieldElement.asType();
         String fieldTypeName = fieldType.toString();
         TypeElement fieldTypeElement = findTypeElement(processingEnv, roundEnv, fieldTypeName);
-
+        
         String defaultValue = findDefaultValue(fieldElement, fieldTypeName);
         String docComment = findJavaDoc(elementUtils, fieldElement, fieldName, name, classElement, true);
         boolean required = attribute.required();
         // metadata may overrule element required
         required = findRequired(fieldElement, required);
-
+        
+        String displayName = null;
+        String deprecationNote = null;
         // gather enums
         Set<String> enums = new TreeSet<>();
-        boolean isEnum;
-        if (metadata != null && !Strings.isNullOrEmpty(metadata.enums())) {
-            isEnum = true;
-            String[] values = metadata.enums().split("","");
-            for (String val : values) {
-                enums.add(val);
-            }
-        } else {
-            isEnum = fieldTypeElement != null && fieldTypeElement.getKind() == ElementKind.ENUM;
-            if (isEnum) {
-                TypeElement enumClass = findTypeElement(processingEnv, roundEnv, fieldTypeElement.asType().toString());
-                if (enumClass != null) {
-                    // find all the enum constants which has the possible enum value that can be used
-                    List<VariableElement> fields = ElementFilter.fieldsIn(enumClass.getEnclosedElements());
-                    for (VariableElement var : fields) {
-                        if (var.getKind() == ElementKind.ENUM_CONSTANT) {
-                            String val = var.toString();
-                            enums.add(val);
+        boolean isEnum = false;
+        Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+        for (Metadata metadata : metadataArray) {
+            
+            if (!Strings.isNullOrEmpty(metadata.enums())) {
+                isEnum = true;
+                String[] values = metadata.enums().split("","");
+                for (String val : values) {
+                    enums.add(val);
+                }
+            } else {
+                isEnum = fieldTypeElement != null && fieldTypeElement.getKind() == ElementKind.ENUM;
+                if (isEnum) {
+                    TypeElement enumClass = findTypeElement(processingEnv, roundEnv, fieldTypeElement.asType().toString());
+                    if (enumClass != null) {
+                        // find all the enum constants which has the possible enum value that can be used
+                        List<VariableElement> fields = ElementFilter.fieldsIn(enumClass.getEnclosedElements());
+                        for (VariableElement var : fields) {
+                            if (var.getKind() == ElementKind.ENUM_CONSTANT) {
+                                String val = var.toString();
+                                enums.add(val);
+                            }
                         }
                     }
                 }
             }
+            if (metadata.displayName() != null) {
+                displayName = metadata.displayName();
+            }
+            if (metadata.deprecationNode() != null) {
+                deprecationNote = metadata.deprecationNode();
+            }
         }
-
-        String displayName = null;
-        if (metadata != null) {
-            displayName = metadata.displayName();
-        }
+        
         boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
-        String deprecationNote = null;
-        if (metadata != null) {
-            deprecationNote = metadata.deprecationNode();
-        }
 
         EipOption ep = new EipOption(name, displayName, ""attribute"", fieldTypeName, required, defaultValue, docComment, deprecated, deprecationNote, isEnum, enums, false, null, false);
         eipOptions.add(ep);
@@ -429,16 +431,19 @@ private void processValue(ProcessingEnvironment processingEnv, RoundEnvironment
         required = findRequired(fieldElement, required);
 
         String displayName = null;
-        Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-        if (metadata != null) {
-            displayName = metadata.displayName();
-        }
-        boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
         String deprecationNote = null;
-        if (metadata != null) {
-            deprecationNote = metadata.deprecationNode();
+        Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+        for (Metadata metadata : metadataArray) {
+            if (metadata.displayName() != null) {
+                displayName = metadata.displayName();
+            }
+            if (metadata.deprecationNode() != null) {
+                deprecationNote = metadata.deprecationNode();
+            }
         }
 
+        boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;  
+
         EipOption ep = new EipOption(name, displayName, ""value"", fieldTypeName, required, defaultValue, docComment, deprecated, deprecationNote, false, null, false, null, false);
         eipOptions.add(ep);
     }
@@ -451,8 +456,6 @@ private void processElement(ProcessingEnvironment processingEnv, RoundEnvironmen
         fieldName = fieldElement.getSimpleName().toString();
         if (element != null) {
 
-            Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-
             String kind = ""element"";
             String name = element.name();
             if (isNullOrEmpty(name) || ""##default"".equals(name)) {
@@ -474,27 +477,38 @@ private void processElement(ProcessingEnvironment processingEnv, RoundEnvironmen
             if (!asPredicate) {
                 asPredicate = classElement.getAnnotation(AsPredicate.class) != null;
             }
-
-            // gather enums
+            
+            String displayName = null;
+            String deprecationNote = null;
+            boolean isEnum = false;
             Set<String> enums = new TreeSet<>();
-            boolean isEnum;
-            if (metadata != null && !Strings.isNullOrEmpty(metadata.enums())) {
-                isEnum = true;
-                String[] values = metadata.enums().split("","");
-                for (String val : values) {
-                    enums.add(val);
+            Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+            for (Metadata metadata : metadataArray) {
+                if (metadata.displayName() != null) {
+                    displayName = metadata.displayName();
                 }
-            } else {
-                isEnum = fieldTypeElement != null && fieldTypeElement.getKind() == ElementKind.ENUM;
-                if (isEnum) {
-                    TypeElement enumClass = findTypeElement(processingEnv, roundEnv, fieldTypeElement.asType().toString());
-                    if (enumClass != null) {
-                        // find all the enum constants which has the possible enum value that can be used
-                        List<VariableElement> fields = ElementFilter.fieldsIn(enumClass.getEnclosedElements());
-                        for (VariableElement var : fields) {
-                            if (var.getKind() == ElementKind.ENUM_CONSTANT) {
-                                String val = var.toString();
-                                enums.add(val);
+                if (metadata.deprecationNode() != null) {
+                    deprecationNote = metadata.deprecationNode();
+                }
+                // gather enums
+                if (metadata != null && !Strings.isNullOrEmpty(metadata.enums())) {
+                    isEnum = true;
+                    String[] values = metadata.enums().split("","");
+                    for (String val : values) {
+                        enums.add(val);
+                    }
+                } else {
+                    isEnum = fieldTypeElement != null && fieldTypeElement.getKind() == ElementKind.ENUM;
+                    if (isEnum) {
+                        TypeElement enumClass = findTypeElement(processingEnv, roundEnv, fieldTypeElement.asType().toString());
+                        if (enumClass != null) {
+                            // find all the enum constants which has the possible enum value that can be used
+                            List<VariableElement> fields = ElementFilter.fieldsIn(enumClass.getEnclosedElements());
+                            for (VariableElement var : fields) {
+                                if (var.getKind() == ElementKind.ENUM_CONSTANT) {
+                                    String val = var.toString();
+                                    enums.add(val);
+                                }
                             }
                         }
                     }
@@ -531,15 +545,7 @@ private void processElement(ProcessingEnvironment processingEnv, RoundEnvironmen
                 oneOfTypes.add(""otherwise"");
             }
 
-            String displayName = null;
-            if (metadata != null) {
-                displayName = metadata.displayName();
-            }
             boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
-            String deprecationNote = null;
-            if (metadata != null) {
-                deprecationNote = metadata.deprecationNode();
-            }
 
             EipOption ep = new EipOption(name, displayName, kind, fieldTypeName, required, defaultValue, docComment, deprecated, deprecationNote, isEnum, enums, isOneOf, oneOfTypes, asPredicate);
             eipOptions.add(ep);
@@ -572,18 +578,21 @@ private void processElements(ProcessingEnvironment processingEnv, RoundEnvironme
                 String child = element.name();
                 oneOfTypes.add(child);
             }
-
+            
             String displayName = null;
-            Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-            if (metadata != null) {
-                displayName = metadata.displayName();
-            }
-            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
             String deprecationNote = null;
-            if (metadata != null) {
-                deprecationNote = metadata.deprecationNode();
+            Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+            for (Metadata metadata : metadataArray) {
+                if (metadata.displayName() != null) {
+                    displayName = metadata.displayName();
+                }
+                if (metadata.deprecationNode() != null) {
+                    deprecationNote = metadata.deprecationNode();
+                }
             }
 
+            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
+
             EipOption ep = new EipOption(name, displayName, kind, fieldTypeName, required, defaultValue, docComment, deprecated, deprecationNote, false, null, true, oneOfTypes, false);
             eipOptions.add(ep);
         }
@@ -811,16 +820,20 @@ private void processOutputs(ProcessingEnvironment processingEnv, RoundEnvironmen
 
             // remove some types which are not intended as an output in eips
             oneOfTypes.remove(""route"");
+
             String displayName = null;
-            Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-            if (metadata != null) {
-                displayName = metadata.displayName();
-            }
-            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
             String deprecationNote = null;
-            if (metadata != null) {
-                deprecationNote = metadata.deprecationNode();
+            Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+            for (Metadata metadata : metadataArray) {
+                if (metadata.displayName() != null) {
+                    displayName = metadata.displayName();
+                }
+                if (metadata.deprecationNode() != null) {
+                    deprecationNote = metadata.deprecationNode();
+                }
             }
+            
+            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
 
             EipOption ep = new EipOption(name, displayName, kind, fieldTypeName, true, """", """", deprecated, deprecationNote, false, null, true, oneOfTypes, false);
             eipOptions.add(ep);
@@ -863,16 +876,20 @@ private void processVerbs(ProcessingEnvironment processingEnv, RoundEnvironment
                     }
                 }
             }
+            
             String displayName = null;
-            Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-            if (metadata != null) {
-                displayName = metadata.displayName();
-            }
-            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
             String deprecationNote = null;
-            if (metadata != null) {
-                deprecationNote = metadata.deprecationNode();
+            Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+            for (Metadata metadata : metadataArray) {
+                if (metadata.displayName() != null) {
+                    displayName = metadata.displayName();
+                }
+                if (metadata.deprecationNode() != null) {
+                    deprecationNote = metadata.deprecationNode();
+                }
             }
+            
+            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
 
             EipOption ep = new EipOption(name, displayName, kind, fieldTypeName, true, """", docComment, deprecated, deprecationNote, false, null, true, oneOfTypes, false);
             eipOptions.add(ep);
@@ -925,18 +942,21 @@ private void processRefExpression(ProcessingEnvironment processingEnv, RoundEnvi
                     }
                 }
             }
-
+            
             String displayName = null;
-            Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-            if (metadata != null) {
-                displayName = metadata.displayName();
-            }
-            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
             String deprecationNote = null;
-            if (metadata != null) {
-                deprecationNote = metadata.deprecationNode();
+            Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+            for (Metadata metadata : metadataArray) {
+                if (metadata.displayName() != null) {
+                    displayName = metadata.displayName();
+                }
+                if (metadata.deprecationNode() != null) {
+                    deprecationNote = metadata.deprecationNode();
+                }
             }
 
+            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
+
             EipOption ep = new EipOption(name, displayName, kind, fieldTypeName, true, """", docComment, deprecated, deprecationNote, false, null, true, oneOfTypes, asPredicate);
             eipOptions.add(ep);
         }
@@ -970,15 +990,18 @@ private void processRefWhenClauses(ProcessingEnvironment processingEnv, RoundEnv
             boolean asPredicate = true;
 
             String displayName = null;
-            Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-            if (metadata != null) {
-                displayName = metadata.displayName();
-            }
-            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
             String deprecationNote = null;
-            if (metadata != null) {
-                deprecationNote = metadata.deprecationNode();
+            Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+            for (Metadata metadata : metadataArray) {
+                if (metadata.displayName() != null) {
+                    displayName = metadata.displayName();
+                }
+                if (metadata.deprecationNode() != null) {
+                    deprecationNote = metadata.deprecationNode();
+                }
             }
+            
+            boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
 
             EipOption ep = new EipOption(name, displayName, kind, fieldTypeName, false, """", docComment, deprecated, deprecationNote, false, null, true, oneOfTypes, asPredicate);
             eipOptions.add(ep);
@@ -997,12 +1020,13 @@ private boolean supportOutputs(TypeElement classElement) {
 
     private String findDefaultValue(VariableElement fieldElement, String fieldTypeName) {
         String defaultValue = null;
-        Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-        if (metadata != null) {
+        Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+        for (Metadata metadata : metadataArray) {
             if (!Strings.isNullOrEmpty(metadata.defaultValue())) {
                 defaultValue = metadata.defaultValue();
             }
         }
+
         if (defaultValue == null) {
             // if its a boolean type, then we use false as the default
             if (""boolean"".equals(fieldTypeName) || ""java.lang.Boolean"".equals(fieldTypeName)) {
@@ -1014,8 +1038,8 @@ private String findDefaultValue(VariableElement fieldElement, String fieldTypeNa
     }
 
     private boolean findRequired(VariableElement fieldElement, boolean defaultValue) {
-        Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-        if (metadata != null) {
+        Metadata[] metadataArray = fieldElement.getAnnotationsByType(Metadata.class);
+        for (Metadata metadata : metadataArray) {
             if (!Strings.isNullOrEmpty(metadata.required())) {
                 defaultValue = ""true"".equals(metadata.required());
             }
diff --git a/tooling/apt/src/main/java/org/apache/camel/tools/apt/EndpointAnnotationProcessor.java b/tooling/apt/src/main/java/org/apache/camel/tools/apt/EndpointAnnotationProcessor.java
index bd603a7dc7d..03ff2a3997e 100644
--- a/tooling/apt/src/main/java/org/apache/camel/tools/apt/EndpointAnnotationProcessor.java
+++ b/tooling/apt/src/main/java/org/apache/camel/tools/apt/EndpointAnnotationProcessor.java
@@ -359,12 +359,22 @@ protected ComponentModel findComponentProperties(RoundEnvironment roundEnv, UriE
         model.setLenientProperties(uriEndpoint.lenientProperties());
         model.setAsync(implementsInterface(processingEnv, roundEnv, endpointClassElement, ""org.apache.camel.AsyncEndpoint""));
 
+        String deprecationNote = null;
         // what is the first version this component was added to Apache Camel
         String firstVersion = uriEndpoint.firstVersion();
-        if (Strings.isNullOrEmpty(firstVersion) && endpointClassElement.getAnnotation(Metadata.class) != null) {
-            // fallback to @Metadata if not from @UriEndpoint
-            firstVersion = endpointClassElement.getAnnotation(Metadata.class).firstVersion();
+        Metadata[] metadataArray = endpointClassElement.getAnnotationsByType(Metadata.class);
+        for(Metadata metadata : metadataArray) {
+        	if (Strings.isNullOrEmpty(firstVersion)) {
+                // fallback to @Metadata if not from @UriEndpoint
+        		if (metadata.firstVersion() != null) {
+        			firstVersion = metadata.firstVersion();
+                }
+                if (metadata.deprecationNode() != null) {
+                	deprecationNote = metadata.deprecationNode();
+                }
+            }
         }
+
         if (!Strings.isNullOrEmpty(firstVersion)) {
             model.setFirstVersion(firstVersion);
         }
@@ -395,11 +405,7 @@ protected ComponentModel findComponentProperties(RoundEnvironment roundEnv, UriE
                 deprecated = name != null && name.contains(""(deprecated)"");
             }
             model.setDeprecated(deprecated);
-
-            String deprecationNote = null;
-            if (endpointClassElement.getAnnotation(Metadata.class) != null) {
-                deprecationNote = endpointClassElement.getAnnotation(Metadata.class).deprecationNode();
-            }
+                
             model.setDeprecationNode(deprecationNote);
 
             if (map.containsKey(""groupId"")) {
@@ -441,19 +447,25 @@ protected void findComponentClassProperties(PrintWriter writer, RoundEnvironment
                                                 Set<ComponentOption> componentOptions, TypeElement classElement, String prefix) {
         Elements elementUtils = processingEnv.getElementUtils();
         while (true) {
-            Metadata componentAnnotation = classElement.getAnnotation(Metadata.class);
-            if (componentAnnotation != null && Objects.equals(""verifiers"", componentAnnotation.label())) {
-                componentModel.setVerifiers(componentAnnotation.enums());
+            Metadata[] componentAnnotationArray = classElement.getAnnotationsByType(Metadata.class);
+            for(Metadata componentAnnotation : componentAnnotationArray) {
+                if (componentAnnotation != null && Objects.equals(""verifiers"", componentAnnotation.label())) {
+                	if (componentAnnotation.enums() != null) {
+                    	componentModel.setVerifiers(componentAnnotation.enums());
+                    }
+                }
             }
 
             List<ExecutableElement> methods = ElementFilter.methodsIn(classElement.getEnclosedElements());
             for (ExecutableElement method : methods) {
                 String methodName = method.getSimpleName().toString();
                 boolean deprecated = method.getAnnotation(Deprecated.class) != null;
-                Metadata metadata = method.getAnnotation(Metadata.class);
                 String deprecationNote = null;
-                if (metadata != null) {
-                    deprecationNote = metadata.deprecationNode();
+                Metadata[] metadataArray = method.getAnnotationsByType(Metadata.class);
+                for(Metadata metadata : metadataArray) {
+                	if (metadata.deprecationNode() != null) {
+                    	deprecationNote = metadata.deprecationNode();
+                    }
                 }
 
                 // must be the setter
@@ -474,71 +486,83 @@ protected void findComponentClassProperties(PrintWriter writer, RoundEnvironment
 
                 // we usually favor putting the @Metadata annotation on the field instead of the setter, so try to use it if its there
                 VariableElement field = findFieldElement(classElement, fieldName);
-                if (field != null && metadata == null) {
-                    metadata = field.getAnnotation(Metadata.class);
+                if (field != null && metadataArray.length == 0) {
+                	metadataArray = field.getAnnotationsByType(Metadata.class);
                 }
-
-                String required = metadata != null ? metadata.required() : null;
-                String label = metadata != null ? metadata.label() : null;
-                boolean secret = metadata != null && metadata.secret();
-                String displayName = metadata != null ? metadata.displayName() : null;
-
-                // we do not yet have default values / notes / as no annotation support yet
-                // String defaultValueNote = param.defaultValueNote();
-                String defaultValue = metadata != null ? metadata.defaultValue() : null;
-                String defaultValueNote = null;
-
+                
                 ExecutableElement setter = method;
                 String name = fieldName;
                 name = prefix + name;
                 TypeMirror fieldType = setter.getParameters().get(0).asType();
                 String fieldTypeName = fieldType.toString();
                 TypeElement fieldTypeElement = findTypeElement(processingEnv, roundEnv, fieldTypeName);
-
+                
                 String docComment = findJavaDoc(elementUtils, method, fieldName, name, classElement, false);
-                if (isNullOrEmpty(docComment)) {
-                    docComment = metadata != null ? metadata.description() : null;
-                }
-                if (isNullOrEmpty(docComment)) {
-                    // apt cannot grab javadoc from camel-core, only from annotations
-                    if (""setHeaderFilterStrategy"".equals(methodName)) {
-                        docComment = HEADER_FILTER_STRATEGY_JAVADOC;
-                    } else {
-                        docComment = """";
-                    }
-                }
 
+                // we do not yet have default values / notes / as no annotation support yet
+                // String defaultValueNote = param.defaultValueNote();
+                String required = null, label = null, displayName = null, defaultValue = null, defaultValueNote = null;
+                boolean secret = false;
                 // gather enums
                 Set<String> enums = new LinkedHashSet<>();
+                boolean isEnum = false;
+                for(Metadata metadata : metadataArray) {
+                	if (metadata.required() != null) {
+                		required = metadata.required();
+                    }
+                	if (metadata.label() != null) {
+                		label = metadata.label();
+                    }
+                    secret = metadata.secret();
+                    if (metadata.displayName() != null) {
+                    	displayName = metadata.displayName();
+                    }
 
-                boolean isEnum;
-                if (metadata != null && !Strings.isNullOrEmpty(metadata.enums())) {
-                    isEnum = true;
-                    String[] values = metadata.enums().split("","");
-                    for (String val : values) {
-                        enums.add(val);
+                    if (metadata.defaultValue() != null) {
+                    	defaultValue = metadata.defaultValue();
                     }
-                } else {
-                    isEnum = fieldTypeElement != null && fieldTypeElement.getKind() == ElementKind.ENUM;
-                    if (isEnum) {
-                        TypeElement enumClass = findTypeElement(processingEnv, roundEnv, fieldTypeElement.asType().toString());
-                        if (enumClass != null) {
-                            // find all the enum constants which has the possible enum value that can be used
-                            List<VariableElement> fields = ElementFilter.fieldsIn(enumClass.getEnclosedElements());
-                            for (VariableElement var : fields) {
-                                if (var.getKind() == ElementKind.ENUM_CONSTANT) {
-                                    String val = var.toString();
-                                    enums.add(val);
+
+                    if (metadata.description() != null && isNullOrEmpty(docComment)) {
+                    	docComment = metadata.description();
+                    }
+                    if (isNullOrEmpty(docComment)) {
+                        // apt cannot grab javadoc from camel-core, only from annotations
+                        if (""setHeaderFilterStrategy"".equals(methodName)) {
+                            docComment = HEADER_FILTER_STRATEGY_JAVADOC;
+                        } else {
+                            docComment = """";
+                        }
+                    }
+
+                    if (!Strings.isNullOrEmpty(metadata.enums())) {
+                        isEnum = true;
+                        String[] values = metadata.enums().split("","");
+                        for (String val : values) {
+                            enums.add(val);
+                        }
+                    } else {
+                        isEnum = fieldTypeElement != null && fieldTypeElement.getKind() == ElementKind.ENUM;
+                        if (isEnum) {
+                            TypeElement enumClass = findTypeElement(processingEnv, roundEnv, fieldTypeElement.asType().toString());
+                            if (enumClass != null) {
+                                // find all the enum constants which has the possible enum value that can be used
+                                List<VariableElement> fields = ElementFilter.fieldsIn(enumClass.getEnclosedElements());
+                                for (VariableElement var : fields) {
+                                    if (var.getKind() == ElementKind.ENUM_CONSTANT) {
+                                        String val = var.toString();
+                                        enums.add(val);
+                                    }
                                 }
                             }
                         }
                     }
-                }
 
-                // the field type may be overloaded by another type
-                if (metadata != null && !Strings.isNullOrEmpty(metadata.javaType())) {
-                    fieldTypeName = metadata.javaType();
+                    // the field type may be overloaded by another type
+                    if (!Strings.isNullOrEmpty(metadata.javaType())) {
+                        fieldTypeName = metadata.javaType();
+                    }
                 }
+                
 
                 String group = EndpointHelper.labelAsGroupName(label, componentModel.isConsumerOnly(), componentModel.isProducerOnly());
                 ComponentOption option = new ComponentOption(name, displayName, fieldTypeName, required, defaultValue, defaultValueNote,
@@ -569,18 +593,43 @@ protected void findClassProperties(PrintWriter writer, RoundEnvironment roundEnv
             List<VariableElement> fieldElements = ElementFilter.fieldsIn(classElement.getEnclosedElements());
             for (VariableElement fieldElement : fieldElements) {
 
-                Metadata metadata = fieldElement.getAnnotation(Metadata.class);
-                boolean deprecated = fieldElement.getAnnotation(Deprecated.class) != null;
-                String deprecationNote = null;
-                if (metadata != null) {
-                    deprecationNote = metadata.deprecat",,,,,,,,,,,
Some camel-milo unit tests pass even when exceptions are thrown ,CAMEL-11763,13100703,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jamesnetherton,jamesnetherton,2017/9/8 7:25,2017/11/8 10:07,2021/3/6 6:31,,2.20.0,,,,,,,camel-milo,,,,,,,0,,,,,,"I've been running the Milo [ServerLocalTest|https://github.com/apache/camel/blob/master/components/camel-milo/src/test/java/org/apache/camel/component/milo/server/ServerLocalTest.java]. There's a few tests that use the 'Variant' type as the message body. Although the tests seem to pass, they shouldn't be because an exception is thrown in the background:

{code}
java.lang.IllegalArgumentException: Variant cannot contain Variant
	at com.google.common.base.Preconditions.checkArgument(Preconditions.java:122)
	at org.eclipse.milo.opcua.stack.core.types.builtin.Variant.<init>(Variant.java:49)
	at org.apache.camel.component.milo.server.internal.CamelServerItem.update(CamelServerItem.java:140)
	at org.apache.camel.component.milo.server.MiloServerProducer.process(MiloServerProducer.java:36)
	at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:229)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:144)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:130)
	at org.apache.camel.test.junit4.CamelTestSupport.sendBody(CamelTestSupport.java:792)
	at org.apache.camel.component.milo.server.ServerLocalTest.testAcceptVariantString(ServerLocalTest.java:67)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
{code}

If you tweak the tests to verify that a message was received by the mock endpoint, then it'll fail because of this.

I'm no Milo expert, so my knowledge here is limited.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,07:45.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Nov 08 10:07:45 UTC 2017,,,,,,,,0|i3jsyv:,9.22337E+18,,,,,,,,,,,,,,,"08/Sep/17 07:49;jamesnetherton;Actually, none of the tests in {{ServerLocalTest}} seem to verify that the Milo server consumer actually works. The route under test is:

{code}
from(""milo-server:myitem1"").to(""mock:test"")
{code}

But no messages ever seem to arrive at the mock endpoint.","08/Nov/17 10:07;tdiesler;This is a bug in milo. Instead of 

{code}
checkArgument(clazzIsArray || !Variant.class.equals(componentClazz), ""Variant cannot contain Variant"");
{code}

it should probably be

{code}
checkArgument(!(clazzIsArray && Variant.class.equals(componentClazz)), ""Variant cannot contain Variant"");
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-catalog-maven - Maybe use shrinkwrap instead of gradle,CAMEL-11767,13101005,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2017/9/9 8:05,2017/9/9 8:05,2021/3/6 6:31,,,,,,,Future,,camel-catalog,tooling,,,,,,0,,,,,,"We can look at using shrinkwrap resolver which has a nice API for downloading Maven JARs. We just need that to be able to download the camel-catalog JAR of a given version

https://github.com/shrinkwrap/resolver",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:25.0,,,,,,,,0|i3juvj:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-amqp - SSL Transport configuration,CAMEL-11780,13102904,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ced,ced,2017/9/18 9:08,2021/1/20 15:09,2021/3/6 6:30,,2.19.2,,,,,,,camel-amqp,,,,,,,0,,,,,,"Hi,

i'm using camel and specially the amqp component to consume a topic. Everything is working well but I'm confused regarding the SSL configuration.
It's not clear in the documentation, I don't want to use the default JVM certificate storage so I tried to configure the connection factory with the [qpid documentation|https://qpid.apache.org/releases/qpid-jms-0.24.0/docs/index.html#ssl-transport-configuration-options] but the qpid-jms-client version used by amqp component (0.11.1) doesn't handle the amqps schema URI.

There is another way to configure the SSL transport like the key store location and password without a qpid upgrade ?

Thanks !",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,38:12.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Jan 19 21:07:55 UTC 2021,,,,,,,,0|i3k6fz:,9.22337E+18,,,,,,,,,,,,,,,18/Sep/17 09:38;davsclaus;We should look at upgrading qpid,"18/Sep/17 13:08;ced;Great, thanks for the quick answer.
Do you have an idea of the schedule on a such task ? If not please let me, our team is eager about this improvement.

Thanks","18/Sep/17 13:15;davsclaus;We love contributions, so try to help out with the qpid upgrade
http://camel.apache.org/contributing","18/Oct/17 10:09;githubbot;GitHub user vrlgohel opened a pull request:

    https://github.com/apache/camel/pull/2046

    CAMEL-11780: camel-amqp - SSL Transport configuration

    Added amqps support, upgrading the qpid-jms-client version. 

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/vrlgohel/camel-1 CAMEL-11780

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/2046.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #2046
    
----
commit 09677671fe2bd011b1b247fbf3c201f9e3614918
Author: Viral Gohel <vrlgohel87@gmail.com>
Date:   2017-10-17T17:48:59Z

    CAMEL-11780: camel-amqp - SSL Transport configuration

----
","19/Oct/17 07:45;ced;Hi,
I had to change my JVM version, my company is using Java 7, so we had to downgrade our version of camel and qpid.
Hopefully qpid handles the amqps with the transport options to configure the stores and passwords without using the java system properties. To achieve that, you just have to create the JmsConnectionFactory with the remoteURI yourself (amqps://broker:5671?transport.......)

But if you can handle that directly through the AMQP component that would be great or even better with the [JSSE Utility|http://camel.apache.org/camel-configuration-utilities.html]. Sadly I wont be able to try it on my current project.

Anyway, thank you for your great work, I will try to be more involved.","06/Nov/17 13:50;githubbot;oscerd commented on issue #2046: CAMEL-11780: camel-amqp - SSL Transport configuration
URL: https://github.com/apache/camel/pull/2046#issuecomment-342153917
 
 
   @vrlgohel do you have the time to look at this?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","06/Nov/17 13:54;githubbot;vrlgohel commented on issue #2046: CAMEL-11780: camel-amqp - SSL Transport configuration
URL: https://github.com/apache/camel/pull/2046#issuecomment-342154772
 
 
   Hi Andrea, 
   I have been really busy, hence wasn't able to look into this one. I am looking to get this done by this week, or if not by next. 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","06/Nov/17 13:54;githubbot;oscerd commented on issue #2046: CAMEL-11780: camel-amqp - SSL Transport configuration
URL: https://github.com/apache/camel/pull/2046#issuecomment-342154911
 
 
   Thanks for the update :-)

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","21/Nov/17 06:52;githubbot;oscerd commented on issue #2046: CAMEL-11780: camel-amqp - SSL Transport configuration
URL: https://github.com/apache/camel/pull/2046#issuecomment-345933688
 
 
   @vrlgohel any news?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","04/Jan/18 12:02;githubbot;oscerd commented on issue #2046: CAMEL-11780: camel-amqp - SSL Transport configuration
URL: https://github.com/apache/camel/pull/2046#issuecomment-355265822
 
 
   any news on this one?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","10/Jan/18 10:43;githubbot;oscerd commented on issue #2046: CAMEL-11780: camel-amqp - SSL Transport configuration
URL: https://github.com/apache/camel/pull/2046#issuecomment-356565268
 
 
   @vrlgohel are you able to work on this?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
",06/Mar/18 10:01;davsclaus;Can you try again with newest release as we have upgraded qpid-jms-client to be 0.30 in Camel 2.21. Then it may support amqps scheme and configuring it via its url syntax is possible.,"17/Apr/18 12:22;githubbot;vrlgohel closed pull request #2046: CAMEL-11780: camel-amqp - SSL Transport configuration
URL: https://github.com/apache/camel/pull/2046
 
 
   

This is a PR merged from a forked repository.
As GitHub hides the original diff on merge, it is displayed below for
the sake of provenance:

As this is a foreign pull request (from a fork), the diff is supplied
below (as it won't show otherwise due to GitHub magic):

diff --git a/components/camel-amqp/src/main/java/org/apache/camel/component/amqp/AMQPConnectionDetails.java b/components/camel-amqp/src/main/java/org/apache/camel/component/amqp/AMQPConnectionDetails.java
index 029e17b781b..6e5bd3964d9 100644
--- a/components/camel-amqp/src/main/java/org/apache/camel/component/amqp/AMQPConnectionDetails.java
+++ b/components/camel-amqp/src/main/java/org/apache/camel/component/amqp/AMQPConnectionDetails.java
@@ -28,13 +28,19 @@
     public static final String AMQP_USERNAME = ""AMQP_SERVICE_USERNAME"";
 
     public static final String AMQP_PASSWORD = ""AMQP_SERVICE_PASSWORD"";
+    
+    private static final String KEYSTORE = ""broker.ks"";
+
+    private static final String TRUSTSTORE = ""broker.ks"";
+
+    private static final String PASSWORD = ""password"";
 
     private final String uri;
 
     private final String username;
 
     private final String password;
-
+   
     public AMQPConnectionDetails(String uri, String username, String password) {
         this.uri = uri;
         this.username = username;
@@ -60,6 +66,24 @@ public static AMQPConnectionDetails discoverAMQP(CamelContext camelContext) {
         }
     }
 
+    public static AMQPConnectionDetails discoverAMQPSsl(CamelContext camelContext) {
+        try {
+            PropertiesComponent propertiesComponent = camelContext.getComponent(""properties"", PropertiesComponent.class);
+
+            String host = property(propertiesComponent, AMQP_HOST, ""localhost"");
+            int port = Integer.parseInt(property(propertiesComponent, AMQP_PORT, ""5672""));
+            String username = property(propertiesComponent, AMQP_USERNAME, null);
+            String password = property(propertiesComponent, AMQP_PASSWORD, null);
+
+            return new AMQPConnectionDetails(""amqps://"" + host + "":"" + port, username,
+                                             password + ""?transport.trustStoreLocation="" + TRUSTSTORE + ""&transport.trustStorePassword="" + PASSWORD + ""&transport.keyStoreLocation=""
+                                                                                       + KEYSTORE + ""&transport.keyStorePassword="" + PASSWORD);
+        } catch (Exception e) {
+            throw new RuntimeException(e);
+        }
+    }
+
+
     public String uri() {
         return uri;
     }
diff --git a/components/camel-amqp/src/test/java/org/apache/camel/component/amqp/AMQPSSLRouteTest.java b/components/camel-amqp/src/test/java/org/apache/camel/component/amqp/AMQPSSLRouteTest.java
new file mode 100644
index 00000000000..93441402b32
--- /dev/null
+++ b/components/camel-amqp/src/test/java/org/apache/camel/component/amqp/AMQPSSLRouteTest.java
@@ -0,0 +1,167 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the ""License""); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an ""AS IS"" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.amqp;
+
+import javax.net.ssl.SSLContext;
+
+import org.apache.activemq.broker.BrokerService;
+import org.apache.activemq.broker.SslContext;
+import org.apache.camel.CamelContext;
+import org.apache.camel.EndpointInject;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.component.mock.MockEndpoint;
+import org.apache.camel.impl.JndiRegistry;
+import org.apache.camel.impl.PropertyPlaceholderDelegateRegistry;
+import org.apache.camel.test.AvailablePortFinder;
+import org.apache.camel.test.junit4.CamelTestSupport;
+import org.apache.qpid.jms.transports.TransportSslOptions;
+import org.apache.qpid.jms.transports.TransportSupport;
+import org.junit.AfterClass;
+import org.junit.BeforeClass;
+import org.junit.Test;
+
+import static org.apache.camel.component.amqp.AMQPComponent.amqpComponent;
+import static org.apache.camel.component.amqp.AMQPConnectionDetails.AMQP_PORT;
+import static org.apache.camel.component.amqp.AMQPConnectionDetails.discoverAMQPSsl;
+
+
+public class AMQPSSLRouteTest extends CamelTestSupport {
+
+    static int amqpPort = AvailablePortFinder.getNextAvailable();
+    static BrokerService broker;
+
+    private static final String KEYSTORE = ""./src/test/resources/broker.ks"";
+    private static final String TRUSTSTORE = ""./src/test/resources/broker.ks"";
+    private static final String PASSWORD = ""password"";
+    
+
+    @EndpointInject(uri = ""mock:result"")
+    MockEndpoint resultEndpoint;
+
+    String expectedBody = ""Hi there!"";
+
+    @BeforeClass
+    public static void beforeClass() throws Exception {
+        System.setProperty(""javax.net.ssl.trustStorePassword"", PASSWORD);
+        System.setProperty(""javax.net.ssl.trustStore"", TRUSTSTORE);
+        System.setProperty(""javax.net.ssl.keyStore"", KEYSTORE);
+        System.setProperty(""javax.net.ssl.keyStorePassword"", PASSWORD);
+        System.setProperty(AMQP_PORT, amqpPort + """");
+
+        broker = new BrokerService();
+        broker.setPersistent(false);
+        broker.setAdvisorySupport(false);
+        broker.setDeleteAllMessagesOnStartup(true);
+        broker.setUseJmx(false);
+        broker.addConnector(""amqp+ssl://0.0.0.0:"" + amqpPort);
+
+        TransportSslOptions sslOptions = new TransportSslOptions();
+        sslOptions.setKeyStoreLocation(KEYSTORE);
+        sslOptions.setKeyStorePassword(PASSWORD);
+        sslOptions.setTrustStoreLocation(TRUSTSTORE);
+        sslOptions.setTrustStorePassword(PASSWORD);
+
+        SSLContext sslContext = TransportSupport.createSslContext(sslOptions);
+
+        final SslContext brokerContext = new SslContext();
+        brokerContext.setSSLContext(sslContext);
+
+        broker.setSslContext(brokerContext);
+        broker.start();
+
+    }
+
+    @AfterClass
+    public static void afterClass() throws Exception {
+        System.clearProperty(""javax.net.ssl.trustStorePassword"");
+        System.clearProperty(""javax.net.ssl.trustStore"");
+        System.clearProperty(""javax.net.ssl.keyStore"");
+        System.clearProperty(""javax.net.ssl.keyStorePassword"");
+        broker.stop();
+    }
+
+    @Test
+    public void testJmsQueue() throws Exception {
+        resultEndpoint.expectedMessageCount(1);
+        resultEndpoint.message(0).header(""cheese"").isEqualTo(123);
+        template.sendBodyAndHeader(""amqp-ssl:queue:ping"", expectedBody, ""cheese"", 123);
+        resultEndpoint.assertIsSatisfied();
+    }
+
+    @Test
+    public void testRequestReply() {
+        String response = template.requestBody(""amqp-ssl:queue:inOut"", expectedBody, String.class);
+        assertEquals(""response"", response);
+    }
+
+    @Test
+    public void testJmsTopic() throws Exception {
+        resultEndpoint.expectedMessageCount(2);
+        resultEndpoint.message(0).header(""cheese"").isEqualTo(123);
+        template.sendBodyAndHeader(""amqp-ssl:topic:ping"", expectedBody, ""cheese"", 123);
+        resultEndpoint.assertIsSatisfied();
+    }
+
+    @Test
+    public void testPrefixWildcard() throws Exception {
+        resultEndpoint.expectedMessageCount(1);
+        template.sendBody(""amqp-ssl:wildcard.foo.bar"", expectedBody);
+        resultEndpoint.assertIsSatisfied();
+    }
+
+    @Test
+    public void testIncludeDestination() throws Exception {
+        resultEndpoint.expectedMessageCount(1);
+        resultEndpoint.message(0).header(""JMSDestination"").isEqualTo(""ping"");
+        template.sendBody(""amqp-ssl:queue:ping"", expectedBody);
+        resultEndpoint.assertIsSatisfied();
+    }
+    
+
+    @Override
+    protected JndiRegistry createRegistry() throws Exception {
+        JndiRegistry registry = super.createRegistry();
+        return registry;
+    }
+
+    protected CamelContext createCamelContext() throws Exception {
+        CamelContext camelContext = super.createCamelContext();
+        JndiRegistry registry = (JndiRegistry)((PropertyPlaceholderDelegateRegistry)camelContext.getRegistry()).getRegistry();
+        registry.bind(""amqpConnection"", discoverAMQPSsl(camelContext));        
+        camelContext.addComponent(""amqp-ssl"", amqpComponent(""amqps://localhost:"" + amqpPort));
+        return camelContext;
+    }
+
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            public void configure() throws Exception {
+                from(""amqp-ssl:queue:ping"").to(""log:routing"").to(""mock:result"");
+
+                from(""amqp-ssl:queue:inOut"").setBody().constant(""response"");
+
+                from(""amqp-ssl:topic:ping"").to(""log:routing"").to(""mock:result"");
+
+                from(""amqp-ssl:topic:ping"").to(""log:routing"").to(""mock:result"");
+
+                from(""amqp-ssl:queue:wildcard.>"").to(""log:routing"").to(""mock:result"");
+
+                from(""amqp:queue:uriEndpoint"").to(""log:routing"").to(""mock:result"");
+            }
+        };
+    }
+
+}
diff --git a/components/camel-amqp/src/test/resources/broker.ks b/components/camel-amqp/src/test/resources/broker.ks
new file mode 100644
index 00000000000..86fe32c0411
Binary files /dev/null and b/components/camel-amqp/src/test/resources/broker.ks differ
diff --git a/components/camel-amqp/src/test/resources/broker_cert b/components/camel-amqp/src/test/resources/broker_cert
new file mode 100644
index 00000000000..80cbad5be0d
Binary files /dev/null and b/components/camel-amqp/src/test/resources/broker_cert differ
diff --git a/parent/pom.xml b/parent/pom.xml
index 5b57f0cfeb4..fea1680878a 100644
--- a/parent/pom.xml
+++ b/parent/pom.xml
@@ -563,9 +563,9 @@
     <protonpack-version>1.8</protonpack-version>
     <pubnub-version>4.6.5</pubnub-version>
     <qpid-bundle-version>0.28_1</qpid-bundle-version>
-    <qpid-proton-j-version>0.16.0</qpid-proton-j-version>
-    <qpid-proton-j-bundle-version>0.14.0</qpid-proton-j-bundle-version>
-    <qpid-jms-client-version>0.11.1</qpid-jms-client-version>
+    <qpid-proton-j-version>0.22.0</qpid-proton-j-version>
+    <qpid-proton-j-bundle-version>0.22.0</qpid-proton-j-bundle-version>
+    <qpid-jms-client-version>0.26.0</qpid-jms-client-version>
     <quartz-bundle-version>1.8.6_1</quartz-bundle-version>
     <quartz-version>1.8.6</quartz-version>
     <quartz-version-range>[1.8,2)</quartz-version-range>
@@ -762,7 +762,7 @@
       org.springframework.xml.*;version=""[2,3)"",
       org.springframework.*;version=""${spring-version-range}"",
       org.apache.cxf.*;version=""${cxf-version-range}"",
-      org.apache.qpid.*;version=""[0.20,1)"",
+      org.apache.qpid.*;version=""[0.26,1)"",
       org.apache.abdera.*;version=""[0.4,2)"",
       org.apache.commons.httpclient.*;version=""[3.1,4.0)"",
       org.apache.velocity.*;version=""[1.6.2,2)"",


 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","17/Apr/18 12:22;githubbot;Github user vrlgohel closed the pull request at:

    https://github.com/apache/camel/pull/2046
","06/Jul/20 07:54;rgannu;[~davsclaus]

This PR doesn't seems to be merged to the master. 
 If the SSL support is already done in the camel-amqp component in another way (refactored).

If this is already available (which I don't see), please explain how to use in the `camel-amqp-sink-connector` documentation and we can close this ticket. 
 Thanks a lot.

 

As this SSL support is not there we are forced to use `camel-rabbitmq-sink-connector` and then convert the message from AMQP 0.9 protocol to AMQP 1.0 using the RabbitMQ shovel configuration.  This is quite unnecessary step. 

 ","19/Jan/21 21:07;rgannu;Hi [~davsclaus],

Can you please comment on this ticket?

I need to have _*SSL support*_ in the ""*_camel-amqp""_* to send across AMQP 1.0 messages.

--

The PR done by [~vrlgohel] was not merged and I would like to know why?
If the review comments are still valid then I can redo this work against the latest camel version.

https://github.com/apache/camel/pull/2046#issuecomment-672888905

--  ",,,,,,,,,,,,,,,,,,
service-call : service-call expression should have a way to manipulate headers,CAMEL-11795,13103593,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2017/9/20 12:48,2019/8/6 12:03,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,service-call,,,,,"From apache-camel:

{code}
<lburgazzoli> davsclaus, I'm looking at CAMEL-11711 (Camel-example-spring-cloud-servicecall doesn't work out of the box)
<lburgazzoli> the issue is that
<lburgazzoli> there are some headers  like CamelHttpPath now
<lburgazzoli> so i.e. undertow builds the effective url to incoke combining the http uri you give it with info from the headers
<lburgazzoli> so the final call is not more like http://localhost:9012 but it is http://localhost:9012/camel/serviceCall/service1
<lburgazzoli> which does not exists
<lburgazzoli> see this gist https://gist.github.com/lburgazzoli/1a44497db3cb29d2370ee2d125bb741c
<davsclaus> ah yeah you need to remove the CamelHttp* headers
<davsclaus> i guess maybe camel-undertow has been ""fixed"" since that example was created
<davsclaus> if you use something else like jetty it may have had that ""problem"" from the beginning
<davsclaus> i guess maybe service call eip should disregard those headers or something? unless you use those expression stuff etc
<davsclaus> where the expression evaluated the url of the service etc
{camel}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:16.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 16 09:55:16 UTC 2018,,,,,,,,0|i3kao7:,9.22337E+18,,,,,,,,,,,,,,,16/Nov/18 09:55;acosentino;What's the status on this one [~lb],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cluster service : review spring boot configuration order,CAMEL-11818,13104530,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2017/9/23 15:38,2019/8/6 12:04,2021/3/6 6:31,,2.20.0,,,,,3.x,,camel-spring-boot,camel-spring-boot-starters,,,,,,0,clustering,,,,,As today cluster services are configured before the camel context starts but some implementation may require the camel context to be there already so we should investigate if we can use afterPropertiesSet or something similar to bind the service to the context.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,54:43.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 16 09:54:43 UTC 2018,,,,,,,,0|i3kgfz:,9.22337E+18,,,,,,,,,,,,,,,16/Nov/18 09:54;acosentino;What's the status here [~lb],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
provide automated tests for Camel examples,CAMEL-11834,13104685,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,apupier,apupier,2017/9/25 8:25,2019/9/20 21:27,2021/3/6 6:31,,2.19.3,,,,,Future,,examples,,,,,,,0,,,,,,"currently someone need to check manually that everything is fine.
",,"nisiviglia commented on pull request #3181: CAMEL-11834: camel-example-spring-boot-rest-jpa
URL: https://github.com/apache/camel/pull/3181
 
 
   Fixed IntelliJ project file generation.
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;20/Sep/19 19:40;githubbot;600","oscerd commented on pull request #3181: CAMEL-11834: camel-example-spring-boot-rest-jpa
URL: https://github.com/apache/camel/pull/3181
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;20/Sep/19 21:27;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,CAMEL-11294,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,04:44.7,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 20 19:47:07 UTC 2019,,,,,,,,0|i3khe7:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 12:04;davsclaus;Contributions is welcome,20/Sep/19 19:47;ncs88;Fixed camel-example-spring-boot-rest-jpa not generating idea project files. pull request found [here.|https://github.com/apache/camel/pull/3181],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
xtokenize and apply xslt to a string does not work  with UTF-16BE,CAMEL-11846,13105112,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,antidote2,antidote2,2017/9/26 14:49,2019/8/6 12:04,2021/3/6 6:31,,2.17.5,,,,,,,camel-core,,,,,,,0,,,,,,"In XML, encoding is often provided inside <?xml ..?> tag. In general, you cannot read the tag, if you don't know the encoding, but XML Parsers support the detection of several encodings which allows them to read the tag. With that information they can read the whole file without knowing the ""charset"" in first place.

xtokenize and xslt use XmlInputFactory#createXmlStreamReader(Reader). But by providing a reader Camel tells, that it knows the encoding, so it won't be detected by the XML parser.
Also Camel sets the charset to UTF-8 if it is not provided inside a header. This makes the underlying reader fail reading UTF-16.

Using XmlInputFactory#createXmlStreamReader(InputStream) inside XMLTokenExpressionIterator works (tried in a patch). But the next xslt steps fails again because it again uses a Reader.

See Stackoverflow Question for reference:
[https://stackoverflow.com/questions/46322376/apache-camel-to-handle-encoding-declared-in-xml-file]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,09/Nov/17 12:27;antidote2;UTF-16BE (with BOM).png;https://issues.apache.org/jira/secure/attachment/12896856/UTF-16BE+%28with+BOM%29.png,09/Nov/17 12:37;antidote2;my  example looks like this (and  it's really UTF-16BE).png;https://issues.apache.org/jira/secure/attachment/12896857/my++example+looks+like+this+%28and++it%27s+really+UTF-16BE%29.png,,,,2,,,,,,,,,,,,,,,,,,,,11:00.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Nov 09 12:37:27 UTC 2017,,,,,,,,0|i3kk0v:,9.22337E+18,,,,,,,,,,,,,,,"03/Oct/17 11:11;vrlgohel;Hi Robert, 

Do you have any example or a reproducer application test case, by which you test this ? Since the changes would not involve a single file fix, it would be more helpful if you can attach a reproducer on how you are seeing the results. ","09/Nov/17 12:22;antidote2;Hi Viral,

I have a workaround first: I use BufferedInputStream wrapper, so I am able to reset it later (don't need to open the file twice). I give the InputStream  to XmlStreamReader, which gives me the encoding after reading XML file prolog. Then I set it for camel on the Exchange.CHARSET_NAME header:


{code:java}
EncodingUtil.DetectedEncodingStream detectedEncodingStream = EncodingUtil.detectEncoding(inputStream, new StaxConverter().getInputFactory());
            inputStream = detectedEncodingStream.inputStream;
            exchange.getIn().setHeader(Exchange.CHARSET_NAME, detectedEncodingStream.encoding);
{code}


{code:java}
public class EncodingUtil {

    public static class DetectedEncodingStream {
        public InputStream inputStream;
        public String encoding;

        public DetectedEncodingStream(InputStream inputStream, String encoding) {
            this.inputStream = inputStream;
            this.encoding = encoding;
        }
    }

    private static final int MAX_REWINDABLE_STREAM_BUFFER = 2*4196;

    public static final Logger LOGGER = LoggerFactory.getLogger(EncodingUtil.class);

    public static DetectedEncodingStream detectEncoding(InputStream inputStream, XMLInputFactory xmlInputFactory) {
        final BufferedInputStream bufferedInputStream = new BufferedInputStream(inputStream, MAX_REWINDABLE_STREAM_BUFFER);
        bufferedInputStream.mark(MAX_REWINDABLE_STREAM_BUFFER);
        String encoding;
        XMLStreamReader xmlStreamReader = null;
        try {
            xmlStreamReader = xmlInputFactory.createXMLStreamReader(bufferedInputStream);
        } catch (XMLStreamException e) {
            throw new RuntimeException(e);
        } finally {
            try {
                bufferedInputStream.reset();
            } catch (IOException e) {
                throw new RuntimeException(e);
            } finally {
                try {
                    xmlStreamReader.close();
                } catch (XMLStreamException e) {
                    throw new RuntimeException(""Failed to close XmlStreamRader"", e);
                }
            }
        }

        encoding = xmlStreamReader.getCharacterEncodingScheme();
        if (encoding == null) {
            encoding = StandardCharsets.UTF_8.name();
        }
        return new DetectedEncodingStream(bufferedInputStream, encoding);
    }
}
{code}
","09/Nov/17 12:32;antidote2;!UTF-16BE (with BOM).png!

Hmmm I am not able  to attach xml file here...

I think you can easily create a  test file by converting any UTF-8 XML to UTF-16BE with notepad++ for example.
","09/Nov/17 12:37;antidote2;!my  example looks like this (and  it's really UTF-16BE).png!

it cannot be parsed by Camel out of the box, because it would tell XmlStreamReader, it needs to use UTF-8 as encoding, so it will fail at first bytes, which are BOM",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-olingo4 - avoid using olingo-server-core apis,CAMEL-11861,13105701,13105451,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,dmvolod,davsclaus,davsclaus,2017/9/28 8:58,2019/8/6 12:05,2021/3/6 6:31,,,,,,,,,camel-olingo4,,,,,,,0,,,,,,See parent ticket,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,58:15.0,,,,,,,,0|i3knmf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-reactive-streams: use the Flow interfaces in Java 9,CAMEL-11870,13106349,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,nferraro,nferraro,nferraro,2017/10/2 8:01,2018/2/1 15:11,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,"We should use Java 9 flow interfaces for reactive-streams objects produced and consumed by camel-reactive-streams.
We can leverage the multi-release-jar feature to provide interfaces that extend from Java 9 Flow.xxx only when running on Java 9.

Some hints here: http://kto.so/2017/09/30/the-practical-truth-about-multi-release-jars/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,11:15.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 01 15:11:15 UTC 2018,,,,,,,,0|i3krlr:,9.22337E+18,,,,,,,,,,,,,,,"03/Oct/17 08:29;nferraro;PoC here: https://github.com/nicolaferraro/jdk9-reactive-streams

I'm also trying to include it in reactive-streams but it is does not solve all problems for library writers because it's asymmetric, so probably it won't be included there: https://github.com/reactive-streams/reactive-streams-jvm/issues/394",01/Feb/18 15:11;davsclaus;Maybe wait for this until JDK9 is the minimum version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
OsgiServiceRegistry might use stale Services,CAMEL-11877,13106661,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,laeubi,laeubi,2017/10/3 10:08,2019/8/6 12:06,2021/3/6 6:31,,,,,,,Future,,osgi,,,,,,,0,,,,,,"OsgiServiceRegistry uses raw ServiceReferences to obtain a Servie Object. Once the Object is fetched it is cached and reused. THis can lead to the state, that cmael uses outdated services (e.g. the service get updated/replaced).
To prevent this, Camel should use ServiceTracker instead, this would make fetching services much more easier and roboust because ServiceTracker will handle all the dynamic parts and can simply be queried for a Service.

The ServiceTraker Objects itself can then be cached and simply closed onContextStop",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,05:55.9,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 12:05:55 UTC 2019,,,,,,,,0|i3kthz:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 12:05;davsclaus;Contributions is welcome,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BlueprintCamelContext should use Filter for serviceevents,CAMEL-11878,13106666,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,laeubi,laeubi,2017/10/3 10:33,2019/8/6 12:06,2021/3/6 6:31,,,,,,,Future,,camel-blueprint,,,,,,,0,,,,,,"Currently BlueprintCamelContext registers for all ServcieEvents in fact it is only interrested in a very specific event type (objectClass=org.osgi.service.blueprint.container.BlueprintContainer)
Beside geting and testing more vents as neccesary, since it also logs each event received if enabled Debug logging ALL Osgi-Service events are logged (which might be much in a larger OSGi-App) making reading the logs really hard.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,47:17.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 01 15:09:40 UTC 2018,,,,,,,,0|i3ktj3:,9.22337E+18,,,,,,,,,,,,,,,"03/Oct/17 11:47;davsclaus;You are welcome to provide a PR
http://camel.apache.org/contributing",01/Feb/18 15:07;davsclaus;Yeah not sure why logging all those event changes. I am bumping that to TRACE,"01/Feb/18 15:09;davsclaus;The OSGi filter is still missing, the code seems to just want events for its own bundle.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Isolation for unmarshallers,CAMEL-11928,13110912,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,zregvart,zregvart,zregvart,2017/10/20 8:26,2018/2/27 12:01,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"I propose that we try to experiment isolating points of interaction with externally specified data in the unmarshallers with the purpose of not allowing data passed in the marshaller to trigger code execution or similar security issue.
This could be a per Camel context property that we could add or a per route or unmarshaller setting that can be set. Along with this property another property white listing the allowed classes/packages to be loaded by the unmarshaller would be required.
I think this can be accomplished by loading and running the unmarshaller within a ClassLoader that consults this whitelist, but also whitelists classes and dependencies of the unmarshaller.
This is of course an experiment, and it could be well proven that such an implementation would be too complex or much to difficult to use. I would not like to duplicate any effort done by Java modules, OSGI or any other module system.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,26:01.0,,,,,,,,0|i3li7z:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Automate update of online xsd on each release,CAMEL-11940,13111381,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,apupier,apupier,2017/10/23 11:44,2019/8/6 12:07,2021/3/6 6:31,,2.20.0,,,,,,,build system,,,,,,,0,,,,,,the online xsd http://camel.apache.org/schema/spring/camel-spring.xsd is currently updated manually and it has been forgotten to be updated at least 2 times in few months already. It would be better to have the process automated to avoid issues in the future,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-11941,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,40:45.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Jan 23 12:29:47 UTC 2018,,,,,,,,0|i3ll47:,9.22337E+18,,,,,,,,,,,,,,,"23/Oct/17 12:40;dmvolod;The current site camel.apache.org is hosting on the separate Wiki and not the part of the Camel git repository.
The new site will be placed inside git and will be much ease to implement this feature rather than automate update/upload to the foreign resource.","23/Oct/17 14:50;davsclaus;[~gzurowski] have you not updated those online XSD files in the past? If you know how to do that, you are welcome to copy the 2.20 XSD files as latest to the online web url.","23/Jan/18 12:29;onders;[~dmvolod]'s suggestion is good, i think, any other suggestion available for such automation?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Work with java.lang.reflect.Type instead of java.lang.Class in unmarshallers,CAMEL-11990,13115902,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,zregvart,zregvart,zregvart,2017/11/3 12:02,2018/2/26 13:07,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"Currently unmarshallers work with {{java.lang.Class}} for view or type of object to be unmarshalled. Some frameworks work with {{java.lang.reflect.Type}} that helps with generics. We should add methods to parameterize unmarshallers supporting {{java.lang.reflect.Type}} as view or type of object to be unmarshalled.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,02:51.0,,,,,,,,0|i3mcy7:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add call options to the camel-grpc component,CAMEL-11994,13116183,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dmvolod,dmvolod,2017/11/4 17:42,2020/2/28 10:09,2021/3/6 6:31,,2.20.0,,,,,3.x,,camel-grpc,,,,,,,0,gsoc2020,,,,,"Add advanced call options related to the one operation and not overriding channel option:
- deadline
- compression
- etc.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,52:58.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 28 10:09:25 UTC 2020,,,,,,,,0|i3meon:,9.22337E+18,,,,,,,,,,,,,,,16/Nov/18 09:52;acosentino;[~dmvolod] what's the status of this one?,"23/Feb/20 23:38;madhawak;Hi All, 

I'm hoping to work on this and CAMEL-12953 since both Jira issues are based on the same component (grpc). I started working with a solution to both issues. I will share my proposal and design soon. 

Thanks,
 Madhawa","28/Feb/20 10:09;zregvart;[~madhawak] are you considering this for the Google Summer of Code, and work on it as a student? If so, could you pop over to the developer mailing list ([subscribe first|https://camel.apache.org/community/mailing-list/]) and introduce yourself? We like to get to know the potential GSoC students and help them with their project proposals before they submit.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configuring SSL via endpointProperty in restConfiguration for an Undertow component will cause a BindException for multiple endpoints,CAMEL-11998,13117005,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Rovo,Rovo,2017/11/8 15:29,2020/12/17 15:29,2021/3/6 6:30,,2.19.0,2.20.0,,,,3.x,,camel-undertow,,,,,,,0,,,,,,"On recreating the test case depicted in https://github.com/apache/camel/blob/master/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/rest/RestApiUndertowTest.java and activating SSL configuration, I noticed that multiple endpoints exposed will configure multiple Undertow consumers which all try to bind onto the same port and thus throw a BindException.

The full Test-Code looks as follows:
{code:java}
import static org.hamcrest.CoreMatchers.equalTo;
import static org.hamcrest.CoreMatchers.is;

import at.rovo.utils.TestHttpClient;
import io.undertow.server.HttpServerExchange;
import java.net.InetSocketAddress;
import java.net.URL;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import javax.annotation.Resource;
import javax.net.ssl.SSLSession;
import org.apache.camel.CamelContext;
import org.apache.camel.Exchange;
import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.component.properties.PropertiesComponent;
import org.apache.camel.component.undertow.RestUndertowHttpBinding;
import org.apache.camel.component.undertow.UndertowHttpBinding;
import org.apache.camel.model.rest.RestParamType;
import org.apache.camel.spring.javaconfig.CamelConfiguration;
import org.apache.camel.test.spring.CamelSpringRunner;
import org.apache.camel.test.spring.CamelTestContextBootstrapper;
import org.apache.camel.util.jsse.KeyManagersParameters;
import org.apache.camel.util.jsse.KeyStoreParameters;
import org.apache.camel.util.jsse.SSLContextParameters;
import org.apache.camel.util.jsse.TrustManagersParameters;
import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.PropertySource;
import org.springframework.core.env.Environment;
import org.springframework.test.context.BootstrapWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.support.AnnotationConfigContextLoader;

@RunWith(CamelSpringRunner.class)
@BootstrapWith(CamelTestContextBootstrapper.class)
@ContextConfiguration(loader = AnnotationConfigContextLoader.class,
    classes = {UndertowRouteTest.ContextConfig.class})
public class UndertowRouteTest {

  private static final String REMOTE_IP = ""REMOTE_IP"";
  private static final String REMOTE_PORT = ""REMOTE_PORT"";
  private static final String USER_AGENT = ""USER_AGENT"";
  private static final String TLS_PROTOCOL_VERSION = ""TLS_PROTOCOL_VERSION"";
  private static final String TLS_CIPHER_SUITE = ""TLS_CIPHER_SUITE"";

  @Configuration
  @PropertySource({""classpath:test.properties""})
  public static class ContextConfig extends CamelConfiguration {

    @Resource
    private Environment env;

    @Bean(name = ""undertowHttpBinding"")
    public UndertowHttpBinding undertowHttpBinding() {
      return new IPResolvableRestUndertowHttpBinding();
    }

    public static class IPResolvableRestUndertowHttpBinding extends RestUndertowHttpBinding {

      @Override
      public void populateCamelHeaders(HttpServerExchange httpExchange, Map<String, Object> headersMap, Exchange exchange) throws Exception {
        super.populateCamelHeaders(httpExchange, headersMap, exchange);

        InetSocketAddress peer = httpExchange.getSourceAddress();
        headersMap.put(REMOTE_IP, peer.getAddress().getHostAddress());
        headersMap.put(REMOTE_PORT, peer.getPort());
        for (String key : headersMap.keySet()) {
          if (key.toLowerCase().equals(""user-agent"")) {
            headersMap.put(USER_AGENT, headersMap.get(key));
          }
        }

        if (null != httpExchange.getConnection().getSslSessionInfo()
            && null != httpExchange.getConnection().getSslSessionInfo().getSSLSession()) {

          SSLSession sslSession = httpExchange.getConnection().getSslSessionInfo().getSSLSession();
          exchange.getIn().setHeader(TLS_PROTOCOL_VERSION, sslSession.getProtocol());
          exchange.getIn().setHeader(TLS_CIPHER_SUITE, sslSession.getCipherSuite());
        }
      }
    }

    @Bean(name = ""sslContextParameters"")
    public SSLContextParameters sslContextParameters() {
      String keyStore = env.getProperty(""ssl.keyStore.resource"");
      URL keyStoreUrl = this.getClass().getResource(keyStore);

      KeyStoreParameters ksp = new KeyStoreParameters();
      ksp.setResource(keyStoreUrl.getPath());
      ksp.setPassword(env.getProperty(""ssl.keyStore.password""));

      KeyManagersParameters kmp = new KeyManagersParameters();
      kmp.setKeyStore(ksp);
      kmp.setKeyPassword(env.getProperty(""ssl.key.password""));

      String trustStore = env.getProperty(""ssl.trustStore.resource"");
      URL trustStoreUrl = this.getClass().getResource(trustStore);

      KeyStoreParameters tsp = new KeyStoreParameters();
      tsp.setResource(trustStoreUrl.getPath());
      tsp.setPassword(env.getProperty(""ssl.trustStore.password""));

      TrustManagersParameters tmp = new TrustManagersParameters();
      tmp.setKeyStore(tsp);

      SSLContextParameters scp = new SSLContextParameters();
      scp.setKeyManagers(kmp);
      scp.setTrustManagers(tmp);
      return scp;
    }

    @Override
    public void setupCamelContext(CamelContext camelContext) throws Exception {
      super.setupCamelContext(camelContext);
      PropertiesComponent pc =
          new PropertiesComponent(""classpath:"" + env.getProperty(""propertyfile""));
      camelContext.addComponent(""properties"", pc);
    }

    @Override
    public List<RouteBuilder> routes() {
      final List<RouteBuilder> routes = new ArrayList<>();
      routes.add(new RouteBuilder() {
        @Override
        public void configure() throws Exception {
          restConfiguration()
              .component(""undertow"")
              .host(""localhost"")
              .port(8383)
              .endpointProperty(""sslContextParameters"", ""#sslContextParameters"")
              .endpointProperty(""undertowHttpBinding"", ""#undertowHttpBinding"")
//              .apiContextPath(""/api-doc"")
//              .apiProperty(""cors"", ""true"")
//              .apiProperty(""api.title"", ""The hello rest thing"")
//              .apiProperty(""api.version"", ""1.2.3"")
              ;

          rest(""/hello"").consumes(""application/json"").produces(""application/json"")
              .get(""/hi/{name}"").description(""Saying hi"")
                .param().name(""name"").type(RestParamType.path).dataType(""string"").description(""Who is it"").endParam()
                .to(""log:hi"")
//              .get(""/bye/{name}"").description(""Saying bye"")
//                .param().name(""name"").type(RestParamType.path).dataType(""string"").description(""Who is it"").endParam()
//                .responseMessage().code(200).message(""A reply message"").endResponseMessage()
//                .to(""log:bye"")
//              .post(""/bye"").description(""To update the greeting message"").consumes(""application/xml"").produces(""application/xml"")
//                .param().name(""greeting"").type(RestParamType.body).dataType(""string"").description(""Message to use as greeting"").endParam()
//                .to(""log:bye"")
          ;
        }
      });
      return routes;
    }
  }

  @Test
  public void testRoute() throws Exception {

//    TestHttpClient client = new TestHttpClient.TestHttpClientBuilder(""http://localhost:8383"")
//        .build();
    TestHttpClient client = new TestHttpClient.TestHttpClientBuilder(""https://localhost:8383"")
        .forSSL(""/ssl/clientTrust.jks"", ""truststorePW"")
        .build();

    try {
//      TestHttpClient.Response response = client.sendGetRequest(""/api-doc"");
//      Assert.assertThat(""Unexpected status code received: "" + response.getStatusCode(),
//          response.getStatusCode(), is(equalTo(200)));

      TestHttpClient.Response response = client.sendGetRequest(""/hello/hi/test"");
      Assert.assertThat(""Unexpected status code received: "" + response.getStatusCode(),
          response.getStatusCode(), is(equalTo(200)));

//      TestHttpClient.Response response = client.sendGetRequest(""/hello/bye/test"");
//      Assert.assertThat(""Unexpected status code received: "" + response.getStatusCode(),
//          response.getStatusCode(), is(equalTo(200)));
//      Assert.assertThat(response.getContent(), is(equalTo(""No response available"")));
    } catch (Exception e) {
      Assert.fail(""Should not have thrown an exception"");
    }
  }
}
{code}

with the TestHttpClient being convenience class that wrapps an Apache HTTP 4.5 client internally:

{code:java}
import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.lang.invoke.MethodHandles;
import java.net.URISyntaxException;
import java.security.KeyManagementException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.cert.CertificateException;
import java.util.HashMap;
import java.util.Map;

import javax.net.ssl.HostnameVerifier;
import javax.net.ssl.SSLContext;

import org.apache.commons.codec.binary.Base64;
import org.apache.commons.lang.StringUtils;
import org.apache.http.Header;
import org.apache.http.HttpEntity;
import org.apache.http.HttpHost;
import org.apache.http.auth.AuthScope;
import org.apache.http.auth.UsernamePasswordCredentials;
import org.apache.http.client.AuthCache;
import org.apache.http.client.CredentialsProvider;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpDelete;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.client.methods.HttpPut;
import org.apache.http.client.protocol.HttpClientContext;
import org.apache.http.conn.ssl.DefaultHostnameVerifier;
import org.apache.http.conn.ssl.SSLConnectionSocketFactory;
import org.apache.http.entity.ContentType;
import org.apache.http.entity.InputStreamEntity;
import org.apache.http.entity.StringEntity;
import org.apache.http.impl.auth.BasicScheme;
import org.apache.http.impl.client.BasicAuthCache;
import org.apache.http.impl.client.BasicCredentialsProvider;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.ssl.SSLContexts;
import org.apache.http.util.EntityUtils;
import org.json.JSONException;
import org.json.JSONObject;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/**
 * This Apache HttpClient 4.5 based test client provides convenience methods for dealing with HTTP
 * requests and responses sent and received by invoked endpoints.
 */
@SuppressWarnings(""unused"")
public class TestHttpClient {

  private final static Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());

  private CloseableHttpClient httpClient;
  private String baseUrl;
  private HttpClientContext context = null;

  private TestHttpClient(CloseableHttpClient httpClient, HttpClientContext context, String baseUrl) {
    this.httpClient = httpClient;
    this.baseUrl = baseUrl;
    this.context = context;
  }

  public Response sendGetRequest(String path) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpGet httpGet = new HttpGet(baseUrl + path);

    LOG.debug(""Sending GET request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpGet, context)) {
      return processResponse(response);
    }
  }

  public Response sendGetRequest(String path, Map<String, String> headers) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpGet httpGet = new HttpGet(baseUrl + path);
    if (headers != null) {
      for (String header : headers.keySet()) {
        httpGet.setHeader(header, headers.get(header));
      }
    }

    LOG.debug(""Sending GET request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpGet, context)) {
      return processResponse(response);
    }
  }

  public Response sendDeleteRequest(String path) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpDelete httpDelete = new HttpDelete(baseUrl + path);

    LOG.debug(""Sending DELETE request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpDelete, context)) {
      return processResponse(response);
    }
  }

  public Response sendDeleteRequest(String path, Map<String, String> headers) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpDelete httpDelete = new HttpDelete(baseUrl + path);
    if (headers != null) {
      for (String header : headers.keySet()) {
        httpDelete.setHeader(header, headers.get(header));
      }
    }

    LOG.debug(""Sending DELETE request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpDelete, context)) {
      return processResponse(response);
    }
  }

  public Response sendPostRequest(String path, String payload, String contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPost httpPost = new HttpPost(baseUrl+path);
    StringEntity stringPayload = new StringEntity(payload, contentType);
    httpPost.setEntity(stringPayload);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPost, context)) {
      return processResponse(response);
    }
  }

  public Response sendPostRequest(String path, Map<String, String> headers, String payload, String contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPost httpPost = new HttpPost(baseUrl+path);
    if (headers != null) {
      for (String header : headers.keySet()) {
        httpPost.setHeader(header, headers.get(header));
      }
    }
    StringEntity stringPayload = new StringEntity(payload, contentType);
    httpPost.setEntity(stringPayload);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPost, context)) {
      return processResponse(response);
    }
  }

  public Response sendPostRequest(String path, InputStream payload, ContentType contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPost httpPost = new HttpPost(baseUrl+path);
    InputStreamEntity payloadEntity = new InputStreamEntity(payload, contentType);
    httpPost.setEntity(payloadEntity);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPost, context)) {
      return processResponse(response);
    }
  }

  public Response sendPostRequest(String path, Map<String, String> headers, InputStream payload, ContentType contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPost httpPost = new HttpPost(baseUrl+path);
    if (headers != null) {
      for (String header : headers.keySet()) {
        httpPost.setHeader(header, headers.get(header));
      }
    }
    InputStreamEntity payloadEntity = new InputStreamEntity(payload, contentType);
    httpPost.setEntity(payloadEntity);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPost, context)) {
      return processResponse(response);
    }
  }

  public Response sendPutRequest(String path, String payload, String contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPut httpPut = new HttpPut(baseUrl+path);
    StringEntity stringPayload = new StringEntity(payload, contentType);
    httpPut.setEntity(stringPayload);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPut, context)) {
      return processResponse(response);
    }
  }

  public Response sendPutRequest(String path, Map<String, String> headers, String payload, String contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPut httpPut = new HttpPut(baseUrl+path);
    if (headers != null) {
      for (String header : headers.keySet()) {
        httpPut.setHeader(header, headers.get(header));
      }
    }
    StringEntity stringPayload = new StringEntity(payload, contentType);
    httpPut.setEntity(stringPayload);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPut, context)) {
      return processResponse(response);
    }
  }

  public Response sendPutRequest(String path, InputStream payload, ContentType contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPut httpPut = new HttpPut(baseUrl+path);
    InputStreamEntity payloadEntity = new InputStreamEntity(payload, contentType);
    httpPut.setEntity(payloadEntity);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPut, context)) {
      return processResponse(response);
    }
  }

  public Response sendPutRequest(String path, Map<String, String> headers, InputStream payload, ContentType contentType) throws IOException {
    if (StringUtils.isBlank(path) || !path.startsWith(""/"")) {
      throw new IllegalArgumentException(""Invalid path provided"");
    }
    HttpPut httpPut = new HttpPut(baseUrl+path);
    if (headers != null) {
      for (String header : headers.keySet()) {
        httpPut.setHeader(header, headers.get(header));
      }
    }
    InputStreamEntity payloadEntity = new InputStreamEntity(payload, contentType);
    httpPut.setEntity(payloadEntity);

    LOG.debug(""Sending POST request to {}"", baseUrl + path);
    try (CloseableHttpResponse response = httpClient.execute(httpPut, context)) {
      return processResponse(response);
    }
  }

  private Response processResponse(CloseableHttpResponse response) throws IOException{
    HttpEntity entity = response.getEntity();
    Response _response = new Response();
    _response.setStatusCode(response.getStatusLine().getStatusCode());
    if (entity != null) {
      _response.setContentLength(entity.getContentLength());
    } else {
      _response.setContentLength(0L);
    }

    Map<String, String> headers = new HashMap<>();
    for (Header header : response.getAllHeaders()) {
      headers.put(header.getName(), header.getValue());
    }
    _response.setHeaders(headers);

    if (response.getStatusLine().getStatusCode() != 204 && entity != null) {
      BufferedReader reader = new BufferedReader(new InputStreamReader(entity.getContent()));
      StringBuilder sb = new StringBuilder();
      String line;
      while ((line = reader.readLine()) != null) {
        sb.append(line);
      }
      EntityUtils.consume(entity);

      LOG.debug(""Received response: {}"", sb.toString());
      _response.setContent(sb.toString());
      if (_response.getContentLength() <= 0) {
        _response.setContentLength(sb.length());
      }
    }
    return _response;
  }

  public static String decodeBase64(String base64) {
    return new String(Base64.decodeBase64(base64));
  }

  public static JSONObject convertResponseToJson(String response) throws JSONException {
    return new JSONObject(decodeBase64(response));
  }

  public class Response {

    private int statucCode = 400;
    private String content = null;
    private Map<String, String> headers = null;
    private long contentLength = 0L;

    Response() {

    }

    public int getStatusCode() {
      return statucCode;
    }

    void setStatusCode(int statucCode) {
      this.statucCode = statucCode;
    }

    public String getContent() {
      return content;
    }

    void setContent(String content) {
      this.content = content;
    }

    public Map<String, String> getHeaders() {
      return headers;
    }

    void setHeaders(Map<String, String> headers) {
      this.headers = headers;
    }

    public long getContentLength() {
      return this.contentLength;
    }

    void setContentLength(long contentLength) {
      this.contentLength = contentLength;
    }
  }

  /**
   * A test HTTP client based on Apache commons HTTP client
   */
  public static class TestHttpClientBuilder {

    private String protocol;
    private String host;
    private int port;
    private String truststoreLoc = null;
    private String truststorePW = null;
    private String user = null;
    private String password = null;

    public TestHttpClientBuilder(String protocol, String host, int port) {
      this.protocol = protocol;
      this.host = host;
      this.port = port;
    }

    public TestHttpClientBuilder(String url) {
      if (StringUtils.isBlank(url)) {
        throw new IllegalArgumentException(""Invalid URL provided"");
      }
      // separate the protocol - https://localhost:80/... --> protocol: https
      protocol = url.substring(0, url.indexOf("":""));
      if (StringUtils.isBlank(protocol) || !(protocol.equals(""http"") || protocol.equals(""https""))) {
        throw new IllegalArgumentException(""Invalid protocol specified: "" + protocol);
      }
      int hostStart = protocol.length() + ""://"".length();
      // check if there is a path delimiter defined
      String hostPort;
      int hostPortEndPos = url.indexOf(""/"", hostStart);
      if (hostPortEndPos == -1) { // https://localhost:80 -> hostPort: localhost:80
        hostPort = url.substring(hostStart);
      } else { // https://localhost:80/... -> hostPort: localhost:80
        hostPort = url.substring(hostStart, hostPortEndPos);
      }
      // split host and port
      int hostEnd = hostPort.indexOf("":"", hostStart);
      if (hostEnd == -1) { // https://localhost --> host: localhost
        host = hostPort;
        if (""http"".equals(protocol)) {
          port = 80;
        } else if (""https"".equals(protocol)) {
          port = 443;
        }
      } else { // https://localhost:80 --> host: localhost; port: 80
        host = hostPort.substring(0, hostEnd);
        port = Integer.parseInt(hostPort.substring(hostEnd + 1));
      }
    }

    public TestHttpClientBuilder forSSL(String truststoreLoc, String truststorePW) {
      this.truststoreLoc = truststoreLoc;
      this.truststorePW = truststorePW;
      return this;
    }

    public TestHttpClientBuilder withBasicAuth(String user, String password) {
      this.user = user;
      this.password = password;
      return this;
    }

    public TestHttpClient build() throws TestHttpClientBuilderException {

      HttpHost targetHost = new HttpHost(host, port, protocol);

      HttpClientBuilder httpClientBuilder = HttpClients.custom();
      if (StringUtils.isNotBlank(truststoreLoc) && StringUtils.isNotBlank(truststorePW)) {
        if (""http"".equals(protocol)) {
          throw new TestHttpClientBuilderException(
              ""Cannot setup SSL for HTTP protocol. Please change the protocol to HTTPS!"");
        }
        try {
          httpClientBuilder.setSSLSocketFactory(initializeSSL(truststoreLoc, truststorePW));
        } catch (Exception ex) {
          throw new TestHttpClientBuilderException(ex);
        }
      }
      HttpClientContext context = HttpClientContext.create();
      if (StringUtils.isNotBlank(user) && StringUtils.isNotBlank(password)) {
        CredentialsProvider credsProvider = initializeBasicAuthentication(targetHost, user,
                                                                          password);
        httpClientBuilder
            .setDefaultCredentialsProvider(credsProvider);
        AuthCache authCache = new BasicAuthCache();
        BasicScheme basicAuth = new BasicScheme();
        authCache.put(targetHost, basicAuth);

        context.setCredentialsProvider(credsProvider);
        context.setAuthCache(authCache);
      }

      return new TestHttpClient(httpClientBuilder.build(), context, protocol+""://""+host+"":""+port);
    }

    private SSLConnectionSocketFactory initializeSSL(String truststoreLoc, String truststorePW)
        throws KeyStoreException, IOException, NoSuchAlgorithmException, CertificateException,
               URISyntaxException, KeyManagementException {
      KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
      try (FileInputStream instream =
               new FileInputStream(new File(getClass().getResource(truststoreLoc).toURI()))) {
        trustStore.load(instream, truststorePW.toCharArray());
      }
      HostnameVerifier hostnameVerifier = new DefaultHostnameVerifier();
      SSLContext sslcontext = SSLContexts.custom().loadTrustMaterial(trustStore, null).build();
      return new SSLConnectionSocketFactory(sslcontext, hostnameVerifier);
    }

    private CredentialsProvider initializeBasicAuthentication(HttpHost targetHost, String user,
                                                              String password) {
      CredentialsProvider credsProvider = new BasicCredentialsProvider();
      credsProvider.setCredentials(
          new AuthScope(targetHost.getHostName(), targetHost.getPort()),
          new UsernamePasswordCredentials(user, password));
      return credsProvider;
    }
  }
}
{code}

The `BindException` occurs if SSL is enabled and either a currently commented endpoint definition or the swagger api configuration is reenabled. As long as there is only one rest endpoint available or the SSL configuration disabled (including switching the test client to plain HTTP; the other endpoints can be enabled as well) the test succeeds","MacBookPro 15' with Mac OS X (10.12.6), Oracle Java 1.8.144",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,29:05.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Dec 17 15:29:05 UTC 2020,,,,,,,,0|i3mjqn:,9.22337E+18,,,,,,,,,,,,,,,"08/Nov/17 15:59;Rovo;Note that this also occurs if an Undertow component is created, configured and added to the context manually via

{code:java}
    @Override
    public void setupCamelContext(CamelContext camelContext) throws Exception {
      super.setupCamelContext(camelContext);
      ...
      UndertowComponent undertow = new UndertowComponent();
      undertow.setSslContextParameters(sslContextParameters());
      undertow.setUndertowHttpBinding(undertowHttpBinding());
      undertow.setUseGlobalSslContextParameters(true);
      camelContext.addComponent(""undertow"", undertow);
    }
{code}

Here the HTTP binding will be replaced with the default RestUndertowHttpBinding if no endpoint property is specified in the restConfiguration itself, maybe this also applies for other parameters as well.",17/Dec/20 15:29;davsclaus;Can you try with latest 3.x release,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HazelcastRoutePolicy should handle server status change,CAMEL-12000,13117197,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,abccbaandy,abccbaandy,2017/11/9 7:31,2020/12/14 18:06,2021/3/6 6:30,,2.20.0,,,,,Future,,camel-hazelcast,,,,,,,0,,,,,,"Current HazelcastRoutePolicy don't care any of those status, for example : if hazelcast server restart, the lock may be duplicate, leadership taken by different client, the old lock won't release.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,31:55.0,,,,,,,,0|i3mkwv:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Iterator Expiration error in camel-kinesis components if the processor in route takes beyond 5 minutes to process the previously read message,CAMEL-12045,13121361,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jeffrey550@gmail,jeffrey550@gmail,2017/11/28 16:27,2017/11/28 18:10,2021/3/6 6:31,,2.20.1,,,,,,,camel-aws,,,,,,,0,kinesis,,,,,The camel kinesis components throws an iterator expired exception when the processor took more than five minutes to process the previous record received from the stream. Such similar fix has been already done for ddbstream(https://fisheye.apache.org/changelog/camel-git?cs=258f9c9ca808d6f97eced2b0b42db4e2cc5463f4). Will a similar fix works for kinesis component as well or the issue can be handled in a different way?,linux,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,09:17.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Nov 28 18:10:24 UTC 2017,,,,,,,,0|i3najr:,9.22337E+18,,,,,,,,,,,,,,,"28/Nov/17 18:09;davsclaus;You are welcome to dive into the source code and see if you can improve something.
","28/Nov/17 18:10;davsclaus;Also using 5+ minutes to process a message is a long time, so you may also need to consider your design, and why it takes that long.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failure of SipIntegrationTest,CAMEL-12048,13121570,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tdiesler,tdiesler,2017/11/29 7:33,2018/2/1 14:54,2021/3/6 6:31,,2.20.1,,,,,,,camel-sip,tests,,,,,,0,,,,,,"There are some exceptions in the test log:

{code}
&amp#27;[0m&amp#27;[31m10:36:04,409 ERROR [PresenceAgent] (PipelineThread-0) Detected a parse error: java.text.ParseException: [C@5cf84b8b
Unexpected Token : Call-ID
	at gov.nist.core.LexerCore.match(LexerCore.java:231)
	at gov.nist.javax.sip.parser.CallIDParser.parse(CallIDParser.java:66)
	at gov.nist.javax.sip.parser.StringMsgParser.processHeader(StringMsgParser.java:280)
	at gov.nist.javax.sip.parser.StringMsgParser.parseSIPMessage(StringMsgParser.java:170)
	at gov.nist.javax.sip.parser.PipelinedMsgParser.run(PipelinedMsgParser.java:304)
	at java.lang.Thread.run(Thread.java:745)

&amp#27;[0m&amp#27;[31m10:36:04,415 ERROR [org.apache.camel.component.sip.listener.SipPresenceAgentListener] (EventScannerThread) Exception thrown during publish/notify processing in the Sip Presence Agent Listener: java.lang.NullPointerException
	at org.apache.camel.component.sip.listener.SipPresenceAgentListener.sendNotification(SipPresenceAgentListener.java:82)
	at org.apache.camel.component.sip.listener.SipPresenceAgentListener.processPublish(SipPresenceAgentListener.java:124)
	at org.apache.camel.component.sip.listener.SipPresenceAgentListener.processRequest(SipPresenceAgentListener.java:64)
	at gov.nist.javax.sip.EventScanner.deliverEvent(EventScanner.java:227)
	at gov.nist.javax.sip.EventScanner.run(EventScanner.java:517)
	at java.lang.Thread.run(Thread.java:745)

&amp#27;[0m&amp#27;[0m10:36:14,380 INFO  [org.apache.camel.impl.DefaultCamelContext] (pool-2-thread-1) Apache Camel 2.20.0 (CamelContext: camel-255) is shutting down
&amp#27;[0m&amp#27;[0m10:36:14,381 INFO  [org.apache.camel.impl.DefaultShutdownStrategy] (pool-2-thread-1) Starting to graceful shutdown 2 routes (timeout 300 seconds)
&amp#27;[0m&amp#27;[0m10:36:14,381 INFO  [org.apache.camel.impl.DefaultShutdownStrategy] (Camel (camel-255) thread #429 - ShutdownTask) Route: route325 shutdown complete, was consuming from: sip://johndoe@localhost:17190?eventHeaderName=evtHdrName&eventId=evtid&stackName=Subscriber&toHost=localhost&toPort=17189&toUser=agent
&amp#27;[0m&amp#27;[31m10:36:14,385 ERROR [PresenceAgent] (PipelineThread-0) Detected a parse error: java.text.ParseException: [C@794d5e00 getNextChar: End of buffer
	at gov.nist.core.StringTokenizer.getNextChar(StringTokenizer.java:147)
	at gov.nist.core.LexerCore.peekNextToken(LexerCore.java:187)
	at gov.nist.javax.sip.parser.URLParser.uriReference(URLParser.java:339)
	at gov.nist.javax.sip.parser.RequestLineParser.parse(RequestLineParser.java:60)
	at gov.nist.javax.sip.parser.StringMsgParser.processFirstLine(StringMsgParser.java:230)
	at gov.nist.javax.sip.parser.StringMsgParser.parseSIPMessage(StringMsgParser.java:158)
	at gov.nist.javax.sip.parser.PipelinedMsgParser.run(PipelinedMsgParser.java:304)
	at java.lang.Thread.run(Thread.java:745)
{code}

CrossRef: https://github.com/wildfly-extras/wildfly-camel/issues/2229",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,33:00.0,,,,,,,,0|i3nbuf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MIME-Mutipart DataFormat reads attachment DataSource twice,CAMEL-12078,13124429,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tdudgeon,tdudgeon,2017/12/12 17:49,2018/11/19 12:31,2021/3/6 6:31,,2.20.1,,,,,Future,,camel-mail,,,,,,,0,,,,,,"As reported on mailing list if an attachment for MIME-Mutipart DataFormat is defined using a DataSource that can only be read once you get an exception.
http://mail-archives.apache.org/mod_mbox/camel-users/201712.mbox/%3C0e0d4b2e-dc32-c61e-3ccd-7ee14238c485%40gmail.com%3E

For instance, this happens if the DataSource is created using an InputStream that cannot be read multiple times
It should be possible to post the data only reading the input a single time.

I will add a test case shortly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:06.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Nov 19 12:31:28 UTC 2018,,,,,,,,0|i3ntd3:,9.22337E+18,,,,,,,,,,,,,,,"12/Dec/17 17:53;tdudgeon;Here is a unit test that fails currently as the DataSoruce is read twice:
https://github.com/tdudgeon/camel/commit/721b9851f5537a22b5353a2f7c5da62d8bcfe766
It's on my fork. Do you want a PR (the test fails at present)?
","12/Jan/18 08:41;davsclaus;Yes a PR with the test would be good, thanks","18/Jan/18 20:27;aldettinger;Given a quick look at this test case and I can't reproduce any issue.
Indeed, {{DataSource.getInputStream()}} is called twice, but returns a {{SharedByteArrayInputStream}} instance which support multiple readers.
Changing the test to use {{FileDataSource/FileInputStream}} does not produce either exception.

Could one reproduce the exception ?","19/Jan/18 13:31;davsclaus;I guess you may have some kind of input that is a stream that is only readable once, eg some http server stream or something. And they may not support reset / mark of input stream and all of that, hence you would need to use Camel's stream caching. Or in this case may try to avoid reading it 2 times. But a reproducer is best to have first.","19/Jan/18 13:45;githubbot;tdudgeon opened a new pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185
 
 
   This PR provides a failing test for CAMEL-12078.
   It shows that the DataSource for an attachment  is read twice.
   The test to look at is MimeMultipartDataFormatTest.attachmentReadOnce()

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","19/Jan/18 13:45;githubbot;GitHub user tdudgeon opened a pull request:

    https://github.com/apache/camel/pull/2185

    Failing test for CAMEL-12078

    This PR provides a failing test for CAMEL-12078.
    It shows that the DataSource for an attachment  is read twice.
    The test to look at is MimeMultipartDataFormatTest.attachmentReadOnce()

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/tdudgeon/camel master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/2185.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #2185
    
----
commit 721b9851f5537a22b5353a2f7c5da62d8bcfe766
Author: Tim Dudgeon <tdudgeon@...>
Date:   2017-12-12T17:51:05Z

    failing test for CAMEL-12078

commit 0fcd0b28865e424871975f80073cfc3dd887f337
Author: Tim Dudgeon <tdudgeon@...>
Date:   2018-01-19T08:40:39Z

    Merge branch 'master' of https://github.com/apache/camel

commit 3350601da20d02d439b6d0cbbb639871988c66ce
Author: Tim Dudgeon <tdudgeon@...>
Date:   2018-01-19T13:38:48Z

    Merge branch 'master' of https://github.com/apache/camel

----
","19/Jan/18 13:46;githubbot;oscerd commented on issue #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#issuecomment-358970234
 
 
   Can you please rebase?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","19/Jan/18 13:47;githubbot;oscerd commented on issue #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#issuecomment-358970234
 
 
   Can you please rebase and squash commit? Otherwise I'll take care of this.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
",19/Jan/18 13:49;tdudgeon;I created a PR with a test that illustrates this.,"19/Jan/18 13:58;githubbot;oscerd commented on issue #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#issuecomment-358973199
 
 
   Ok, this is an example test to show a failing scenario, so no need for rebase. Thanks @tdudgeon 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","23/Jan/18 14:34;davsclaus;This is harder to avoid as its the java-mail mime multipart itself that does this. I cannot see an easy solution. 

From where do you have those attachments in your use-case that is only readable once?
You can try to re-attach them with some custom DataHandler / DataSource where the DataSource is re-readable via byte array input stream or stored as files.

Even if you remove that line 140 with the saveChanges then the java-mail multipart will auto do that later when you call the write call where it then will do a saveChanges first. ","18/Jun/18 11:10;githubbot;onderson commented on a change in pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#discussion_r196040361
 
 

 ##########
 File path: components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
 ##########
 @@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
 
 Review comment:
   @tdudgeon , do you have any input to @aldettinger 's question? 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","18/Jun/18 11:46;githubbot;tdudgeon commented on a change in pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#discussion_r196048187
 
 

 ##########
 File path: components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
 ##########
 @@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
 
 Review comment:
   @aldettinger Yes, it can matter (and sorry for slow response). Some types of DataSource cannot be read repeatedly so you get an exception when it read a second time. 
   I'm sure this was discussed on the users mailing list, but I can't find the topic right now :-(

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","18/Jun/18 13:42;githubbot;onderson commented on a change in pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#discussion_r196081306
 
 

 ##########
 File path: components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
 ##########
 @@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
 
 Review comment:
   I think this is http://camel.465427.n5.nabble.com/MIME-Mutipart-DataFormat-streaming-td5789219.html

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","11/Jul/18 06:05;githubbot;onderson commented on a change in pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#discussion_r201573099
 
 

 ##########
 File path: components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
 ##########
 @@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
 
 Review comment:
   @tdudgeon , @aldettinger any update on this topic?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","11/Jul/18 07:01;githubbot;tdudgeon commented on a change in pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#discussion_r201582751
 
 

 ##########
 File path: components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
 ##########
 @@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
 
 Review comment:
   @onderson Not sure what update you want on this. The code does seem to read the InputStream twice, and that can cause problems when the stream can't be read multiple times.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","11/Jul/18 07:46;githubbot;onderson commented on a change in pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#discussion_r201593292
 
 

 ##########
 File path: components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
 ##########
 @@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
 
 Review comment:
   By just looking into your failing test case, it is hard to estimate your use case from my side. And as of an initial look, it seems like an issue/limitation about ByteArrayDataSource and maybe mail component needs another implementation of DataSource so user will be able to read attachments multiple times? Is this the solution you need and which requires such exploration on the component and mail API as well?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","24/Jul/18 18:57;githubbot;aldettinger commented on a change in pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#discussion_r204873667
 
 

 ##########
 File path: components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
 ##########
 @@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
 
 Review comment:
   @tdudgeon, IMHO the proposed test does not yet exhibit an issue as a valid DataSource.getInputStream() implementation would return [a new stream positioned at the beginning of the data each time it is called](https://docs.oracle.com/javase/8/docs/api/javax/activation/DataSource.html#getInputStream--).
   
   There I have 2 questions:
   Could it be that you faced an issue involving a wrong DataSource implementation ?
   Or, was your issue linked to a DataSource returning an input stream that don't support mark / reset ?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","19/Nov/18 12:25;githubbot;onderson commented on issue #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#issuecomment-439876214
 
 
   Since there is no activity on this feature. can we close this? There is already a request through JIRA.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","19/Nov/18 12:27;githubbot;oscerd commented on issue #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#issuecomment-439876600
 
 
   Sure, go ahead @onderson 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","19/Nov/18 12:31;githubbot;onderson commented on issue #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185#issuecomment-439877567
 
 
   Closing. to be followed upon https://issues.apache.org/jira/browse/CAMEL-12078

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","19/Nov/18 12:31;githubbot;onderson closed pull request #2185: Failing test for CAMEL-12078
URL: https://github.com/apache/camel/pull/2185
 
 
   

This is a PR merged from a forked repository.
As GitHub hides the original diff on merge, it is displayed below for
the sake of provenance:

As this is a foreign pull request (from a fork), the diff is supplied
below (as it won't show otherwise due to GitHub magic):

diff --git a/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java b/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
index ada79c017fc..a96072de28f 100644
--- a/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
+++ b/components/camel-mail/src/test/java/org/apache/camel/dataformat/mime/multipart/MimeMultipartDataFormatTest.java
@@ -351,6 +351,41 @@ public void unmarshalInlineHeadersNonMimeBodyStream() throws UnsupportedEncoding
         assertEquals(""This is not a MIME-Multipart"", bodyStr);
     }
 
+    @Test
+    public void attachmentReadOnce() throws IOException {
+        String attContentType = ""text/plain"";
+        String attText = ""Attachment Text"";
+        InputStream attInputStream = new ByteArrayInputStream(attText.getBytes());
+        String attFileName = ""Attachment File Name"";
+        in.setBody(""Body text"");
+        in.setHeader(Exchange.CONTENT_TYPE, ""text/plain;charset=iso8859-1;other-parameter=true"");
+        in.setHeader(Exchange.CONTENT_ENCODING, ""UTF8"");
+        Map<String, String> headers = new HashMap<String, String>();
+        headers.put(""Content-Description"", ""Sample Attachment Data"");
+        headers.put(""X-AdditionalData"", ""additional data"");
+        CountingByteArrayDataSource attachmentDs = new CountingByteArrayDataSource(attInputStream, attContentType);
+        addAttachment(attachmentDs, attFileName, headers);
+        Exchange result = template.send(""direct:roundtrip"", exchange);
+        Message out = result.getOut();
+        assertEquals(""Body text"", out.getBody(String.class));
+        assertThat(out.getHeader(Exchange.CONTENT_TYPE, String.class), startsWith(""text/plain""));
+        assertEquals(""UTF8"", out.getHeader(Exchange.CONTENT_ENCODING));
+        assertTrue(out.hasAttachments());
+        assertEquals(1, out.getAttachmentNames().size());
+        assertThat(out.getAttachmentNames(), hasItem(attFileName));
+        Attachment att = out.getAttachmentObject(attFileName);
+        DataHandler dh = att.getDataHandler();
+        assertNotNull(dh);
+        assertEquals(attContentType, dh.getContentType());
+        InputStream is = dh.getInputStream();
+        ByteArrayOutputStream os = new ByteArrayOutputStream();
+        IOHelper.copyAndCloseInput(is, os);
+        assertEquals(attText, new String(os.toByteArray()));
+        assertEquals(""Sample Attachment Data"", att.getHeader(""content-description""));
+        assertEquals(""additional data"", att.getHeader(""X-AdditionalData""));
+        assertEquals(1, attachmentDs.readCounts); // Fails - input is read twice
+    }
+
     private Attachment unmarshalAndCheckAttachmentName(String matcher) throws IOException, UnsupportedEncodingException {
         Exchange intermediate = template.send(""direct:unmarshalonlyinlineheaders"", exchange);
         assertNotNull(intermediate.getOut());
@@ -384,6 +419,34 @@ private void addAttachment(String attContentType, String attText, String attFile
         in.addAttachmentObject(attFileName, attachment);
     }
 
+    private void addAttachment(DataSource ds, String attFileName, Map<String, String> headers) throws IOException {
+        DefaultAttachment attachment = new DefaultAttachment(ds);
+        if (headers != null) {
+            for (String headerName : headers.keySet()) {
+                attachment.addHeader(headerName, headers.get(headerName));
+            }
+        }
+        in.addAttachmentObject(attFileName, attachment);
+    }
+
+    class CountingByteArrayDataSource extends ByteArrayDataSource {
+
+        int readCounts = 0;
+
+        CountingByteArrayDataSource(InputStream is, String attContentType) throws IOException {
+            super(is, attContentType);
+        }
+
+        @Override
+        public InputStream getInputStream() throws IOException {
+            //Thread.dumpStack();
+            readCounts++;
+            return super.getInputStream();
+        }
+
+    }
+
+
     @Override
     protected RouteBuilder createRouteBuilder() throws Exception {
         return new RouteBuilder() {


 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
",,,,,,,,,,,,
camel-snmp v3 should provide pooling for multiple endpoint / user authentication,CAMEL-12132,13129565,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,ricardozanini,ricardozanini,2018/1/9 15:46,2018/1/9 15:46,2021/3/6 6:31,,2.20.1,,,,,,,camel-snmp,,,,,,,1,,,,,,"we want to use camel with multiple polling endpoints of type SNMP. The restrictions we have are:
- snmp version 3 with authentication and privacy
- each endpoint might have different credentials und securityName (user).

When we configure two endpoint with the URIs

snmp:192.168.56.101:161?snmpVersion=3&type=POLL&oids=1.3.6.1.2.1.7.5.1&authenticationPassphrase=11111111&authenticationProtocol=SHA1
&privacyPassphrase=11111111&privacyProtocol=PrivAES128&securityName=secname111&securityLevel=3

and

snmp:192.168.56.102:1612?snmpVersion=3&type=POLL&oids=1.3.6.1.2.1.7.5.1&authenticationPassphrase=22222222&authenticationProtocol=SHA1
&privacyPassphrase=22222222&privacyProtocol=PrivAES128&securityName=secname222&securityLevel=3

We get exceptions when polling the first endpoint

2018-01-08 13:05:12.124  WARN 3076 --- [.168.56.101:161] o.a.c.c.s.SnmpOIDPoller                  : Consumer Consumer[snmp://192.168.56.101:161?authenticationPassphrase=xxxxxx&authenticationProtocol=SHA1&oids=1.3.6.1.2.1.7.5.1&privacyPassphrase=xxxxxx&privacyProtocol=AES128&securityLevel=3&securityName= secname111&snmpVersion=3&type=POLL] failed polling endpoint: snmp://udp:192.168.56.101/161. Will try again at next poll. Caused by: [org.snmp4j.MessageException - Message processing model 3 returned error: Unknown security name]

org.snmp4j.MessageException: Message processing model 3 returned error: Unknown security name
        at org.snmp4j.MessageDispatcherImpl.sendPdu(MessageDispatcherImpl.java:520) ~[snmp4j-2.5.0.jar:?]
        at org.snmp4j.Snmp.sendMessage(Snmp.java:1059) ~[snmp4j-2.5.0.jar:?]
        at org.snmp4j.Snmp.send(Snmp.java:1029) ~[snmp4j-2.5.0.jar:?]
        at org.snmp4j.Snmp.send(Snmp.java:1013) ~[snmp4j-2.5.0.jar:?]
        at org.apache.camel.component.snmp.SnmpOIDPoller.poll(SnmpOIDPoller.java:176) ~[camel-snmp-2.19.4.jar:2.19.4]
        at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:174) [camel-core-2.19.4.jar:2.19.4]
        at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:101) [camel-core-2.19.4.jar:2.19.4]
        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [?:1.8.0_112]
        at java.util.concurrent.FutureTask.runAndReset(Unknown Source) [?:1.8.0_112]
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown Source) [?:1.8.0_112]
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) [?:1.8.0_112]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [?:1.8.0_112]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [?:1.8.0_112]
        at java.lang.Thread.run(Unknown Source) [?:1.8.0_112]

It seems that after configuration of the second endpoint the security information of the first endpoint is not found/used anymore. 

See Nabble: http://camel.465427.n5.nabble.com/Bug-in-component-camel-snmp-td5816536.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,46:55.0,,,,,,,,0|i3oow7:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-saga-eip: add asynchronous compensation and related callbacks,CAMEL-12140,13130562,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,nferraro,nferraro,nferraro,2018/1/12 16:06,2019/10/28 14:36,2021/3/6 6:31,,,,,,,3.x,,eip,,,,,,,0,,,,,,"Compensating actions may not be able to complete synchronously. We should add some mechanism to do async (long) compensations. The same for completion callbacks.

The LRA framework handle this using the ""status"" callback.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,52:13.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 16 10:19:44 UTC 2018,,,,,,,,0|i3ouyv:,9.22337E+18,,,,,,,,,,,,,,,16/Nov/18 09:52;acosentino;[~nferraro] what's the status of this one?,"16/Nov/18 10:18;nferraro;There are some changes in progress in the microprofile LRA spec, it's better to defer until there's a stable release of LRA so we can map the EIP on the new features.",16/Nov/18 10:19;acosentino;Thanks for the update. Feel free to modify the fix version as you prefer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-wordpress: add support for JWT authentication,CAMEL-12201,13134091,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ricardozanini,ricardozanini,2018/1/26 19:35,2018/2/26 11:02,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,camel-wordpress,wordpress,,,,"`camel-wordpress` supports only Basic Authentication, which isn't the best approach for production environments.

For this to work, the plugin [JWT Authentication|https://wordpress.org/plugins/jwt-authentication-for-wp-rest-api/] must be installed on Wordpress.

There's a lot of plugins that implement JWT Authentication, but this one seems [more reliable|https://developer.wordpress.org/rest-api/using-the-rest-api/authentication/#authentication-plugins] and that's the one with more updates and stars. So, we should stick to it.",,,,,,,,,,1814400,1814400,,0%,1814400,1814400,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,35:02.0,,,,,,,,0|i3pfcf:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel JSSE filter algorithm aligned as how CXF does it,CAMEL-12281,13139636,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2018/2/20 11:14,2019/8/6 12:48,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,See CAMEL-12262 comment from Colm.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,14:32.0,,,,,,,,0|i3qdiv:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Setup a nightly/weekly (full) integration test run,CAMEL-12307,13141736,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,zregvart,zregvart,2018/3/1 9:16,2018/3/1 9:16,2021/3/6 6:31,,,,,,,,,build system,,,,,,,0,,,,,,"Currently we don't run integration tests in CI, i.e. we don't set {{integration}} profile as active. We could have a nightly/weekly job to run the full test suite with all the integration tests. This would mean setting up the accounts needed for the 3rd party services we use or splitting the tests into two categories: those that we can run reliably as integration tests (we have stable credentials for instance), and those that can be only run manually by the developer.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,16:14.0,,,,,,,,0|i3qqfj:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide integration with AWS Step Functions,CAMEL-12317,13142298,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,muellerc,muellerc,muellerc,2018/3/3 20:29,2018/11/16 9:51,2021/3/6 6:31,,,,,,,Future,,camel-aws,,,,,,,0,,,,,,Provide integration with AWS Step Functions: [https://aws.amazon.com/step-functions/],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,29:40.0,,,,,,,,0|i3qtvr:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bean DSL - Support double colon method reference,CAMEL-12319,13142456,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2018/3/5 9:43,2019/10/28 14:57,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,3,,,,,,"We can maybe add support for a bean reference lookup via double colon (java 8). Nicky has done a prototype/hack here

[https://github.com/moelholm/smallexamples/tree/master/springboot-camel-beanmethodrefs]

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,43:21.0,,,,,,,,0|i3quv3:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel components - Include component verifier details in the component json schema file,CAMEL-12398,13147386,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2018/3/23 8:33,2019/8/6 12:49,2021/3/6 6:31,,,,,,,3.x,,tooling,,,,,,,0,,,,,,"Some components have component verifiers implemented, but we dont really know which one without looking into the source etc.

We should make this information available in the json schema file, so we can know this. Then we can have out build tools be able to add details about this into the component docs, and as well 3rd party tools would know via the camel-catalog which components has this our not.

Also we may need to include more details information how to execute a verifier, eg which options to include, so the 3rd party tooling would know.

And we can also generate a report which component has this, and which has not. Then we can better find out and implement this for more and more components.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,33:14.0,,,,,,,,0|i3rotb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support univocity BeanListProcessor,CAMEL-12411,13148510,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,abccbaandy,abccbaandy,2018/3/28 8:07,2018/4/7 7:43,2021/3/6 6:31,,2.20.2,,,,,,,,,,,,,,0,,,,,,"I want use BeanListProcessor feature to map vo field with csv header name
https://github.com/uniVocity/univocity-parsers#using-annotations-to-map-your-java-beans

But I can't find any relate option to use this feature, maybe it's not support in camel univocity?
https://github.com/apache/camel/blob/master/components/camel-univocity-parsers/src/main/docs/univocity-csv-dataformat.adoc


btw, I can't find 
{code:java}
camel-univocity-parsers
{code}
 in Components selection ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,07:41.0,,,,,,,,0|i3rvpr:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CDI Transaction Handler does not handle properties from DefaultErrorHandlerBuilder,CAMEL-12452,13152990,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ckalkhoff,ckalkhoff,2018/4/17 12:41,2019/8/6 12:52,2021/3/6 6:31,,2.21.0,,,,,Future,,camel-cdi,,,,,,,0,,,,,,"JtaTransactionErrorHandlerBuilder extends DefaultErrorHandlerBuilder which has a lot of properties like logStackTrace.

Therefor those properties can be configured for JtaTransactionErrorHandlerBuilder but have no further effect:
{code:java}
errorHandler(transactionErrorHandler().logStackTrace(true));{code}
I understand that org.apache.camel.cdi.transaction.TransactionErrorHandler is based on the Spring version WITHOUT the redelivery. Since those properties are delegated to RedeliveryPolicy the supervised behaviour is understandable, yet the org.apache.camel.cdi.transaction.TransactionErrorHandler should provide a way to activate stack traces.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,41:16.0,,,,,,,,0|i3sn87:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Downloading a large file with streamDownload and stepwise hangs ,CAMEL-12472,13155669,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,karol.koltun,karol.koltun,2018/4/27 9:53,2018/8/22 13:33,2021/3/6 6:31,,2.21.0,,,,,,,camel-ftp,,,,,,,0,,,,,,"*Downloading a file exceeding certain, system-dependent size with streamDownload and stepwise options turned on hangs and causes timeout.*

I prepared a test which triggers the error. The patch file is pretty big, as I had to make a file enough big to make the timeout happen. Basing on my predictions, the size of the file triggering the error depends on FTP configuration and Java caching policy (no proof available yet). Working with plain Vsftpd server even 1mb files triggered timeouts. In the test environment the limit on my desktop is 5 mb. If the test passes, please make the file bigger.

My intepretation of the problem:
 # Start downloading a file with size exceeding InputStream cache (on my pc approx. 1mb is the limit).
 [FtpOperations.java:373|https://github.com/apache/camel/blob/dc6caa696255240a2a27c3bf229fc3aac9014401/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java#L423]
{code:java}
InputStream is = this.client.retrieveFileStream(remoteName);
{code}
 #  The server responds 150 and opens data connection.
{code:java}
[user_ftp] FTP response: Client ""127.0.0.1"", ""150 Opening BINARY mode data connection for x (1048576 bytes).""
{code}
 # The data connection does not end because InputStream is waiting for reads and it has not cached whole file. No ""226 Transfer complete"" response from server.
 # Try to change directory as stepwise is turned on.
 [FtpOperations.java:387|https://github.com/apache/camel/blob/dc6caa696255240a2a27c3bf229fc3aac9014401/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java#L443]
{code:java}
this.changeCurrentDirectory(currentDir);
{code}
 # Camel hangs as the server is still in the data connection and we are waiting for response from CWD command.","* Camel versions: 2.17.0 and 2.21.0
 * Ftp servers: plain vsftpd server, org.apache.ftpserver as a mock, Camel test environment ftp.
 * Files: depending on configuration from 1mb to 5mb file is vital for error to happen. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,27/Apr/18 09:42;karol.koltun;0001-FtpSimpleConsumeStreamingStepwiseTest.patch;https://issues.apache.org/jira/secure/attachment/12920989/0001-FtpSimpleConsumeStreamingStepwiseTest.patch,,,,,1,,,,,,,,,,,,,,,,,,,,33:09.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Aug 22 13:33:09 UTC 2018,,,,,,,,0|i3t3lr:,9.22337E+18,,,,,,,,,,,,,,,"22/Aug/18 13:33;davsclaus;Okay thanks for reporting. I think this is a corner-case or limitations when you use streamDownload as then as you say cannot potentially do other FTP opertaions afterwards, until you have read the data stream. 

Anyone got thoughts if there is something we can do, or if not we can add some notes in the documentation about this issue",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel kafka producer is blocking and processing sequentially,CAMEL-12492,13157831,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,omritt,omritt,2018/5/8 8:43,2018/8/6 14:19,2021/3/6 6:31,,2.21.0,,,,,,,camel-kafka,,,,,,,0,,,,,,"Camel Kafka producer (org.apache.camel.component.kafka.KafkaProducer) is blocking on the Kafka producer (org.apache.kafka.clients.producer.KafkaProducer) callback. This highly affects performance when there is a big latency between the client and the Kafka server. For example, if there is a latency of 100ms between the servers, then the Kafka producer will run at a throughput of 10 events per second (per Camel worker thread). This means that each worker thread will only handle one kafka event at a time resulting in very bad performance.

Changing the 'Process()' method in org.apache.camel.component.kafka.KafkaProducer to always return true (work synchronously) will boost performance on a machine with a latency of 150mb- from 6 events per second to 5000 events per second.",Windows/Centos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,19:15.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Aug 06 14:19:15 UTC 2018,,,,,,,,0|i3tgj3:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/18 14:19;davsclaus;You can set synchronous=true on the Camel endpoint then camel-kafka uses a synchronous process method that does not use Kafka callbacks.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
service call : create a service meta data based filter,CAMEL-12528,13160810,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2018/5/21 20:13,2019/4/29 7:08,2021/3/6 6:31,,,,,,,,,camel-core,,,,,,,0,cloud,service-call,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,50:11.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 16 09:50:11 UTC 2018,,,,,,,,0|i3tysn:,9.22337E+18,,,,,,,,,,,,,,,16/Nov/18 09:50;acosentino;[~lb] what's the status of this one?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Samba 2 Component,CAMEL-12563,13165054,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jborza,jborza,2018/6/8 23:53,2019/8/6 12:56,2021/3/6 6:31,,,,,,,Future,,,,,,,,,4,,,,,,"Hi,

I've developed a successor component *camel-smbj* to the current camel-jcifs as the former doesn't support Samba 2, and SMB1 is vulnerable and soon to be unsupported. 

The code currently lives here: [https://github.com/jborza/camel-smbj] 

It uses smbj [https://github.com/hierynomus/smbj] for the SMB2 support

Would it make sense to polish this some more and turn it into an official Camel (extras?) component?

Cheers,

Juraj",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,54:14.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 12:56:40 UTC 2019,,,,,,,,0|i3uokv:,9.22337E+18,,,,,,,,,,,,,,,"09/Jun/18 07:54;davsclaus;That sounds great. We love contributions

https://github.com/apache/camel/blob/master/CONTRIBUTING.md

smbj is apache license so we can host it here at Apache Camel.

 ","27/Oct/18 13:53;herzog.thomas81@gmail.com;I also implemented a prototype for a camel smbj integration.

[https://github.com/cchet-camel-extras/camel-smbj] 

 ","29/Oct/18 10:13;dmvolod;[~herzog.thomas81@gmail.com], good to see component inside the Camel components list. We are waiting for PR for it.","29/Oct/18 20:19;herzog.thomas81@gmail.com;[~dmvolod] I will open a PR when I'm done with it.

 ","01/Nov/18 12:14;herzog.thomas81@gmail.com;I think the first draft of the prototype is ready. Therefore, that is my first camel component, I would appreciate a review and feedback of one of you guys, before I start to implement tests for it.

Could someone of you guys give me some hint how to implement proper tests for my component and how to prepare the PR for it?  ","01/Nov/18 13:05;dmvolod;[~herzog.thomas81@gmail.com], it would be nice to move your work to the forked Apache Camel repo in separate branch.

After first look, you need to change package structure to common name, as well as ASF license headers for all files.

If you would like to test against real Linux based system with Samba support, you can use camel-testcontainers for it. Please see camel-nats or camel-consul as example of using Docker containers for tests.","03/Nov/18 10:17;herzog.thomas81@gmail.com;Can anyone tell me where I can find the settings.jar for Intellij? The doc at [http://camel.apache.org/set-up-your-ide.html] says to import the /etc/idea/settings.jar, but there is none.

Another thing is that the component validation tells me that documentation is missing for parameters defined in the GenericFileComponent class, which defines the parameters but without any doc. When I build camel-ftp I get the same message. How do I add the documentation?

 The import of the CamelCodeStyle does not work in Intellij as expected, for isntance the intend is 8 instead of 4, and intellij removes intend of the apache url contained in the license header. I really would prefer Intellij as the IDE instead of Eclipse. I have suffered from eclipse for years.","05/Nov/18 20:08;herzog.thomas81@gmail.com;I startet to implement container based tests for smbj component. The component is still within my repository but already uses camels component parent pom. Appreciate any feedback, when some tests have been added. 

https://github.com/cchet-camel-extras/camel-smbj/tree/feature/camel-component-smbj-container-tests",06/Aug/19 12:56;davsclaus;Any update on this?,,,,,,,,,,,,,,,,,,,,,,,,,
"under karaf console, have possibility to use wildcard for context in route-start/route-stop/suspend/resume commands",CAMEL-12591,13167166,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,jbonofre,nethrandir,nethrandir,2018/6/20 13:39,2019/8/6 12:57,2021/3/6 6:31,,2.21.1,,,,,Future,,karaf,,,,,,,0,,,,,,"route-start, route-stop, suspend and resume commands are defined as:

'route-start context route' in version 2.21.1,

it would be fine to be able to put wildcards in value for context.

Nowadays, i use 2.19 version and write command like '*route-stop *server1**' ...

I want to be able to stop/start/suspend/resume routes whatever the context.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,38:16.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Oct 02 08:41:22 UTC 2018,,,,,,,,0|i3v1vj:,9.22337E+18,,,,,,,,,,,,,,,02/Oct/18 08:38;jbonofre;A possible workaround is to use a Karaf shell script.,"02/Oct/18 08:38;jbonofre;Anyway, I will do the enhancement.",02/Oct/18 08:41;jbonofre;Let me prepare the Karaf workaround script to you and work on the PR for a fix in Camel directly.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel boot starters : be more consistent with spring-boot rules,CAMEL-12592,13167565,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2018/6/22 6:03,2019/8/6 13:08,2021/3/6 6:31,,,,,,,3.x,,camel-spring-boot-starters,,,,,,,0,,,,,,see. https://github.com/spring-projects/spring-boot/wiki/Building-On-Spring-Boot,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,26:21.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 25 13:26:21 UTC 2019,,,,,,,,0|i3v4c7:,9.22337E+18,,,,,,,,,,,,,,,25/Jul/19 13:26;davsclaus;I think we are in good shape here,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-Kafka security protocol SASL_PLAINTEXT not supported,CAMEL-12596,13168047,,Improvement,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,macuzil,macuzil,2018/6/25 13:21,2019/8/6 13:08,2021/3/6 6:31,,2.21.1,,,,,Future,,camel-kafka,,,,,,,1,,,,,,"I need to route ActiveMQ messages to Kafka(Cloudera) through Camel using authentication protocol Kerberos.

 

Kafka Security documentation states that it only supports *SASL_PLAINTEXT* and *SASL_SSL* for Kerberos: [https://www.cloudera.com/documentation/kafka/2-0-x/topics/kafka_security.html]

 
| ** |*SSL*|*Kerberos*|
|PLAINTEXT|No|No|
|SSL|Yes|No|
|SASL_PLAINTEXT|No|Yes|
|SASL_SSL|Yes|Yes|

 

 

 

On the other hand when I try to use *SASL_PLAINTEXT* for security protocol in Camel I am getting an error during the ActiveMQ starting. As a result ActiveMQ will not start.

 

I took the latest Camel code from: [https://github.com/apache/camel.git] and it states that it only supports *SSL* and *PLAINTEXT* as security protocols values.

 

| *securityProtocol* (security) | Protocol used to communicate with brokers. Currently only PLAINTEXT and SSL are supported. | PLAINTEXT | String

 

 

I did find this solved issue: [https://access.redhat.com/solutions/3364871] but I did not find any evidence that this is working in the latest Camel version.

 

My Camel setup fragment is:
{code:java}
<log message=""Started The Producer Route"" /><to uri=""kafka://10.100.70.00:9092?topic=MyEvents.s1.v1&amp;brokers=10.100.70.00:9092&amp;requestTimeoutMs=305000&amp;retries=3&amp;keySerializerClass=org.apache.kafka.common.serialization.ByteArraySerializer&amp;saslMechanism=GSSAPI&amp;serializerClass=org.apache.kafka.common.serialization.ByteArraySerializer&amp;securityProtocol=SASL_PLAINTEXT&amp;saslKerberosServiceName=kafka""/>{code}
 

I am using an external Jaas configuration file:
{code:java}
KafkaClient {
    com.sun.security.auth.module.Krb5LoginModule required
    useKeyTab=true
    storeKey=true
    keyTab=""./user.keytab""
    useTicketCache=false
    serviceName=""kafka""
    principal="" Group/user@DOMAIN.LAN"";
};{code}
Why Camel does not support *SASL_PLAINTEXT* *and* *SASL_SSL*?

 

Please help me this is *VERY IMPORTANT* for the project I am working on and this issue is considered a blocker. I am also an experienced Java programmer and I am willing to contribute if necessary to the open source code for such implementation if the need may be.","* ActiveMQ v5.15.4
 * Camel:2.21.1
 * Kafka Clients: 1.1.0
 * Server Version: Apache/2.4.6(CentOS)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,03/Jul/18 08:02;macuzil;camel.xml;https://issues.apache.org/jira/secure/attachment/12930079/camel.xml,03/Jul/18 08:00;macuzil;camel.xml;https://issues.apache.org/jira/secure/attachment/12930078/camel.xml,,,,2,,,,,,,,,,,,,,,,,,,,36:50.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Jul 03 09:18:56 UTC 2018,,,,,,,,0|i3v72v:,9.22337E+18,,,,,,,,,,,,,,,"25/Jun/18 13:36;acosentino;Did you check the saslMechanism option?

https://github.com/apache/camel/blob/master/components/camel-kafka/src/main/docs/kafka-component.adoc","25/Jun/18 13:47;macuzil;[~ancosen] as you can see above I am using
{code:java}
saslMechanism=GSSAPI{code}
but I need to use in addition to this mechanism the security protocol *SASL_PLAINTEXT* which is not currently supported by Camel in order to produce messages to Cloudera Kafka.","02/Jul/18 08:24;acosentino;[https://github.com/apache/camel/issues/1897]

This PR shows that SASL_PLAINTEXT and SASL_SSL are supported. It seems a problem with your conf.","02/Jul/18 09:24;macuzil;[~ancosen] in the provided link there is no evidence whatsoever that the stated combination works:

saslMechanism=GSSAPI,

securityProtocol=SASL_PLAINTEXT

Did you personally tried this combination? Can you start ActiveMQ using this combination?

My configuration works fine (ActiveMQ starts without errors) with combination:

saslMechanism=GSSAPI,

securityProtocol=PLAINTEXT

In the documentation provided by you [https://github.com/apache/camel/blob/master/components/camel-kafka/src/main/docs/kafka-component.adoc] it specifically states:
|*securityProtocol* (security)|Protocol used to communicate with brokers. Currently only PLAINTEXT and SSL are supported.|PLAINTEXT|String|

 ",02/Jul/18 09:26;macuzil;Explanation/Resolution provided for this issue not satisfactory. There is no evidence that the assigned solver had checked properly the described issue :(,"02/Jul/18 09:30;acosentino;The docs provided must be updated, but the reproducer used by that guy works. I cannot test your application or reconstruct everything without a reproducer. I can reopen this, but it doesn't make sense. The mapping between the options in kafka and camel are one to one, so if you use security Protocol the allowed values are the same as in Kafka. So it's probably more a problem in your configuration than in camel itself. I'm reopening this if you want, but I doubt someone can test everything for you without a reproducer.",02/Jul/18 09:32;acosentino;If you want Enterprise support there are solutions like the Red Hat one.,"02/Jul/18 09:54;acosentino;By the way I don't think you're using a good approach, you're reporting an issue and that's fine, but you cannot pretend any assignee will try to reconstruct your environment and run/test everything for you. At least you need to provide a reproducer. The community works on this project during free time, so you cannot just ""pretend"".","02/Jul/18 09:58;macuzil;[~ancosen] As evidence I've cloned the latest Camel code: 

[https://github.com/apache/camel.git] and I was not able to find any SASL_PLAINTEXT constant into the code. In the file KafkaComponentConfiguration.java I did find the following lines:

 
{code:java}
/**
 * Protocol used to communicate with brokers. Currently only PLAINTEXT
 * and SSL are supported.
 */
private String securityProtocol = ""PLAINTEXT"";{code}
I do not doubt that the mapping is done internally with Kafka Client. The problem stated here is that in the above described case the mapping is missing :(. That means the SASL_PLAINTEXT is not accepted as value for securityProtocol.

This is a critical issue for the project I am working on as I cannot produce messages to Kafka through Cloudera as long as the security protocol value SASL_PLAINTEXT is not a recognised value for securityProtocol by Camel. I could not find any test in Kafka to prove this value is accepted.

 ",02/Jul/18 10:03;acosentino;Can you add the log of your Camel route while is failing?,02/Jul/18 10:31;macuzil;[~ancosen] The Camel route is not failing :( (that would be good news for me) the ActiveMQ does not start at all when I use SASL_PLAINTEXT instead of PLAINTEXT. That means Camel does not accept SASL_PLAINTEXT as security protocol value as described above.,"02/Jul/18 10:34;acosentino;I still don't understand, but if your route doesn't fail the problem seems to be in ActiveMQ side more than in Camel. Can you create a reproducer?","02/Jul/18 10:53;macuzil;[~ancosen] I am not very familiar with Camel internals but I believe the Camel parameters shall be verified so user does not enter garbage and the configuration could be loaded. I do not believe that ActiveMQ shall be aware of the valid parameters for Camel configuration. During such process Camel throws a verification exception therefore ActiveMQ does not start. 

So, during the Camel parameters verification process the SASL_PLAINTEXT is not accepted as a parameter. This is easy to try with any Camel configurations you might have. Just try to enter securityProtocol=SASL_PLAINTEXT and you will get an error during the verification stage which takes place at ActiveMQ startup. Let me know if you can try this suggested test.

If not, as right now I do not have access to my test setup but as soon as I get access I will provide you with all my details.",02/Jul/18 10:56;acosentino;This wasn't clear from the beginning. That's why I was asking you the details.,02/Jul/18 11:19;acosentino;The SASL_PLAINTEXT parameter is not accepted in combination with GSSAPI as saslMechanism,"02/Jul/18 13:33;acosentino;By the way to me it looks always a problem in the way you're configuring your endpoint.

[https://github.com/apache/kafka/blob/1.0/clients/src/main/java/org/apache/kafka/common/security/auth/SecurityProtocol.java]

The SASL_PLAINTEXT security Protocol is accepted by Camel. If you can add a bit of logging it would be better.","02/Jul/18 13:48;acosentino;Please try to specify the saslJaasConfig option with the content of your Jaas Config external file.

Like for example:

 
{code:java}
String saslJaasConfig = ""com.sun.security.auth.module.Krb5LoginModule required ""
            + ""useTicketCache=false ""
            + ""storeKey=true ""
            + ""serviceName=\""kafka\"" ""
            + ""useKeyTab=true ""
            + ""keyTab=\""./user.keytab\"" ""
            + ""principal=\""user@EXAMPLE.COM\"";"");

{code}
 

and in your endpoint
{code:java}
""kafka://10.100.70.00:9092?topic=MyEvents.s1.v1&amp;brokers=10.100.70.00:9092&amp;requestTimeoutMs=305000&amp;retries=3&amp;keySerializerClass=org.apache.kafka.common.serialization.ByteArraySerializer&amp;saslMechanism=GSSAPI&amp;serializerClass=org.apache.kafka.common.serialization.ByteArraySerializer&amp;securityProtocol=SASL_PLAINTEXT&amp;saslJaasConfig="" + saslJaasConfig
{code}
I didn't test it, but I believe the problem is there.

 ","02/Jul/18 14:21;macuzil;[~ancosen] Actually I've tried in the past all combinations with and without saslJaasConfig and it seems like SASL_PLAINTEXT with GSSAPI are the problem. As soon as I use PLAINTEXT instead of SASL_PLAINTEXT I get no verification problem. Do you have an explanation for this?

I've tried configuration:
{code:java}
     <to uri=""kafka://10.100.70.00:9092?topic=Events.s1.v1&amp;brokers=10.100.70.00:9092&amp;saslMechanism=GSSAPI&amp;securityProtocol=SASL_PLAINTEXT&amp;saslKerberosServiceName=kafka&amp;saslJaasConfig=com.sun.security.auth.module.Krb5LoginModule+required+useKeyTab%3Dtrue+storeKey%3Dtrue+keyTab%3D%22.%2Fsvc_kafka.keytab%22+useTicketCache%3Dfalse+serviceName%3D%22kafka%22+principal%3D%22user%40DOMAIN%22""/>{code}
 ",02/Jul/18 14:25;acosentino;Can you please paste this verification error?,"02/Jul/18 16:52;macuzil;ActiveMQ shuts down immediately after starting. There is no error into the log during shutdown:
{code:java}
acks = 1     
batch.size = 16384     
bootstrap.servers = [10.148.70.74:9092]     
buffer.memory = 33554432     
client.id =     
compression.type = none     
connections.max.idle.ms = 540000     
enable.idempotence = false     
interceptor.classes = []     
key.serializer = class org.apache.kafka.common.serialization.ByteArraySerializer     linger.ms = 0     
max.block.ms = 60000     
max.in.flight.requests.per.connection = 5     
max.request.size = 1048576     
metadata.max.age.ms = 300000     
metric.reporters = []     
metrics.num.samples = 2     
metrics.recording.level = INFO     
metrics.sample.window.ms = 30000     
partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner   receive.buffer.bytes = 65536     
reconnect.backoff.max.ms = 1000     
reconnect.backoff.ms = 50     
request.timeout.ms = 305000     
retries = 3     
retry.backoff.ms = 100     
sasl.jaas.config = [hidden]     
sasl.kerberos.kinit.cmd = /usr/bin/kinit     
sasl.kerberos.min.time.before.relogin = 60000     
sasl.kerberos.service.name = kafka     
sasl.kerberos.ticket.renew.jitter = 0.05     
sasl.kerberos.ticket.renew.window.factor = 0.8     
sasl.mechanism = GSSAPI     
security.protocol = SASL_PLAINTEXT     
send.buffer.bytes = 131072     
ssl.cipher.suites = null     
ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]     ssl.endpoint.identification.algorithm = null     
ssl.key.password = null     
ssl.keymanager.algorithm = SunX509     
ssl.keystore.location = null     
ssl.keystore.password = null     
ssl.keystore.type = JKS     
ssl.protocol = TLS     
ssl.provider = null     
ssl.secure.random.implementation = null     
ssl.trustmanager.algorithm = PKIX     
ssl.truststore.location = null     
ssl.truststore.password = null     
ssl.truststore.type = JKS     
transaction.timeout.ms = 60000     
transactional.id = null     
value.serializer = class org.apache.kafka.common.serialization.ByteArraySerializer{code}
 
{code:java}
2018-07-02 18:27:16,382 | INFO  | [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 0 ms. | org.apache.kafka.clients.producer.KafkaProducer | main

2018-07-02 18:27:16,384 | INFO  | Apache Camel 2.21.0 (CamelContext: camel) is shutting down | org.apache.camel.spring.SpringCamelContext | main

2018-07-02 18:27:16,388 | DEBUG | Shutting down with no inflight threads. | org.apache.camel.impl.DefaultAsyncProcessorAwaitManager | main

2018-07-02 18:27:16,399 | DEBUG | Clearing simple language predicate cache[size=0, hits=0, misses=0, evicted=0] | org.apache.camel.language.simple.SimpleLanguage | main

2018-07-02 18:27:16,404 | DEBUG | Clearing simple language expression cache[size=1, hits=0, misses=1, evicted=0] | org.apache.camel.language.simple.SimpleLanguage | main

2018-07-02 18:27:16,407 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=routecontrollers,name=""camel"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,410 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=health,name=""camel"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,413 | DEBUG | Removed TimerListener: org.apache.camel.management.mbean.ManagedCamelContext@541179e7 | org.apache.camel.support.TimerListenerManager | main

2018-07-02 18:27:16,416 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=context,name=""camel"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,419 | DEBUG | Shutting down with no inflight exchanges. | org.apache.camel.impl.DefaultInflightRepository | main

2018-07-02 18:27:16,422 | DEBUG | Stopping service pool: org.apache.camel.impl.SharedPollingConsumerServicePool@16e7b402 | org.apache.camel.impl.SharedPollingConsumerServicePool | main

2018-07-02 18:27:16,425 | DEBUG | Stopping service pool: org.apache.camel.impl.SharedProducerServicePool@2f00f851 | org.apache.camel.impl.SharedProducerServicePool | main

2018-07-02 18:27:16,428 | DEBUG | Giving time for 1 ExecutorService's to shutdown properly (acting as fail-safe) | org.apache.camel.impl.DefaultExecutorServiceManager | main

2018-07-02 18:27:16,434 | DEBUG | Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@8bd86c8[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds. | org.apache.camel.impl.DefaultExecutorServiceManager | main

2018-07-02 18:27:16,437 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=threadpools,name=""JmsConsumer(0x885e7ff)"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,440 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultInflightRepository | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,444 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultShutdownStrategy | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,447 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=processors,name=""setHeader1"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,450 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=components,name=""kafka"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,453 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=processors,name=""log1"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,456 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=routes,name=""rtbi.kafka-producer"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,460 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=tracer,name=BacklogDebugger | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,465 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultRestRegistry | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,467 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultExecutorServiceManager | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,471 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=processors,name=""to1"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,474 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=components,name=""spring-event"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,477 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultTransformerRegistry | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,479 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultAsyncProcessorAwaitManager | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,482 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=endpoints,name=""kafka://10.148.70.74:9092\?brokers=10.148.70.74%3A9092&keySerializerClass=org.apache.kafka.common.serialization.ByteArraySerializer&requestTimeoutMs=305000&retries=3&saslJaasConfig=com.sun.security.auth.module.Krb5LoginModule+required+useKeyTab%3Dtrue+storeKey%3Dtrue+keyTab%3D%22.%2Fsvc_kafka.keytab%22+useTicketCache%3Dfalse+serviceName%3D%22kafka%22+principal%3D%22svc_kafka%40GTAT.LAN%22&saslKerberosServiceName=kafka&saslMechanism=GSSAPI&securityProtocol=SASL_PLAINTEXT&serializerClass=org.apache.kafka.common.serialization.ByteArraySerializer&topic=GameEvents.s1.v1"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,485 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultValidatorRegistry | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,488 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=endpoints,name=""activemq://queue:RTBI.gameEvents.site1.v1"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,491 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultTypeConverter | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,494 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=errorhandlers,name=""DefaultErrorHandlerBuilder(ref:CamelDefaultErrorHandlerBuilder)"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,497 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultEndpointRegistry | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,500 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=tracer,name=BacklogTracer | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,503 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=producers,name=KafkaProducer(0x55d58825) | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,506 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=processors,name=""setHeader2"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,508 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=services,name=DefaultRuntimeCamelCatalog | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,511 | DEBUG | Unregistered MBean with ObjectName: org.apache.camel:context=camel,type=components,name=""activemq"" | org.apache.camel.management.DefaultManagementAgent | main

2018-07-02 18:27:16,514 | DEBUG | Clearing cache[size=15, hits=4, misses=26, evicted=11] | org.apache.camel.management.MBeanInfoAssembler | main

2018-07-02 18:27:16,520 | DEBUG | Clearing cache[size=62, hits=105, misses=92, evicted=30] | org.apache.camel.util.IntrospectionSupport | main

2018-07-02 18:27:16,524 | INFO  | Apache Camel 2.21.0 (CamelContext: camel) uptime 0.916 seconds | org.apache.camel.spring.SpringCamelContext | main

2018-07-02 18:27:16,527 | INFO  | Apache Camel 2.21.0 (CamelContext: camel) is shutdown in 0.143 seconds | org.apache.camel.spring.SpringCamelContext | main

2018-07-02 18:27:16,533 | INFO  | Apache ActiveMQ 5.15.4 (localhost, ID:atix-bi-amq1-44600-1530548833663-0:1) is shutting down | org.apache.activemq.broker.BrokerService | ActiveMQ ShutdownHook

2018-07-02 18:27:16,535 | INFO  | Connector openwire stopped | org.apache.activemq.broker.TransportConnector | ActiveMQ ShutdownHook

2018-07-02 18:27:16,536 | INFO  | socketQueue interrupted - stopping | org.apache.activemq.transport.tcp.TcpTransportServer | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&wireFormat.maxFrameSize=104857600

2018-07-02 18:27:16,537 | INFO  | Could not accept connection during shutdown  : {} | org.apache.activemq.broker.TransportConnector | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&wireFormat.maxFrameSize=104857600

java.lang.InterruptedException

    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)[:1.8.0_171]

    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)[:1.8.0_171]

    at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)[:1.8.0_171]

    at org.apache.activemq.transport.tcp.TcpTransportServer$1.run(TcpTransportServer.java:479)[activemq-client-5.15.4.jar:5.15.4]

    at java.lang.Thread.run(Thread.java:748)[:1.8.0_171]

2018-07-02 18:27:16,538 | INFO  | Connector amqp stopped | org.apache.activemq.broker.TransportConnector | ActiveMQ ShutdownHook

2018-07-02 18:27:16,540 | INFO  | Connector stomp stopped | org.apache.activemq.broker.TransportConnector | ActiveMQ ShutdownHook

2018-07-02 18:27:16,541 | INFO  | Connector mqtt stopped | org.apache.activemq.broker.TransportConnector | ActiveMQ ShutdownHook

2018-07-02 18:27:16,557 | INFO  | Connector ws stopped | org.apache.activemq.broker.TransportConnector | ActiveMQ ShutdownHook

2018-07-02 18:27:16,560 | INFO  | PListStore:[/opt/apache-activemq-5.15.4/data/localhost/tmp_storage] stopped | org.apache.activemq.store.kahadb.plist.PListStoreImpl | ActiveMQ ShutdownHook

2018-07-02 18:27:16,561 | INFO  | Stopping async queue tasks | org.apache.activemq.store.kahadb.KahaDBStore | ActiveMQ ShutdownHook

2018-07-02 18:27:16,562 | INFO  | Stopping async topic tasks | org.apache.activemq.store.kahadb.KahaDBStore | ActiveMQ ShutdownHook

2018-07-02 18:27:16,563 | INFO  | Stopped KahaDB | org.apache.activemq.store.kahadb.KahaDBStore | ActiveMQ ShutdownHook

2018-07-02 18:27:16,597 | INFO  | Apache ActiveMQ 5.15.4 (localhost, ID:atix-bi-amq1-44600-1530548833663-0:1) uptime 3.061 seconds | org.apache.activemq.broker.BrokerService | ActiveMQ ShutdownHook

2018-07-02 18:27:16,598 | INFO  | Apache ActiveMQ 5.15.4 (localhost, ID:atix-bi-amq1-44600-1530548833663-0:1) is shutdown | org.apache.activemq.broker.BrokerService | ActiveMQ ShutdownHook

2018-07-02 18:27:16,599 | INFO  | Closing org.apache.activemq.xbean.XBeanBrokerFactory$1@5bcab519: startup date [Mon Jul 02 18:27:11 CEST 2018]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | ActiveMQ ShutdownHook

2018-07-02 18:27:16,600 | DEBUG | onApplicationEvent: org.springframework.context.event.ContextClosedEvent[source=org.apache.activemq.xbean.XBeanBrokerFactory$1@5bcab519: startup date [Mon Jul 02 18:27:11 CEST 2018]; root of context hierarchy] | org.apache.camel.spring.SpringCamelContext | ActiveMQ ShutdownHook

2018-07-02 18:27:16,602 | INFO  | Stopping beans in phase 2147483646 | org.springframework.context.support.DefaultLifecycleProcessor | ActiveMQ ShutdownHook

2018-07-02 18:27:16,624 | INFO  | Destroying Spring FrameworkServlet 'dispatcher' | /admin | ActiveMQ ShutdownHook

2018-07-02 18:27:16,627 | INFO  | Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Mon Jul 02 18:27:14 CEST 2018]; parent: Root WebApplicationContext | org.springframework.web.context.support.XmlWebApplicationContext | ActiveMQ ShutdownHook

2018-07-02 18:27:16,629 | INFO  | Closing Root WebApplicationContext: startup date [Mon Jul 02 18:27:14 CEST 2018]; root of context hierarchy | org.springframework.web.context.support.XmlWebApplicationContext | ActiveMQ ShutdownHook{code}","02/Jul/18 16:59;macuzil;Unfortunately it is hard to explain what is going on :(. By trying various settings I got to the idea that SASL_PLAINTEXT is somehow not accepted. By looking into the Camel code where it states that only PLAINTEXT and SSL are supported I decided to come here and open this issue.

Why would they write into the code that only SSL and PLAINTEXT are supported when more are supposedly supported?","02/Jul/18 17:10;acosentino;Because when we did that javadoc we take what it was inside the Kafka client docs at that time. 

[https://github.com/apache/camel/commit/b2aa831da8c8f78f7d6ca908c5b33957bbc7fa24]

SASL_PLAINTEXT and SASL_SSL were introduced in 0.9.x","02/Jul/18 17:13;acosentino;We write that at the time, because we take the docs from the Kafka official documentation and use that to illustrate what each option means.","02/Jul/18 17:27;macuzil;Thank you [~ancosen] I understand now a bit more :).

Now the fact that I am not getting any error into the log and ActiveMQ shuts down unexpectedly does not help me investigate what is going on :(. I know it must be something wrong with parameters that I pass (most likely Kerberos related) but I have no clue what.

Can you please check and point out what might be wrong? If you need more information from me I can send you my entire setup.",02/Jul/18 17:49;acosentino;Please send the entire setup if you can,"03/Jul/18 08:02;dmvolod;[~macuzil] could you create a much more simple reproducer based on the latest camel release, embedded ActiveMQ broker and plain Kafka (without Cloudera setup) and publish it to github to investigate this problem?

As Andrea said above, it's very dangerous to start high important project without product enterprise (with guarantied SLA) support.","03/Jul/18 08:22;macuzil;[~ancosen] The entire setup is complex and in a production environment :( therefore I cannot give you access. I can try to describe here the setup in hope you can might be able to give me some advice.

Please do not close this issue. I will try to investigate on my own what is going on and try to create a smaller environment.

Additional libraries:

camel-core-2.21.1.jar

camel-jms-2.21.1.jar

camel-kafka-2.21.1.jar

camel-spring-2.21.1.jar

kafka-clients-1.1.0.jar

Using Active Directory with user@DOMAIN

Camel file: [^camel.xml]

Verified KeyTab file for user@DOMAIN

The main problem is that although the logging is set to DEBUG I cannot see any ERROR or WARN into the logs but just that the ActiveMQ shuts down after Kafka parameter setup.

Some other peculiarity is that as soon as I only change SASL_PLAINTEXT to PLAINTEXT ActiveMQ starts up just fine. 

So, it would be fine if I can get some sort of ERROR or WARN to tell me it is something wrong with my Camel setup. I believe this you can see on your side, I mean the missed error handling. 

Do you have any integration testing for Camel Kafka Kerberos on your side?

 

 

 

 ","03/Jul/18 08:26;acosentino;No, I don't. The environment is too complex, you need to create a minimized reproducer, so we can try it and see what happens. Also remember that Camel 2.21.1 is based on Kafka-clients 1.0.0 and not 1.1.0",03/Jul/18 08:27;acosentino;I agree with [~dmvolod],"03/Jul/18 08:43;dmvolod;[~macuzil] at the first step of reproducing, you don't need to recreate whole env with AD, real users and sending messages. You just need to define why it's not bootstrapping with ActiveMQ and, next got Kerberos exception after sending a message.",03/Jul/18 08:47;macuzil;[~ancosen] [~dmvolod] can you recommend a consultant who can help with this problem? ,"03/Jul/18 08:52;dmvolod;[~macuzil] you are welcome to contact Red Hat office depends of the country of your location (or nearest country/region)

https://www.redhat.com/en/about/office-locations","03/Jul/18 08:54;acosentino;You have some choice here

[http://camel.apache.org/commercial-camel-offerings.html]","03/Jul/18 09:18;macuzil;Thank you both :). I am going to check the Red Hat to find someone.

In the mean time I will try simpler setups, step by step as suggested. It is true I've tried to achieve to much :(

Please keep this issue for further investigation."
camel-tooling for code quality checks and anti-patterns,CAMEL-12598,13168320,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2018/6/26 10:33,2019/8/6 13:08,2021/3/6 6:31,,,,,,,Future,,tooling,,,,,,,3,,,,,,"We have the camel-maven tooling that can do some scan of your project source code and report mis configured endpoints, and do route coverage reports etc.

It may be nice to gather a list of anti-patterns and other quality checks for Camel applications that can be commonly used. And then we can see if we can build more tooling to check for this.

Here is a few on top of my head (not thought for a long time)

 
- You could build a check for using deprecated options / components etc. *DONE*
 
- Also you can maybe check for too many <when> in a content based router EIP. (like too many if ... elseif ... in java)
 
- And maybe also if a route has too many EIPs (eg its too long).
 
- Also if a <recipientList> has a single endpoint, then its better to use <toD> which is optimized for a single endpoint. And also has some extra juice for http endpoints.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,49:16.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Sep 04 07:53:00 UTC 2018,,,,,,,,0|i3v8r3:,9.22337E+18,,,,,,,,,,,,,,,"26/Jun/18 15:49;mattrpav;+1 on all the above.

 

A few additional ideas:

 * Extends the option checking to look for conflicting options

 * Inbound data type not matching expected data type for next processing step

 * Simple language syntax validation *DONE*

 * Property substitution syntax validation

 * Check for missing seda / direct endpoint names

 * bean invocation method name not matching an existing method name

 * Language / Expression validation-- xpath expressions, json expressions could be validated

 ",29/Aug/18 09:36;davsclaus;Working on the seda/direct names check,"30/Aug/18 11:46;tmielke;Could error / exception handling be something that can be checked? 
E.g. if the route calls a bean which may raise a custom exception, then the tool could suggest adding an onException clause for the specific exception.
This may be far more difficult to decide on when calling other Camel components I am afraid, as one cannot /does not want to catch all the exceptions that may be thrown.",04/Sep/18 07:53;davsclaus;The seda/direct endpoint pair matching logic has now been added.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use DeFlaker to manage flaky tests,CAMEL-12604,13169120,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2018/6/29 9:24,2018/6/29 9:24,2021/3/6 6:31,,,,,,,,,build system,,,,,,,0,,,,,,"I've come across [DeFlaker|http://www.deflaker.org/], seems like a useful project to add to our Maven build to help us with flaky tests.
I think we can add it quite easily to add it to the {{.mvn/extensions.xml}} for the Maven to pick up.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:20.0,,,,,,,,0|i3vdo7:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add default no-op implementation of RouteBuilder,CAMEL-12608,13169179,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,rhuss,rhuss,2018/6/29 15:00,2019/12/19 17:36,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"Inspired by JMockit which use object initializers for introducing their Java DSL, I think it would be a good idea to add a no-op default implementation of RouteBuilder, with a short name like 'Routes'.
{code:java}
ctx.add(new Routes {{
      from(""file:data/inbox?noop=true"")
        .to(""file:data/outbox"");
}});
{code}
That way one can avoid the creation of anonymous inner classes, which is not only shorted and less boilerplate but also creates less classes and saves non-heap memory.

 

A simple POC as submitted as PR at [https://github.com/apache/camel/pull/2401] which could be extended to include better unit testing and documentation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,31:45.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 13:11:36 UTC 2019,,,,,,,,0|i3ve1b:,9.22337E+18,,,,,,,,,,,,,,,"29/Jun/18 16:31;lb;Well, the first { } creates an anonymous inner class :)","29/Jun/18 16:33;rhuss;well, right. sorry, really looked hard for a non-hipster argument and failed ;)","29/Jun/18 16:35;rhuss;btw, I don't mind if you close this issue and PR, it was just a friday afternoon kind of idea ...

 

Every user insist on this can easily create that class on her own in her projects. Just thought it would be nice to have a default implementation of the RouteBuilder.",29/Jun/18 16:42;lb;It could still make sense so let's wait for some more feedbacks :),"02/Jul/18 11:53;zregvart;One issue I can see is that _if_ we can only guarantee that by the point we reach the {{configure}} method that the required initialization is performed (i.e. not before), this approach will fail. This is probably not the case, i.e. we can add to RouteBuilder at any point not just when the {{configure}} is invoked, but it would lock us out of proscribing that lifecycle.","02/Jul/18 12:34;rhuss;[~zregvart] do you have  a specific use case in mind ? I can see that RouteBuilder.checkInitialized() a potential error handler is copied over from the camel context before `configure()` is called. This part may be missing when building up the routes via object initialization. But otherwise I don't think it make any difference whether the routes are build up in the inializer or in {{configure()}}.

Not sure what you meant with _but it would lock us out of proscribing that lifecycle_ though.","03/Jul/18 09:10;zregvart;[~rhuss] yeah I don't think it's an issue now. It might be one in the future if we implement this -- then it locks us in into a lifecycle that says: you can use route Java DSL from object initialization code, not just in {{configure}} method. One use case where this might be an issue is with some external serialized form of the {{Routes}} subclass, the route Java DLS methods will get invoked during deserialization.
If we put the contract at route Java DSL can be used at the point when {{configure}} method is invoked then we have lifecycle that we can manage, i.e. control the point when Java DSL will be invoked.
Not that this is a bad approach, seems nice from a syntactical standpoint, this is only one side effect that I can think of...","06/Aug/19 13:11;davsclaus;I think [~gnodet] added some syntax sugar shorthand for adding routes, but i forget where it was",,,,,,,,,,,,,,,,,,,,,,,,,,
Add tool to generate swagger doc at build time,CAMEL-12623,13170092,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2018/7/4 14:13,2020/2/17 13:10,2021/3/6 6:31,,,,,,,Future,,tooling,,,,,,,0,gsoc2020,,,,,"We do not have at this moment a tool that can generate the swagger doc at build time. However I think it would be possible to develop such tool. We have existing tooling that parses the Java or XML source code (Camel routes) which we use for validating endpoints, or do route-coverage reports etc.
 
[https://github.com/apache/camel/blob/master/tooling/maven/camel-maven-plugin/src/main/docs/camel-maven-plugin.adoc]
 
We could then make that tool parse the rest-dsl and build up that model behind the scene and feed that into the swagger-java library for it to spit out the generated swagger doc.
 
We could make it as a goal on the existing camel-maven-plugin, or build a new maven plugin: camel-maven-swagger or something. Then people could use it during build time to generate the swagger doc etc. 
 
We maybe should allow to override/configure things as well from the tooling, so you can maybe set/mask hostname or set descriptions or other things that may not all be detailed in the rest-dsl.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,29:38.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Mar 28 22:46:52 UTC 2019,,,,,,,,0|i3vjnz:,9.22337E+18,,,,,,,,,,,,,,,"11/Mar/19 02:29;bharath25;I am interested in this. Can i get resources on how to build CAMEL project.

Also is there an IRC chat where i can discuss about the project .

Thanks","11/Mar/19 04:09;davsclaus;Hi

Welcome to the community. We have details how to contribute and build the source code here
https://github.com/apache/camel/blob/master/CONTRIBUTING.md

For irc chat we are on gitter chat at
https://gitter.im/apache/apache-camel","12/Mar/19 06:39;yashasvi17;Hi, I am interested. I have been able to build the CAMEL project. I am looking at the starter tasks to get myself familiarized. I had few follow up questions though. Can I ping you directly on gitter?",28/Mar/19 22:46;yashasvi17;What does the swagger doc generated at build time have? Does it contain the definition of the a component/   API? Will i need the data model to build the swagger model. If yes then where can i get the data model from?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Acknowledgement in RabbitMQ and Camel,CAMEL-12652,13172309,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,akc8785,akc8785,2018/7/16 5:15,2018/8/15 12:21,2021/3/6 6:31,,2.21.1,,,,,,,camel-rabbitmq,,,,,,,1,,,,,,"Currently, RabbitMQ component is auto acknowledging the message as soon as camel reads it. I would like acknowledge the consumption of the message only if i am successful in processing the message after the consumption. Can you please add Manual ack feature in camel-rabbitmq.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:22.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Aug 15 12:21:07 UTC 2018,,,,,,,,0|i3vx1z:,9.22337E+18,,,,,,,,,,,,,,,"16/Jul/18 09:41;dmvolod;The camel-rabbitmq component enables auto acknowledging if isAutoAck endpoint param is set to true. Otherwise, you can do acknowledge manually. Please describe your requirements more detail.","25/Jul/18 23:39;ajaycherukuri;Hi Dimitry,

Whether we set the autoAck to false or true or we don't use the parameter in the URI, it's acknowledging by default and the message is being deleted from the queue.This has been a bug since 2.12 version.

Also, can i know how to manually acknowledge with camel?(having the above works)","26/Jul/18 08:39;dmvolod;[~akc8785], I don't understand your requirements at all. Please provide a sample code if your integration route and JUnit reproducer that autoAck=false doesn't work.

If you can use *RabbitMQComponent* in Java code, you can pass *ConnectionFactory* to it  and got Channel and control ack from this.","31/Jul/18 16:51;ajaycherukuri;I am using this component in Talend.

org.apache.camel.CamelContext camelContext = new org.apache.camel.impl.DefaultCamelContext();
 globalMap.put(""camelContext"", camelContext);

camelContext.addComponent(""rabbitmq"", new org.apache.camel.component.rabbitmq.RabbitMQComponent());

org.apache.camel.ConsumerTemplate consumer = camelContext.createConsumerTemplate();

camelContext.start();
 Object message = consumer.receiveBody(context.RMQ_URI, String.class);

RMQ_URI: ""rabbitmq://localhost/manualackexc?routingKey=myrouting&queue=myqueue&autoDelete=false&autoAck=false&prefetchEnabled=false&exchangeType=topic""

I have mentioned autoDelete=false, but rabbitmq is deleting the message from the queue.","14/Aug/18 15:45;dmvolod;[~akc8785] *autoDelete* not related to message, if it is true, the exchange will be deleted when it is no longer in use.

I'm working on test for manual acknowledge and will think about propagate AMQP channel as header for perform it in processor later.","15/Aug/18 12:21;davsclaus;You should not use receiveBody as then the Camel exchange is done. If you want to manual ack a message then you need to use receive, and then do the manual ack and done the exchange, see the javadoc of consumer template and on these receive methods on the consumer template api.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Restructure component folder to group under same parent,CAMEL-12657,13172567,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2018/7/17 6:09,2019/7/25 13:21,2021/3/6 6:31,,,,,,,Future,,build system,,,,,,,1,,,,,,"in the future we may think to group component and all related bits under the same parent so this cross documentation thing can be easier, something like:

{code}
camel-ahc
  |
  +- component
  |
  +- component-starter
  | 
  +- component-feature
  |  
  +- component-tests
  |
  +- docs
{code} ",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-12644,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:31.0,,,,,,,,0|i3vynb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-iec60870 - Add documentation for missing field,CAMEL-12671,13173385,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,dentrassi,davsclaus,davsclaus,2018/7/20 7:44,2020/2/28 9:01,2021/3/6 6:31,,,,,,,Future,,documentation,,,,,,,0,help-wanted,,,,,"This field did not have documentation. So I added something
https://github.com/apache/camel/blob/48539d7156a5d4795f0dc593c6334427fc8450e1/components/camel-iec60870/src/main/java/org/apache/camel/component/iec60870/client/ClientOptions.java#L48

Jens do you mind taking a look, and add the correct documentation, and also set the correct default value.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,29:29.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 16 09:48:47 UTC 2018,,,,,,,,0|i3w3of:,9.22337E+18,,,,,,,,,,,,,,,"20/Jul/18 12:29;ctron;Yes, I can take care of that. However I can only come back to that issue in about two weeks. I hope you don't mind.",16/Nov/18 09:48;acosentino;[~dentrassi] can you please take a look?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Renovate Zipkin (brave) support,CAMEL-12672,13173574,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,adriancole,adriancole,2018/7/21 2:21,2019/8/8 2:12,2021/3/6 6:31,,,,,,,3.x,,camel-zipkin,,,,,,,1,,,,,,"With some hard effort, we've managed to maintain the original form of the camel-zipkin integration. However, this integration's design is considerably out of date, especially considering the work done in camel-opentracing. camel-zipkin should be completely rewritten in order to improve experience (and stop volunteers from having support questions in zipkin channel).

 

I've been told folks don't know what to do, yet I think it is somewhat simple. The work that was done in camel-opentracing.. do that in camel-zipkin. Beyond that is polishing.

For example, the brave v4+ api is similar enough to opentracing to mostly find/replace. This is a good start and can fix some considerable modeling bugs in camel-zipkin around messaging. Once that is complete, we can move to being more idiomatic and taking advantage of brave's features.

For example, `brave.Tracing` is injected by many things in spring. People use it to configure advanced propagation things not possible in the normal api. Similarly, `brave.http.HttpTracing` sets and verifies http-scoped configuration so that when downstream systems are sensitive, data is collected in ways not proprietary to camel. One such example is X-Ray. Another example is that usually the data in opentracing is a lot bigger and so more expensive for sites. Using tools like this helps keep costs down.

While the above steps are ""going beyond"" again, a relatively straight-forward port of camel-opentracing would be a great way to re-enable the very large OpenZipkin community and leverage the work you've done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,20:35.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Aug 08 02:12:28 UTC 2019,,,,,,,,0|i3w4uf:,9.22337E+18,,,,,,,,,,,,,,,"21/Jul/18 02:34;adriancole;to answer possibly a different question: why not just use OpenTracing? Well that can be used, with brave-opentracing, though the experience will be less efficient and impossible to take advantage of abstractions created by the zipkin community. For example, the runtime efficiency is worse due to factors including layers of wrapping and likely a future need to do extra context tracking unless some bugs are solved in opentracing's api design. Next, consistency is difficult as [data and sampling policy tools|https://github.com/openzipkin/brave/tree/master/instrumentation/http] tools, tools with stable apis, can't be used. OpenTracing data has poor data quality evidenced by complaints about things like nested json attributes. Even if you don't believe there are any problems, it would be intentionally not moving back into supporting what is by far the most popular java tracing library.

 

If you choose for whatever reason to keep the zipkin integration as-is, and continue to not help it move forward, I would recommend removing it entirely. This way, the openzipkin community can create their own in another repo that is more friendly towards them. A rotting library is worse than no library, especially a rotting tracing library.","22/Jul/18 09:20;davsclaus;Thanks Adrian for reporting this ticket and with your feedback and comments.

From my perspective the Camel community is very open and interrested in all the help we can get on camel-zipkin. With your expertise and guidance then I would love to see a re-write of the module. IMHO you should feel free to reimplement the module as you see best fist. Its okay if Camel users would need a bit of migration when they upgrade etc - we all want a great tracing capability with Camel and Zipkin. 

I will be on PTO all next week, but I am very open for helping in any way I can.

Adrian do you have time to help as well. And thank you so much for all the help you have do so far.","23/Jul/18 01:16;njiang;I'm quit interested about this and it can get me know better about zipkin. 
","23/Jul/18 06:26;acosentino;We'd really like to improve Camel-Zipkin support, so this effort is much more than welcome!",06/Aug/19 13:57;davsclaus;Whats the situation today for camel 3 is there still something about brave needs to be removed?,"08/Aug/19 02:12;njiang;I don't think we need to remove brave this time. I'll take some time this month to check the status, hope we can keep polish the camel-zipkin component.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-itest-spring-boot : improve to run tests behind proxy,CAMEL-12694,13175274,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,onders,onders,2018/7/27 21:37,2019/8/6 14:00,2021/3/6 6:31,,,,,,,Future,,camel-spring-boot-starters,tests,,,,,,0,,,,,,"As mentioned [here|https://github.com/apache/camel/pull/2434#issuecomment-408092655], itest may need to be improved ro run behind proxy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,37:56.0,,,,,,,,0|i3wfbz:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ability to load an SSLContextParameter with a Keystore containing multiple keys (aliases),CAMEL-12719,13177909,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Boosy,Boosy,2018/8/9 9:09,2020/4/4 16:03,2021/3/6 6:31,,2.22.0,,,,,3.x,,camel-core,,,,,,,1,gsoc2020,,,,,"Hello,
I wish I could initialize a single SSLContextParameters at camel startup containing my truststore.jks (> 1 alias) and my keystore.jks (> 1 alias) in order to call it (refer to) in Routes (FTPs, HTTPs) without have to redefine a new SSLContextParameter for each EndPoint.

_<camel:sslContextParameters id=""sslIContextParameters"">_
 _<camel:trustManagers>_
 _<camel:keyStore password=""${truststore.jks.file.password}""_
 _resource=""${truststore.jks.file.location}"" />_
 _</camel:trustManagers>_
 _<camel:keyManagers >_
 _<camel:keyStore password=""${keystore.jks.file.password}""_
 _resource=""${keystore.jks.file.location}"" />_
 _</camel:keyManagers>_
 _</camel:sslContextParameters>_

When my Keystore contains more than 1 alias, I have the following error when creating the Route at startup : 

*Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: https4://<host>:<port>/<address>?authPassword=RAW(password)&authUsername=login&authenticationPreemptive=true&bridgeEndpoint=true&sslContextParameters=sslContextParameters&throwExceptionOnFailure=true due to: Cannot recover key*

due to

*Caused by: java.security.UnrecoverableKeyException: Cannot recover key*

 

When my keystore contains only one key, it works very well.

_<camel:sslContextParameters id=""sslIContextParameters"">_
 _<camel:trustManagers>_
 _<camel:keyStore password=""${truststore.jks.file.password}""_
 _resource=""${truststore.jks.file.location}"" />_
 _</camel:trustManagers>_
 _<camel:keyManagers keyPassword=""keyPassword"">_
 _<camel:keyStore password=""${keystore.jks.file.password}""_
 _resource=""${keystore.jks.file.location}"" />_
 _</camel:keyManagers>_
 _</camel:sslContextParameters>_

 

So I would like to be able to call my SSLContextParameter for different EndPoint by specifying (if necessary) the alias of the Keystore needed (by specifying the alias and / or password of the key)

 

Objectif in my project :
 * 1 TrustStore.jks 
 * 1 Keystore.jsk
 * 1 unique SSLContextParameter
 * > 200 camelRoutes FTPs/HTTPs (ssl one way ou two way)

 

Thank a lot

 

 ","Apache Tomcat 7, Camel 2.22.0, java 8, redHat 6.6

1 TrustStore.jks (12 certificats CA => 12 alias)

1 Keystore.jsk (5 clés => 5 alias => 5 passwords différents)

> 200 camelRoutes (file, soap, rest) secure, non-secure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,17:28.6,,,FALSE,,,,,Unknown,,,,,,,,,Patch,,,,,,,,9.22337E+18,,,Sat Apr 04 16:03:18 UTC 2020,,,,,,,,0|i3wvan:,9.22337E+18,,,,,,,,,,,,,,,09/Aug/18 09:17;davsclaus;Please report JIRA tickets in english so most people can understand.,"09/Aug/18 11:13;davsclaus;This issue was discussed in english at SO so we can look there for details
https://stackoverflow.com/questions/51681762/how-to-overide-keystore-alias-in-sslcontextparameter-in-camel?noredirect=1#comment90484830_51681762","09/Aug/18 12:45;Boosy;Translated. 

Many thanks",09/Aug/18 12:58;dmvolod;Look like we need to add certAlias to the endpoint/component level for each SSL-based component and paste it to the SSLContextParameters property if needed. [~davsclaus] what do you think about this implementation?,"09/Aug/18 18:41;davsclaus;Yeah that sounds possible. You are surely welcome to dive into the code and implement a solution.

Just a thought I wonder if you may need to clone the ssl context parameters if they are shared and then set that certAlias option on the clone and use that on the endpoint.","10/Aug/18 09:28;Boosy;Hi,

Does your ""SSL-based component"" refer to 'camel:keyManagers' ?

Because I think it is this component which can refer only 1 key in a Keystore. (I currently use this component too in a <http:conduit with http:tlsClientParameters where I need to refer a keyStore with keys (currently 1 because it does not work with many keys)

If I may add some whish, it would be
 * Possibility to create a camel:keyManagers as a camel:trustManagers
 * Add an optional alias management in the camel:keyManagers
 * Add an optional alias in the endPoint ?

May I add some draft in attachment ?

 

Thanks a lot

 

 

 

 ",10/Aug/18 09:41;dmvolod;[~Boosy] you are welcome to provide solution as github PR.,"04/Apr/20 16:03;chardahe@redhat.com;I couldn't reproduce the issue with multiple alias, Can you please provide a reproducer?",,,,,,,,,,,,,,,,,,,,,,,,,,
Camel ftp component does not support  IPV6,CAMEL-12723,13178203,,Improvement,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ggcinsens,ggcinsens,2018/8/10 7:20,2018/11/16 9:48,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"Dear Camel team, we are just verifying our migrated application to Apache Camel. Today we found an issue that is not described on the web, in the faq nor among the existing issues. We are creating endpoints via String literals and when we started the IPv6 tests we failed on this issue. The Camel transforms the orginal address \{noformat}ftp://[2a00:8a00:6000:40::1413]:8080\{noformat} to this format \{noformat}ftp://%5B2a00:8a00:6000:40::1413%5D:8080\{noformat} which causes this exception \{noformat}instance1 2013-10-30 13:25:23,914 org.apache.camel.processor.DefaultErrorHandler DEBUG (MarkerIgnoringBase.java:debug:72) [Camel (camel-1) thread #74 - JmsConsumer[XXX-RR-TEST]] | Failed delivery for (MessageId: ID:mch30-pgd02-b-45068-1383134137465-8:5:1:1:3 on ExchangeId: ID-mch30-pgd02-b-35624-1383134141407-0-176). On delivery attempt: 0 caught: org.apache.commons.httpclient.URIException: IPv6reference\{noformat} The suggested solution is to remove the square brackets \{noformat}[ ]\{noformat} from the \{noformat}unsafeCharacters\{noformat} in the \{noformat}org.apache.camel.util.UnsafeUriCharactersEncoder\{noformat} since the square brackets are valid IPv6 characters. Thanks! Best regards, Laci",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,28:53.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Aug 22 10:39:48 UTC 2018,,,,,,,,0|i3wx3z:,9.22337E+18,,,,,,,,,,,,,,,"10/Aug/18 07:28;davsclaus;You are welcome to provide a github PR with a suggested fix
http://camel.apache.org/contributing",10/Aug/18 07:44;ggcinsens;I recommend that other components also consider IPV6 address support,13/Aug/18 12:08;onders;I went over the suggested fix. It seems to help for this case. PR could be provided. Full build and with test runs would be good. Otherwise the impact may be high. I ll try to see what i can do.,"13/Aug/18 17:39;githubbot;onderson opened a new pull request #2471: CAMEL-12723 - remove unsafe chars in rfc1738 which obsolete in rfc3986
URL: https://github.com/apache/camel/pull/2471
 
 
   

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","13/Aug/18 17:39;githubbot;GitHub user onderson opened a pull request:

    https://github.com/apache/camel/pull/2471

    CAMEL-12723 - remove unsafe chars in rfc1738 which obsolete in rfc3986

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/onderson/camel CAMEL-12723

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/2471.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #2471
    
----
commit f82415f8c59f169a3280903cc5f3a54f71c81008
Author: onders <onders@...>
Date:   2018-08-13T17:13:18Z

    CAMEL-12723 - remove unsafe chars in rfc1738 which obsolete in rfc3986

----
","14/Aug/18 07:43;githubbot;onderson closed pull request #2471: CAMEL-12723 - remove unsafe chars in rfc1738 which obsolete in rfc3986
URL: https://github.com/apache/camel/pull/2471
 
 
   

This is a PR merged from a forked repository.
As GitHub hides the original diff on merge, it is displayed below for
the sake of provenance:

As this is a foreign pull request (from a fork), the diff is supplied
below (as it won't show otherwise due to GitHub magic):

diff --git a/camel-core/src/main/java/org/apache/camel/util/UnsafeUriCharactersEncoder.java b/camel-core/src/main/java/org/apache/camel/util/UnsafeUriCharactersEncoder.java
index 8273c533976..c32cfab5819 100644
--- a/camel-core/src/main/java/org/apache/camel/util/UnsafeUriCharactersEncoder.java
+++ b/camel-core/src/main/java/org/apache/camel/util/UnsafeUriCharactersEncoder.java
@@ -28,30 +28,10 @@
  * A good source for details is <a href=""http://en.wikipedia.org/wiki/Url_encode"">wikipedia url encode</a> article.
  */
 public final class UnsafeUriCharactersEncoder {
-    private static BitSet unsafeCharactersRfc1738;
     private static BitSet unsafeCharactersHttp;
     private static final char[] HEX_DIGITS = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C',
                                               'D', 'E', 'F', 'a', 'b', 'c', 'd', 'e', 'f'};
     private static final Pattern RAW_PATTERN = Pattern.compile(""RAW\\([^\\)]+\\)"");
-
-    static {
-        unsafeCharactersRfc1738 = new BitSet(256);
-        unsafeCharactersRfc1738.set(' ');
-        unsafeCharactersRfc1738.set('""');
-        unsafeCharactersRfc1738.set('<');
-        unsafeCharactersRfc1738.set('>');
-        unsafeCharactersRfc1738.set('#');
-        unsafeCharactersRfc1738.set('%');
-        unsafeCharactersRfc1738.set('{');
-        unsafeCharactersRfc1738.set('}');
-        unsafeCharactersRfc1738.set('|');
-        unsafeCharactersRfc1738.set('\\');
-        unsafeCharactersRfc1738.set('^');
-        unsafeCharactersRfc1738.set('~');
-        unsafeCharactersRfc1738.set('[');
-        unsafeCharactersRfc1738.set(']');
-        unsafeCharactersRfc1738.set('`');
-    }
     
     static {
         unsafeCharactersHttp = new BitSet(256);
@@ -73,9 +53,9 @@
     private UnsafeUriCharactersEncoder() {
         // util class
     }
-
+    
     public static String encode(String s) {
-        return encode(s, unsafeCharactersRfc1738);
+        return encodeHttpURI(s);
     }
     
     public static String encodeHttpURI(String s) {
@@ -87,7 +67,7 @@ public static String encode(String s, BitSet unsafeCharacters) {
     }
     
     public static String encode(String s, boolean checkRaw) {
-        return encode(s, unsafeCharactersRfc1738, checkRaw);
+        return encodeHttpURI(s, checkRaw);
     }
     
     public static String encodeHttpURI(String s, boolean checkRaw) {
diff --git a/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIPV6BodyAsStringTest.java b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIPV6BodyAsStringTest.java
new file mode 100644
index 00000000000..e110cb8f80e
--- /dev/null
+++ b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIPV6BodyAsStringTest.java
@@ -0,0 +1,79 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the ""License""); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an ""AS IS"" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.file.remote;
+
+import org.apache.camel.Endpoint;
+import org.apache.camel.Exchange;
+import org.apache.camel.Processor;
+import org.apache.camel.Producer;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.component.mock.MockEndpoint;
+import org.junit.Before;
+import org.junit.Test;
+
+/**
+ * @version 
+ */
+public class FtpConsumerIPV6BodyAsStringTest extends FtpServerTestSupport {
+
+    private String getFtpUrl() {
+        return ""ftp://admin@[::1]:"" + getPort() + ""/tmp4/camel?password=admin&consumer.delay=5000"";
+    }
+
+    @Override
+    @Before
+    public void setUp() throws Exception {
+        super.setUp();
+        prepareFtpServer();
+    }
+
+    @Test
+    public void testSingleFileTest() throws Exception {
+        MockEndpoint mock = getMockEndpoint(""mock:result"");
+        mock.expectedBodiesReceived(""Hello World"");
+        mock.expectedMessageCount(1);
+
+        assertMockEndpointsSatisfied();
+    }
+
+    private void prepareFtpServer() throws Exception {
+        // prepares the FTP Server by creating a file on the server that we want to unit
+        // test that we can pool
+        Endpoint endpoint = context.getEndpoint(getFtpUrl());
+        Exchange exchange = endpoint.createExchange();
+        exchange.getIn().setBody(""Hello World"");
+        exchange.getIn().setHeader(Exchange.FILE_NAME, ""hello.txt"");
+        Producer producer = endpoint.createProducer();
+        producer.start();
+        producer.process(exchange);
+        producer.stop();
+    }
+    
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            public void configure() throws Exception {
+                from(getFtpUrl()).process(new Processor() {
+                    public void process(Exchange exchange) throws Exception {
+                        String body = exchange.getIn().getBody(String.class);
+                        assertNotNull(body);
+                        assertEquals(""Hello World"", body);
+                    }
+                }).to(""mock:result"");
+            }
+        };
+    }
+}
\ No newline at end of file


 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","14/Aug/18 07:43;githubbot;Github user onderson closed the pull request at:

    https://github.com/apache/camel/pull/2471
","14/Aug/18 08:43;davsclaus;Onder there is unit test error in camel-core now

[ERROR] Errors:
[ERROR] org.apache.camel.component.properties.PropertiesComponentLoadPropertiesFromFileTest.testPropertiesComponentCustomTokens(org.apache.camel.component.properties.PropertiesComponentLoadPropertiesFromFileTest)
[ERROR]   Run 1: PropertiesComponentLoadPropertiesFromFileTest>TestSupport.runBare:58->PropertiesComponentTest.testPropertiesComponentCustomTokens:82 » FailedToCreateRoute
[ERROR]   Run 2: PropertiesComponentLoadPropertiesFromFileTest>TestSupport.runBare:58->PropertiesComponentTest.testPropertiesComponentCustomTokens:82 » FailedToCreateRoute
[ERROR]   Run 3: PropertiesComponentLoadPropertiesFromFileTest>TestSupport.runBare:58->PropertiesComponentTest.testPropertiesComponentCustomTokens:82 » FailedToCreateRoute",14/Aug/18 09:08;onders;checking..,"14/Aug/18 21:02;onders;[~davsclaus], updated on master, could you have a look?","15/Aug/18 05:17;dmvolod;[~onders] the following tests still failing on Jenkins

org.apache.camel.component.file.remote.FromFilePercentSignInPasswordUserInfoEncodedTest.testFromFileToFtp org.apache.camel.component.file.remote.FromFilePercentSignInPasswordUserInfoTest.testFromFileToFtp","15/Aug/18 07:49;davsclaus;I have the same test errors too. I think we should revert this change, and then re-think a general solution. We should maybe also try to add tests in other components like http with IPv6 addresses. However most people use hostnames and hence why its not reported before.","15/Aug/18 08:29;onders;Yes, i will revert and rethink again. It is hard to change something in UnsafeUriCharactersEncoder. it is very common and have high impact. As a side note, RFC 1738 (URI notation) and URL encoding stuff are complicated in DefaultComponent, DefaultCamelContext and URISupport and have many nesting points. Requires high attention. I will revert","15/Aug/18 21:43;githubbot;onderson opened a new pull request #2477:  CAMEL-12723 - camel-ftp add IPv6 support
URL: https://github.com/apache/camel/pull/2477
 
 
   the second commit makes PR less sensitive because the change in URISupport in the first commit have higher impact even though all UTs are OK without this second commit.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","15/Aug/18 21:43;githubbot;GitHub user onderson opened a pull request:

    https://github.com/apache/camel/pull/2477

     CAMEL-12723 - camel-ftp add IPv6 support

    the second commit makes PR less sensitive because the change in URISupport in the first commit have higher impact even though all UTs are OK without this second commit.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/onderson/camel CAMEL-12723

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/camel/pull/2477.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #2477
    
----
commit 8e462bbf45dd526520c364914d1bd01bf8e79da5
Author: onders <onders@...>
Date:   2018-08-15T15:51:12Z

    CAMEL-12723 - camel-ftp add IPv6 support

commit 894fa1b250edac787b0673273b8ef06604ee5be0
Author: onders <onders@...>
Date:   2018-08-15T21:39:20Z

    CAMEL-12723 - this change makes PR less sensitive because the change in the first commit have higher impact even though all UTs are OK without this commit

----
","16/Aug/18 07:16;githubbot;davsclaus commented on issue #2477:  CAMEL-12723 - camel-ftp add IPv6 support
URL: https://github.com/apache/camel/pull/2477#issuecomment-413449683
 
 
   I am not too fond with this where there is a ftp hack like this. You can use IPv6 addresses in hostnames in other components as well (however not so common, and IPv6 are a more complex syntax than good old IPv4)

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","16/Aug/18 07:44;githubbot;onderson commented on issue #2477:  CAMEL-12723 - camel-ftp add IPv6 support
URL: https://github.com/apache/camel/pull/2477#issuecomment-413456079
 
 
   from coding perspective, i dont like it too.
   the main issue here is that enpoint uri syntax and url syntax seems clashing in case of handling their encoding and using their uri/url values in the component's endpoint creation.
   unless playing around with lots of utility classes doing normalization/encoding and what not during processing of endpoint string definition and unless coping with high impact, i felt like hard to do a fix.
   
   also please note that that hack is not necessary. (i added this to only affect ftp component). only the first commit is enough without the hack, based on the unit tests. however, i add the second commit defensively not to cause anything subtle in other components extending DefaultComponent. 
   
   and another side note that we have a little bit of similar hack for http based components :)
   
   There is a workaround as you mentioned already. we can drop the PR if everybody agrees and put such fixes off till 3.0

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","22/Aug/18 10:37;githubbot;onderson commented on issue #2477:  CAMEL-12723 - camel-ftp add IPv6 support
URL: https://github.com/apache/camel/pull/2477#issuecomment-414989007
 
 
   closing.

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","22/Aug/18 10:37;githubbot;onderson closed pull request #2477:  CAMEL-12723 - camel-ftp add IPv6 support
URL: https://github.com/apache/camel/pull/2477
 
 
   

This is a PR merged from a forked repository.
As GitHub hides the original diff on merge, it is displayed below for
the sake of provenance:

As this is a foreign pull request (from a fork), the diff is supplied
below (as it won't show otherwise due to GitHub magic):

diff --git a/camel-core/src/main/java/org/apache/camel/util/URISupport.java b/camel-core/src/main/java/org/apache/camel/util/URISupport.java
index 35f10ef72c5..7855e0438d1 100644
--- a/camel-core/src/main/java/org/apache/camel/util/URISupport.java
+++ b/camel-core/src/main/java/org/apache/camel/util/URISupport.java
@@ -549,7 +549,7 @@ public static String normalizeUri(String uri) throws URISyntaxException, Unsuppo
             path = path.substring(0, idx);
         }
 
-        if (u.getScheme().startsWith(""http"")) {
+        if (u.getScheme().startsWith(""http"") || u.getScheme().contains(""ftp"")) {
             path = UnsafeUriCharactersEncoder.encodeHttpURI(path);
         } else {
             path = UnsafeUriCharactersEncoder.encode(path);
diff --git a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpComponent.java b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpComponent.java
index 326d534024a..7078e75cc57 100644
--- a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpComponent.java
+++ b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpComponent.java
@@ -22,6 +22,7 @@
 import org.apache.camel.CamelContext;
 import org.apache.camel.component.file.GenericFileEndpoint;
 import org.apache.camel.util.IntrospectionSupport;
+import org.apache.camel.util.UnsafeUriCharactersEncoder;
 import org.apache.commons.net.ftp.FTPFile;
 
 /**
@@ -37,6 +38,11 @@ public FtpComponent(CamelContext context) {
         super(context);
         setEndpointClass(FtpEndpoint.class);
     }
+    
+    @Override
+    protected String preProcessUri(String uri) {
+        return UnsafeUriCharactersEncoder.encodeHttpURI(uri);
+    }
 
     @Override
     protected GenericFileEndpoint<FTPFile> buildFileEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {
diff --git a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpsComponent.java b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpsComponent.java
index 60c912539aa..8f9da9699fd 100644
--- a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpsComponent.java
+++ b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpsComponent.java
@@ -24,6 +24,7 @@
 import org.apache.camel.component.file.GenericFileEndpoint;
 import org.apache.camel.spi.Metadata;
 import org.apache.camel.util.IntrospectionSupport;
+import org.apache.camel.util.UnsafeUriCharactersEncoder;
 import org.apache.commons.net.ftp.FTPFile;
 
 /**
@@ -46,6 +47,11 @@ public FtpsComponent(CamelContext context) {
         super(context);
         setEndpointClass(FtpsEndpoint.class);
     }
+    
+    @Override
+    protected String preProcessUri(String uri) {
+        return UnsafeUriCharactersEncoder.encodeHttpURI(uri);
+    }
 
     @Override
     protected GenericFileEndpoint<FTPFile> buildFileEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {
diff --git a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpComponent.java b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpComponent.java
index a018b8787d1..943d90bdeca 100644
--- a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpComponent.java
+++ b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpComponent.java
@@ -21,6 +21,7 @@
 
 import org.apache.camel.CamelContext;
 import org.apache.camel.component.file.GenericFileEndpoint;
+import org.apache.camel.util.UnsafeUriCharactersEncoder;
 
 /**
  * Secure FTP Component
@@ -35,6 +36,11 @@ public SftpComponent(CamelContext context) {
         super(context);
         setEndpointClass(SftpEndpoint.class);
     }
+    
+    @Override
+    protected String preProcessUri(String uri) {
+        return UnsafeUriCharactersEncoder.encodeHttpURI(uri);
+    }
 
     @Override
     protected GenericFileEndpoint<SftpRemoteFile> buildFileEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {
diff --git a/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FileToFtpsWithDefaultSettingsIPV6Test.java b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FileToFtpsWithDefaultSettingsIPV6Test.java
index 515b40e5436..666dbca36d1 100644
--- a/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FileToFtpsWithDefaultSettingsIPV6Test.java
+++ b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FileToFtpsWithDefaultSettingsIPV6Test.java
@@ -18,7 +18,6 @@
 
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
-import org.junit.Ignore;
 import org.junit.Test;
 
 /**
@@ -26,7 +25,6 @@
  * 
  * @version 
  */
-@Ignore
 public class FileToFtpsWithDefaultSettingsIPV6Test extends FtpsServerExplicitTLSWithoutClientAuthTestSupport {
     
     private String getFtpUrl() {
diff --git a/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIPV6BodyAsStringTest.java b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIPV6BodyAsStringTest.java
index b9855ae1c70..e110cb8f80e 100644
--- a/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIPV6BodyAsStringTest.java
+++ b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIPV6BodyAsStringTest.java
@@ -23,13 +23,11 @@
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
 import org.junit.Before;
-import org.junit.Ignore;
 import org.junit.Test;
 
 /**
  * @version 
  */
-@Ignore
 public class FtpConsumerIPV6BodyAsStringTest extends FtpServerTestSupport {
 
     private String getFtpUrl() {
diff --git a/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleIPV6ConsumeTest.java b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleIPV6ConsumeTest.java
index 142c845e2eb..175f3a33b78 100644
--- a/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleIPV6ConsumeTest.java
+++ b/components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleIPV6ConsumeTest.java
@@ -19,13 +19,11 @@
 import org.apache.camel.Exchange;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
-import org.junit.Ignore;
 import org.junit.Test;
 
 /**
  * @version 
  */
-@Ignore
 public class SftpSimpleIPV6ConsumeTest extends SftpServerTestSupport {
 
     @Test


 

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
","22/Aug/18 10:37;githubbot;Github user onderson closed the pull request at:

    https://github.com/apache/camel/pull/2477
","22/Aug/18 10:39;onders;there are workarounds of setting hostname and other changes are possible in two different PRs but they have side effects. due to complexity of changes in utility classes, giving up for now. maybe a stab can be given later on.",,,,,,,,,,,,,
jpa - new @OnConsumed annotation for on route read db updates,CAMEL-12737,13179373,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,ronpatel,ronpatel,2018/8/16 14:52,2019/8/6 14:02,2021/3/6 6:31,,,,,,,,,camel-jpa,,,,,,,0,,,,,,"Create {{@OnConsumed}} annotation to make any update on entity on read

currently
- {{@PreConsumed}} only updates the entity NOT the db row - {{@OnConsumed}} annotation should updated db row
- {{@Consumed}} only updates on Route completion",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,30:31.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 14:02:36 UTC 2019,,,,,,,,0|i3x4bb:,9.22337E+18,,,,,,,,,,,,,,,"20/Aug/18 07:30;davsclaus;Are you working on a patch with this implementation?
http://camel.apache.org/contributing","06/Aug/19 14:02;davsclaus;What's the use-case for this, you can also update the entity etc in a bean/processor from a route etc as a workaround.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose OData4 based service as consumer endpoint,CAMEL-12750,13180919,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dmvolod,dmvolod,2018/8/24 9:42,2020/2/17 13:10,2021/3/6 6:31,,2.22.0,,,,,3.x,,camel-olingo4,,,,,,,0,gsoc2020,,,,,"Right now, only polling consumer is available for olingo4 component. It's better to have a real listening consumer for this.

The method may have name like 'listen' to be able to create a listening consumer.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,54:39.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Nov 15 11:15:31 UTC 2018,,,,,,,,0|i3xdtb:,9.22337E+18,,,,,,,,,,,,,,,06/Sep/18 15:54;ramu11;will look into it,"19/Sep/18 13:32;davsclaus;Dmitry, do you mean that a new event based consumer that uses a different name, oling4-listen (or something) that is not scheduled based as the current ones.
And if so, what functionality / APIs of the existing one would it support? And is an event based possible? Does olingo4 have some APIs we can use to get noitifications when a new event happened.

Maybe you can explain a bit more","19/Sep/18 13:59;dmvolod;Claus, I mean that the new listening component will be use olingo4 consumer based on servlet implementation as described here [Implementing an OData service with Olingo|https://templth.wordpress.com/2015/04/27/implementing-an-odata-service-with-olingo/].
I'm not sure, we can use async response options in Camel, but we would try to implement consumer. As a current component implementation based on Camel API component, it would be nice to use a separate schema for a listening implementation.
I thought that component starts to use EDM build with Java class implementation and will use standard Camel exchange to manipulate data starting entity CRUD.

[~ramu11] A you working on this issue?

","19/Sep/18 14:31;ramu11;Dmitry, Thanks for the clarification. yes I am going to work on this. Let me take a look at [Implementing an OData service with Olingo|https://templth.wordpress.com/2015/04/27/implementing-an-odata-service-with-olingo/].

 

 ","19/Sep/18 14:45;dmvolod;[~ramu11], thanks for going to work on issue. If you will have questions we can discuss the issue offline.","19/Sep/18 14:50;ramu11;Dmitry, sure ",08/Oct/18 13:53;dmvolod;Also good point to start work on the component https://olingo.apache.org/doc/odata4/tutorials/read/tutorial_read.html,"13/Nov/18 08:34;dmvolod;[~ramu11], are you start to work on this feature? If you have a questions please share code or discuss there.","15/Nov/18 11:15;ramu11;Dmitry Volodin, Really I do not have cycles to work on this. I am quite busy with my stuff. As it requires considerable development efforts.

I am planning to work on this later. If it is quite urgent then I will release this from my bucket so that somebody else who has cycles can work

Thanks ",,,,,,,,,,,,,,,,,,,,,,,,,
camel-http4: basic auth no longer working when used in combination with a dynamic to,CAMEL-12764,13181933,,Bug,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,pascalschumacher,pascalschumacher,2018/8/29 15:30,2019/9/2 14:46,2021/3/6 6:31,,2.22.0,2.22.1,2.23.2,2.24.1,,,,camel-http4,,,,,,,0,regresion,,,,,"After upgrading a Spring Boot Project from Camel 2.21.1 to Camel 2.22.0 basic authentication of the http4 component stopped working when it is used in combination with a dynamic to.

My (slightly simplified) route:

{code:java}
from(inUri)
    .setHeader(Exchange.CONTENT_TYPE, constant(MediaType.APPLICATION_JSON_VALUE))
    .setBody(constant(""{\""action\"":\""signal\""}""))
    .setHeader(Exchange.HTTP_METHOD, constant(HttpMethods.PUT))
    .toD(""http4://{{username}}:{{password}}@{{host}}:{{port}}/executions/${exchangeProperty.my_id}"");
{code}

When I change the route and remove the dynamic to everything works fine again:

{code:java}
from(inUri)
    .setHeader(Exchange.CONTENT_TYPE, constant(MediaType.APPLICATION_JSON_VALUE))
    .setBody(constant(""{\""action\"":\""signal\""}""))
    .setHeader(Exchange.HTTP_METHOD, constant(HttpMethods.PUT))
    .setHeader(Exchange.HTTP_PATH, exchangeProperty(""my_id""))
    .to(""http4://{{username}}:{{password}}@{{host}}:{{port}}/executions/"");
{code}

Maybe this regression was caused by CAMEL-12462?
",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-13930,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,13:57.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 14:03:16 UTC 2019,,,,,,,,0|i3xk2f:,9.22337E+18,,,,,,,,,,,,,,,"04/Sep/18 15:13;davsclaus;Yeah its possible a problem of that issue, can you try with 2.22.1 release when its GA. You can use recipientList instead of toD as workaround.",07/Sep/18 12:36;pascalschumacher;Thanks for the reponse. Sadly the issue still exists in Camel 2.22.1.,"28/Sep/18 17:29;aldettinger;Actually, [SendDynamicProcessor|https://github.com/apache/camel/blob/master/camel-core/src/main/java/org/apache/camel/processor/SendDynamicProcessor.java#L91] voids username and password from the uri. I think it could be ok as it prevents to end up with an endpoint instance per username/password provided. However, we would need a mechanism to delegate basic auth to the underlying component. For http4, [authUsername & authPassword|https://github.com/apache/camel/blob/master/components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpComponent.java#L161] may do the job but it may not work for other components.

I guess we could hack pre/post processors to enable send dynamic basic auth for http4 for now. But in the long run, I wonder if those pre/post processors should be offered by the underlying component itself.

Any thoughts ?",29/Apr/19 07:09;davsclaus;Can you try with latest releases,29/Apr/19 14:56;pascalschumacher;I tried with Camel 2.23.2 and it now works again.,"30/Apr/19 11:20;pascalschumacher;Sorry I messed up, it still does not work with Camel 2.23.2.",16/May/19 10:11;davsclaus;Can you try with latest code on camel-2.x branch,07/Jun/19 13:07;pascalschumacher;Is there a maven repository with 2.25.0-SNAPSHOT builds? https://repository.apache.org/content/repositories/snapshots/ does not contain 2.25.0-SNAPSHOT and building camel from source fails at work.,07/Jun/19 13:09;acosentino;you need to do a full build on camel-2.x branch.,"07/Jun/19 14:29;davsclaus;You can build camel-2.x with 

mvn clean install -P fastinstall",06/Aug/19 14:03;davsclaus;Did you test with latest code?,,,,,,,,,,,,,,,,,,,,,,,
cluster service :  implement intra cluster comunication,CAMEL-12766,13182482,,New Feature,In Progress,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2018/9/1 11:53,2019/8/6 14:06,2021/3/6 6:31,,,,,,,3.x,Future,camel-core,,,,,,,0,clustering,,,,,"The cluster service supports leadership election and membership events, we should support also intra cluster communication",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,04:20.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 16 10:04:20 UTC 2018,,,,,,,,0|i3xnfr:,9.22337E+18,,,,,,,,,,,,,,,16/Nov/18 10:04;acosentino;[~lb] what's the status of this?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cluster service : create a cluster service based component,CAMEL-12767,13182483,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2018/9/1 11:54,2019/4/29 7:09,2021/3/6 6:31,,,,,,,,,,,,,,,,0,clustering,,,,,We should create a cluster component to interact with a camel cluster leveraging the cluster service. i.e. wwe can create a cluster wide seda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,54:38.0,,,,,,,,0|i3xnfz:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-crypto-cms tests fail with OpenJDK,CAMEL-12772,13182711,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tadayosi,tadayosi,2018/9/4 3:18,2019/8/6 14:27,2021/3/6 6:31,,,,,,,,,camel-crypto-cms,,,,,,,0,,,,,,"I am not certain if it's a test bug or expected behaviour but when I run {{mvn clean install}} in {{camel-crypto-cms}} with OpenJDK 8, the tests always fail. They pass when I run it with Oracle JDK.

I found a similar issue with WildFly-Camel as well:
https://github.com/wildfly-extras/wildfly-camel/issues/2245

My JDK version:
{code}
$ java -version
openjdk version ""1.8.0_181""
OpenJDK Runtime Environment (build 1.8.0_181-b13)
OpenJDK 64-Bit Server VM (build 25.181-b13, mixed mode)
{code}

Test output:
{code}
[ERROR] Tests run: 15, Failures: 0, Errors: 15, Skipped: 0, Time elapsed: 1.38 s <<< FAILURE! - in org.apache.camel.component.crypto.cms.ComponentTest
[ERROR] wrongOperation(org.apache.camel.component.crypto.cms.ComponentTest)  Time elapsed: 0.292 s  <<< ERROR!
org.apache.camel.component.crypto.cms.exception.CryptoCmsException: Problem during generating the keystore
Caused by: java.security.cert.CertificateParsingException: java.io.IOException: Unknown named curve: 1.3.132.0.37
Caused by: java.io.IOException: Unknown named curve: 1.3.132.0.37

[ERROR] execute(org.apache.camel.component.crypto.cms.ComponentTest)  Time elapsed: 0.04 s  <<< ERROR!
org.apache.camel.component.crypto.cms.exception.CryptoCmsException: Problem during generating the keystore
Caused by: java.security.cert.CertificateParsingException: java.io.IOException: Unknown named curve: 1.3.132.0.37
Caused by: java.io.IOException: Unknown named curve: 1.3.132.0.37

[ERROR] orignatorUnprotectedAttributes(org.apache.camel.component.crypto.cms.ComponentTest)  Time elapsed: 0.107 s  <<< ERROR!
org.apache.camel.component.crypto.cms.exception.CryptoCmsException: Problem during generating the keystore
Caused by: java.security.cert.CertificateParsingException: java.io.IOException: Unknown named curve: 1.3.132.0.37
Caused by: java.io.IOException: Unknown named curve: 1.3.132.0.37
...
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,45:22.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Sep 05 10:45:22 UTC 2018,,,,,,,,0|i3xou7:,9.22337E+18,,,,,,,,,,,,,,,"05/Sep/18 10:45;vrlgohel;It seems to be an openjdk issue: [https://bugs.openjdk.java.net/browse/JDK-8160342.] 

Using Oracle JVM works for me too.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Elasticsearch-Rest Component to support version in Update query,CAMEL-12773,13182815,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,johnbolshakov,johnbolshakov,2018/9/4 13:50,2019/8/6 14:27,2021/3/6 6:31,,,,,,,Future,,camel-elasticsearch-rest,,,,,,,0,,,,,,"Elasticsearch has Concurrency Control for updates based on version of document.

[https://www.elastic.co/guide/en/elasticsearch/guide/current/optimistic-concurrency-control.html|https://www.elastic.co/guide/en/elasticsearch/guide/current/optimistic-concurrency-control.html]

We can add support of such header (version) to ElasticsearchActionRequestConverter class to convert it into UpdateRequest.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,50:30.0,,,,,,,,0|i3xph3:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-spring-ws - Should support HeaderFilterStrategy,CAMEL-12783,13183319,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,vrlgohel,davsclaus,davsclaus,2018/9/6 7:36,2019/8/6 14:27,2021/3/6 6:31,,,,,,,Future,,camel-spring-ws,,,,,,,0,,,,,,"We should add support for HeaderFilterStrategy like some of the other components do, so you can more easily filter headers in request vs response use-cases.

Asked on SO:
https://stackoverflow.com/questions/52188019/how-to-filter-http-headers-for-apache-camel-spring-ws-services",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,49:25.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Sep 06 08:49:25 UTC 2018,,,,,,,,0|i3xsfz:,9.22337E+18,,,,,,,,,,,,,,,06/Sep/18 08:49;vrlgohel;will look,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Salesforce component tries to reconnect when unsubscribing from topic in case of ""403::Handshake denied"" error",CAMEL-12812,13185270,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,atyurin,atyurin,2018/9/14 23:52,2020/12/18 12:27,2021/3/6 6:31,,2.21.2,2.22.1,,,,,,camel-salesforce,,,,,,,1,,,,,,"Hi.

We've faced some strange behavior when salesforce component is shutting down.

When SF component is unsubscribing from channel and it gets some error, e.g. ""403::Handshake denied"" it tries then reconnect to SF. But why? if it is shutting down.

This causes long process of logout from SF: about 4 minutes.

We do not have specific scenario, but only exceptions for this case.

 

2018-08-31 05:40:51.454 [SalesforceHttpClient@b9f06a7-293] INFO org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Restarting on unexpected disconnect from Salesforce... 2018-08-31 05:40:51.454 [SalesforceHttpClient@b9f06a7-293] DEBUG org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Waiting to disconnect... 2018-08-31 05:40:51.455 [SalesforceHttpClient@b9f06a7-288] DEBUG org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - [CHANNEL:META_CONNECT]: \{clientId=kteskpq4fgf192z1zpdm0ml1ebe, advice={reconnect=none, interval=0}, channel=/meta/connect, id=29, error=401::Authentication invalid, successful=false} 2018-08-31 05:40:51.455 [SalesforceHttpClient@b9f06a7-288] WARN org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Connect failure: \{clientId=kteskpq4fgf192z1zpdm0ml1ebe, advice={reconnect=none, interval=0}, channel=/meta/connect, id=29, error=401::Authentication invalid, successful=false} 2018-08-31 05:40:56.516 [SalesforceHttpClient@b9f06a7-292] INFO org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Cleaning session (logout) from SalesforceSession before restarting client 2018-08-31 05:41:39.156 [Camel (camel-1) thread #105 - ShutdownTask] INFO org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Unsubscribing from channel /topic/myCompanyExtRoutPsr... ... 2018-08-31 05:42:19.156 [Camel (camel-1) thread #105 - ShutdownTask] WARN org.apache.camel.impl.DefaultShutdownStrategy - Error occurred while shutting down route: Consumer[salesforce-102-STREAMING://myCompanyExtRoutPsr?sObjectClass=com.myCompany.sfgateway.api.dto.PendingServiceRouting&sObjectQuery=SELECT+Id%2C+QueueId%2C+WorkItemId%2C+IsPushed%2C+ServiceChannelId%2C+LastDeclinedAgentSession%2C+CreatedDate%2C+IsDeleted%2C+IsPushAttempted%2C+IsTransfer+from+PendingServiceRouting+WHERE+RoutingModel+%3D+%27ExternalRouting%27&synchronous=true]. This exception will be ignored. org.apache.camel.CamelException: Timeout error unsubscribing from topic myCompanyExtRoutPsr after 40 seconds at org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper.unsubscribe(SubscriptionHelper.java:519) ~[camel-salesforce-2.21.2.jar!/:2.21.2] at org.apache.camel.component.salesforce.SalesforceConsumer.doStop(SalesforceConsumer.java:139) ~[camel-salesforce-2.21.2.jar!/:2.21.2] at org.apache.camel.support.ServiceSupport.stop(ServiceSupport.java:102) ~[camel-core-2.21.2.jar!/:2.21.2] at org.apache.camel.util.ServiceHelper.stopService(ServiceHelper.java:142) ~[camel-core-2.21.2.jar!/:2.21.2] at org.apache.camel.impl.DefaultShutdownStrategy.shutdownNow(DefaultShutdownStrategy.java:381) [camel-core-2.21.2.jar!/:2.21.2] at org.apache.camel.impl.DefaultShutdownStrategy$ShutdownTask.run(DefaultShutdownStrategy.java:577) [camel-core-2.21.2.jar!/:2.21.2] at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_102] at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_102] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_102] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_102] at java.lang.Thread.run(Thread.java:745) [?:1.8.0_102] 2018-08-31 05:42:19.170 [Camel (camel-1) thread #105 - ShutdownTask] INFO org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Unsubscribing from channel /topic/myCompanyExtRoute... 2018-08-31 05:42:46.458 [SalesforceHttpClient@b9f06a7-293] ERROR org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Error restarting: Error during HANDSHAKE: 403::Handshake denied org.apache.camel.CamelException: Error during HANDSHAKE: 403::Handshake denied at org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper.doStart(SubscriptionHelper.java:215) ~[camel-salesforce-2.21.2.jar!/:2.21.2] at org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper$4.run(SubscriptionHelper.java:278) [camel-salesforce-2.21.2.jar!/:2.21.2] at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at java.lang.Thread.run(Thread.java:745) [?:1.8.0_102] 2018-08-31 05:42:59.170 [Camel (camel-1) thread #105 - ShutdownTask] WARN org.apache.camel.impl.DefaultShutdownStrategy - Error occurred while shutting down route: Consumer[salesforce-102-STREAMING://myCompanyExtRoute?notifyForFields=ALL&sObjectClass=com.myCompany.sfgateway.api.dto.AgentWork&sObjectQuery=SELECT+Id%2C+IsDeleted%2C+Status%2C+UserId%2C+WorkItemId%2C+ServiceChannelId%2C+DeclineReason%2C+PendingServiceRoutingId+FROM+AgentWork&synchronous=true]. This exception will be ignored. org.apache.camel.CamelException: Timeout error unsubscribing from topic myCompanyExtRoute after 40 seconds at org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper.unsubscribe(SubscriptionHelper.java:519) ~[camel-salesforce-2.21.2.jar!/:2.21.2] at org.apache.camel.component.salesforce.SalesforceConsumer.doStop(SalesforceConsumer.java:139) ~[camel-salesforce-2.21.2.jar!/:2.21.2] at org.apache.camel.support.ServiceSupport.stop(ServiceSupport.java:102) ~[camel-core-2.21.2.jar!/:2.21.2] at org.apache.camel.util.ServiceHelper.stopService(ServiceHelper.java:142) ~[camel-core-2.21.2.jar!/:2.21.2] at org.apache.camel.impl.DefaultShutdownStrategy.shutdownNow(DefaultShutdownStrategy.java:381) [camel-core-2.21.2.jar!/:2.21.2] at org.apache.camel.impl.DefaultShutdownStrategy$ShutdownTask.run(DefaultShutdownStrategy.java:577) [camel-core-2.21.2.jar!/:2.21.2] at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_102] at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_102] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_102] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_102] at java.lang.Thread.run(Thread.java:745) [?:1.8.0_102] 2018-08-31 05:45:56.519 [SalesforceHttpClient@b9f06a7-292] WARN org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper - Error while cleaning session: Logout request TIMEOUT! org.apache.camel.component.salesforce.api.SalesforceException: Logout request TIMEOUT! at org.apache.camel.component.salesforce.internal.SalesforceSession.logout(SalesforceSession.java:318) ~[camel-salesforce-2.21.2.jar!/:2.21.2] at org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper$1.onMessage(SubscriptionHelper.java:142) [camel-salesforce-2.21.2.jar!/:2.21.2] at org.cometd.common.AbstractClientSession$AbstractSessionChannel.notifyOnMessage(AbstractClientSession.java:594) [cometd-java-common-3.1.2.jar!/:?] at org.cometd.common.AbstractClientSession$AbstractSessionChannel.notifyMessageListeners(AbstractClientSession.java:579) [cometd-java-common-3.1.2.jar!/:?] at org.cometd.common.AbstractClientSession.notifyListeners(AbstractClientSession.java:291) [cometd-java-common-3.1.2.jar!/:?] at org.cometd.common.AbstractClientSession.receive(AbstractClientSession.java:257) [cometd-java-common-3.1.2.jar!/:?] at org.cometd.client.BayeuxClient.failHandshake(BayeuxClient.java:735) [cometd-java-client-3.1.2.jar!/:?] at org.cometd.client.BayeuxClient.processHandshake(BayeuxClient.java:721) [cometd-java-client-3.1.2.jar!/:?] at org.cometd.client.BayeuxClient.processMessages(BayeuxClient.java:606) [cometd-java-client-3.1.2.jar!/:?] at org.cometd.client.BayeuxClient.access$3100(BayeuxClient.java:100) [cometd-java-client-3.1.2.jar!/:?] at org.cometd.client.BayeuxClient$MessageTransportListener.onMessages(BayeuxClient.java:1189) [cometd-java-client-3.1.2.jar!/:?] at org.cometd.client.transport.LongPollingTransport$2.onComplete(LongPollingTransport.java:236) [cometd-java-client-3.1.2.jar!/:?] at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:216) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:208) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:416) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:605) [jetty-http-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1675) [jetty-http-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1523) [jetty-http-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155) [jetty-client-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281) [jetty-io-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102) [jetty-io-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291) [jetty-io-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151) [jetty-io-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102) [jetty-io-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118) [jetty-io-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680) [jetty-util-9.4.11.v20180605.jar!/:9.4.11.v20180605] at java.lang.Thread.run(Thread.java:745) [?:1.8.0_102]

 

Could you change SubscriptionHelper not to start again in restartClient when logout/unsubscribe is invoked (line 278 in

org.apache.camel.component.salesforce.internal.streaming.SubscriptionHelper v2.21.2)

 

and/or prevent reconnect in case of logout?

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,28:33.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Dec 18 12:27:18 UTC 2020,,,,,,,,0|i3y4d3:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 14:28;davsclaus;Can you try with latest Camel release and report back,"17/Dec/20 19:20;davsclaus;[~zregvart] I wonder if all your latest PR may avoid this problem? Or if its still something relevant, this is from more than 2 years ago","18/Dec/20 12:27;zregvart;I'm not certain that it would. The credentials we provide to the Salesforce API remain unchanged, and the request to not restart the client goes against the resiliency we're trying to have in the Salesforce consumer. We simply can't recover in some cases without restarting the client. Whatever made the credentials to expire would make them invalid if the application hosting the Camel/Salesforce component would restart, so I'm not sure if this would provide a long term benefit. Perhaps [~atyurin] you could elaborate a bit or create a test reproducer for the issue you're having.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a LINE component,CAMEL-12823,13186206,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,tadayosi,tadayosi,tadayosi,2018/9/20 0:58,2019/8/6 14:32,2021/3/6 6:31,,,,,,,Future,,,,,,,,,2,,,,,,[LINE|https://developers.line.me/en/] is the most popular mobile messaging service in Japan. I will try to create a component for handling the SDKs.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,58:41.0,,,,,,,,0|i3ya4f:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support Oauth in FHIR component,CAMEL-12840,13187894,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,rkorytkowski,rkorytkowski,2018/9/27 12:35,2018/11/16 9:47,2021/3/6 6:31,,2.23.0,,,,,Future,,,,,,,,,0,,,,,,New FHIR component was added in CAMEL-12625. We need to add support for OAuth.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,35:23.0,,,,,,,,0|i3yki7:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a full Groovy DSL,CAMEL-12845,13188521,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2018/10/1 13:09,2019/8/6 14:36,2021/3/6 6:31,,,,,,,3.x,,camel-groovy,,,,,,,1,scripting,,,,,"It would be nice to have a nice dsl set up a camel context in groovy similar to what it is possible with Spring or Blueprint DSL, something like

{code:java}

context {
    restConfiguration {
        ....
    }

   registry {
       bind 'myKey', 'myValue'
   }

   beans {
       bean('myProcessor') {
           exchange -> exchange.in.body = 'hello'
       }
   }

    from(t'imer:tick')
        .to('log:end')
}

{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,36:53.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 14:36:53 UTC 2019,,,,,,,,0|i3yocf:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 14:36;davsclaus;Camel K has a set of nice DSLs for scripting like Camel routes. Lets build and make these DSLs there first before adding/move to main Camel ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance the AS2 Component to support SHA2 MIC-Hash,CAMEL-12856,13189426,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,exx_communication,exx_communication,2018/10/4 13:15,2019/8/6 14:37,2021/3/6 6:31,,2.22.1,,,,,,,camel-as2,,,,,,,0,,,,,,"The current implementation of AS2 in Apache Camel supports the MIC-algorithms requested in RFC 4130.

But the are some discussion around this topic, see [https://www.rfc-editor.org/errata/rfc4130.]

So the alternate notation for SHA-1 (sha1 and sha-1) and the modern hash algorithms SHA-224/SHA-256/SHA-384/SHA-512 should be included.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,15:37.0,,,,,,,,0|i3ytwv:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance the AS2 Component to support RSA-OAEP,CAMEL-12857,13189435,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,exx_communication,exx_communication,2018/10/4 14:06,2019/8/6 14:37,2021/3/6 6:31,,2.22.1,,,,,,,camel-as2,,,,,,,0,,,,,,"The use of AS2 in Germany for business application could require to follow regulations set by the BSI (German Federal Office for Information Security).

The BSI requeries to use OAEP (Optimal asymmetric encryption padding) when sending encrypted SMIME-messages between public institutions. As AS2 uses SMIME as message structur this regulation affects AS2 implementation used in Germany.

[https://en.wikipedia.org/wiki/Optimal_asymmetric_encryption_padding]

The BouncyCastle libary already supports OAEP.

See [https://www.bouncycastle.org/specifications.html]
 * RSA/NONE/OAEPWithMD5AndMGF1Padding
 * RSA/NONE/OAEPWithSHA1AndMGF1Padding
 * RSA/NONE/OAEPWithSHA224AndMGF1Padding
 * RSA/NONE/OAEPWithSHA256AndMGF1Padding
 * RSA/NONE/OAEPWithSHA384AndMGF1Padding
 * RSA/NONE/OAEPWithSHA512AndMGF1Padding
 * RSA/NONE/OAEPWithSHA3-224AndMGF1Padding
 * RSA/NONE/OAEPWithSHA3-256AndMGF1Padding
 * RSA/NONE/OAEPWithSHA3-384AndMGF1Padding
 * RSA/NONE/OAEPWithSHA3-512AndMGF1Padding",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Oct 04 14:45:01 UTC 2018,,,,,,,,0|i3ytyv:,9.22337E+18,,,,,,,,,,,,,,,"04/Oct/18 14:45;exx_communication;To use OAEP with BouncyCastle you must add a parameter to the JceKeyTransRecipientInfoGenerator constructor
{code:java}
import javax.crypto.spec.OAEPParameterSpec;
import org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers
import org.bouncycastle.asn1.x509.AlgorithmIdentifier;
import org.bouncycastle.operator.jcajce.JcaAlgorithmParametersConverter;
import org.bouncycastle.cms.jcajce.JceKeyTransRecipientInfoGenerator;

...

JcaAlgorithmParametersConverter paramsConverter = new JcaAlgorithmParametersConverter();
AlgorithmIdentifier algorithmIdentifier = paramsConverter.getAlgorithmIdentifier(PKCSObjectIdentifiers.id_RSAES_OAEP, OAEPParameterSpec.DEFAULT);
JceKeyTransRecipientInfoGenerator generator = new JceKeyTransRecipientInfoGenerator(encryptionCertificate, algorithmIdentifier);{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance the AS2 Component to support SHA2 Hashs with RSA-PSS,CAMEL-12858,13189437,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,exx_communication,exx_communication,2018/10/4 14:24,2019/8/6 14:37,2021/3/6 6:31,,2.22.1,,,,,,,camel-as2,,,,,,,0,,,,,,"The use of AS2 in Germany for business application could require to follow regulations set by the BSI (German Federal Office for Information Security).

The BSI requeries to use RSASSA-PSS (Probabilistic signature scheme) or MGF1 (Mask generation function) when sending signed SMIME-messages between public institutions. As AS2 uses SMIME as message structur this regulation affects AS2 implementation used in Germany.

[https://en.wikipedia.org/wiki/Probabilistic_signature_scheme]

[https://en.wikipedia.org/wiki/Mask_generation_function]

The BouncyCastle libary already supports RSA-PSS or MGF1.

See https://www.bouncycastle.org/specifications.html
 * SHA1withRSAandMGF1
 * SHA256withRSAandMGF1
 * SHA384withRSAandMGF1
 * SHA512withRSAandMGF1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:39.0,,,,,,,,0|i3ytzb:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-restdsl-swagger-plugin - Include api-properties from swagger file,CAMEL-12866,13189998,,Improvement,In Progress,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,zregvart,jcordes,jcordes,2018/10/8 4:07,2019/8/6 15:04,2021/3/6 6:31,,2.22.1,,,,,Future,,tooling,,,,,,,0,,,,,,"The camel-restdsl-swagger-plugin should include additional meta-information from an OpenAPI/Swagger definition and add them to the generated code, f.e. from the following blocks (info, license, tags) :

""info"":{
 ""description"":""A description"",
 ""version"":""1.0.0"",
 ""title"":""A title"",
 ""termsOfService"":""http://myhost.com/terms/"",
 ""contact"":{
 ""email"":""apiteam@myhost.com""
 },
 ""license"":{
 ""name"":""Apache 2.0"",
 ""url"":""http://www.apache.org/licenses/LICENSE-2.0.html""
 }
 },
""tags"":[]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,07:47.0,,,,,,,,0|i3yxfr:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-jms - Support transactional concurrent SimpleMessageListenerContainer,CAMEL-12876,13191124,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,hopeng,hopeng,2018/10/12 6:04,2019/8/7 1:12,2021/3/6 6:31,,2.22.1,,,,,Future,,came-jms,,,,,,,0,,,,,,"I wish to use SimpleMessageListenerContainer in transacted mode with multiple consumers. 

But org.apache.camel.component.jms.JmsEndpoint line 224 is giving the listenerContainer a custom TaskExecutor, causing SimpleMessageListenerContainer to fail if sessionTransacted=true and concurrentConsumers>1. The custom taskExecutor causes JMS session commit to be called by the wrong thread randomly and fails.

Can we update JmsEndpoint to not set taskExecutor just for SimpleMessageListenerContainer? I've tested this by overriding the lib and it works well with sessionTransacted=true and concurrentConsumers>1 (Solace broker). SimpleMessageListenerContainer has many benefits like true event driven over the default polling listenerContainer. Will be great to get it properly supported.
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,59:04.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Aug 07 01:11:55 UTC 2019,,,,,,,,0|i3z4av:,9.22337E+18,,,,,,,,,,,,,,,"16/Oct/18 07:59;dmvolod;[~hopeng] you are welcome to contribute this feature as well as provide JUnit test on top of the ActiveMQ.

https://github.com/apache/camel/blob/master/CONTRIBUTING.md","03/Jan/19 05:27;ramu11;James Huang, If you provide a simple junit test class. I will look into it. ",06/Aug/19 15:06;davsclaus;Did you get a chance to work on a patch as your comments seems resonable,07/Aug/19 01:11;hopeng;Will try find some time to do it this month.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Spring WebMVC support via HandlerAdapter/HandlerMapping,CAMEL-12877,13191148,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,zregvart,zregvart,zregvart,2018/10/12 8:43,2018/10/12 8:43,2021/3/6 6:31,,,,,,,,,camel-spring,,,,,,,0,,,,,,"I think we could benefit from having a more Spring WebMVC native way of exposing REST routes. Right now we're using {{camel-servlet}}, a more Springy way of doing that would be to register a HandlerAdapter/HandlerMapping(s) with DispatcherServlet. One immediate benefit would be that the mappings would dictate what paths/URLs are handled by Spring and what are handled by Camel, allowing for some overlap between them. Also Spring this would allow Spring HandlerInterceptors to be used.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,43:42.0,,,,,,,,0|i3z4g7:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement MDC Logging Integration for camel-opentracing Similar to CAMEL-12721,CAMEL-12879,13191392,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,hawkdshrh,hawkdshrh,2018/10/13 12:53,2021/2/3 15:29,2021/3/6 6:30,,2.21.0,,,,,Future,,camel-opentracing,,,,,,,0,,,,,,Recent updates to opentracing via [https://github.com/opentracing/opentracing-java/pull/280] seem to open the possibility of creating functionality for camel-opentracing similar to that described in CAMEL-12721 for camel-zipkin.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,58:48.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Dec 23 11:58:48 UTC 2019,,,,,,,,0|i3z5xb:,9.22337E+18,,,,,,,,,,,,,,,"23/Dec/19 11:58;dschulten;Note that {{MDCScopeDecorator.create()}} does not appear to work in OSGi environments, see CAMEL-14324",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Spring boot example with mybatis,CAMEL-12898,13193983,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,michael992,michael992,2018/10/24 21:46,2019/8/6 15:08,2021/3/6 6:31,,2.22.1,,,,,,,camel-mybatis,examples,,,,,,0,,,,,,"It will better if it will be possible to use the datasource from Spring without any other configuration something like this [Example|https://stackoverflow.com/questions/38292022/how-to-integrate-spring-boot-camel-and-mybatis] (this exemple not working with latest camel version) And also adding an example in the documentation.

(The idea http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/)

Another thing:

It is possible to get a clear example for this parameter didn't find anything in the doc/code 
{code:java}
camel.component.mybatis.sql-session-factory
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,46:00.0,,,,,,,,0|i3zlun:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-restdsl-swagger-plugin - create camel routes for generated rest DSL,CAMEL-12904,13194492,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,scranton,scranton,2018/10/26 19:03,2020/2/28 8:54,2021/3/6 6:31,,,,,,,Future,,tooling,,,,,,,1,gsoc2020,help-wanted,,,,"camel-restdsl-swagger-plugin can generate CamelRoutes.java from a Swagger / OpenAPI spec, which includes the REST DSL with to(""direct:restN"") stubs. Would be nice if it also autogenerated the equivalent from(""direct:restN"").log() placeholders to help jump start coding.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,29:42.8,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 02 13:34:32 UTC 2018,,,,,,,,0|i3zozr:,9.22337E+18,,,,,,,,,,,,,,,"02/Nov/18 10:29;davsclaus;Okay that should be possible to do, we should then generate a new RouteBuilder class with all the from(""direct:xxx"") stubs.",02/Nov/18 10:57;zregvart;Perhaps a more generic variant could be done by adding a hook (similar to how operation name hook) for adding any number of processors instead or in addition to the {{to}} we currently have.,"02/Nov/18 13:34;davsclaus;Yeah but I think we need to separate the generate route builder with the rest-dsl, from the route builder where the Camel developer take over and build his own routes. 

If the hook can do that then that is good, and then we can have a default hook that generates that to direct log pattern that Scott suggests.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java-dsl - Add support for method references bean::methodName,CAMEL-12910,13195883,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,doncristiano,doncristiano,2018/11/2 12:20,2020/2/17 13:10,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,gsoc2020,,,,,"Hi

This is not related only to spring integration.
I like to be able to use a spring service annotated class or bean directly from route but without using the method name as string, i.e. .bean(instance, ""<method name"") and instead use a method reference: .bean(instance::method)

But why?: 
*1.* not being able to navigate quickly(open) that method from the IDE. Need to do some intermediary steps to reach that method.
*2.* using of reflection internally by Camel to call that method.
*3.* not being able to rename the method without breaking the route.
*4.* not being able to see quickly (Alt+F7) who calls a methods in the IDE.
*5.* using strings to reference a method when we have method references seems *not right.*

As a workaround I had to add a helper class to simulate passing of method references and then internally to translate to method.

In case it helps explaining I am attaching the helper Bean.java class (you can use it for free or to do better).

You can use the class in any route like this: 

from (X)
 .bean(*call*(cancelSubscriptionService::buildSalesforceCase))
 .to(Y)
 .routeId(Z);

As you see I am forced to use the intermediary helper 'call' in order to translate to an Expression.
I would like to not have to use my helper and have the support built directly into Camel if possible. Let me know if there is a better solution to my problem.

Thanks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,02/Nov/18 12:17;doncristiano;Bean.java;https://issues.apache.org/jira/secure/attachment/12946671/Bean.java,,,,,1,,,,,,,,,,,,,,,,,,,,39:03.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 15:10:24 UTC 2019,,,,,,,,0|s002aw:,9.22337E+18,,,,,,,,,,,,,,,07/Nov/18 17:39;onders;May this be related to https://issues.apache.org/jira/browse/CAMEL-10845,"08/Nov/18 07:40;doncristiano;Hi [~onders], thank you for looking into this.

I looked at [10845|https://issues.apache.org/jira/browse/CAMEL-10845] and although has similarities it is quite different. The current bean integration of Camel implies referencing the methods by their name as a string.

I wanted to follow the process by opening this ticket but *if* needed I can fork a branch, do the improvement myself and then a pull request at the end. Just need green light from one of the *top* contributors before starting to work on this.","08/Nov/18 20:35;onders;Please check this out as well.

https://issues.apache.org/jira/browse/CAMEL-12319

And do not hesistate to write your ideas to dev-list. We have very active community. They will surely like to hear your ideas.

To me, please also do not hesistate to fork and work on a PR. As we always say, we love contributions :)","09/Nov/18 07:18;acosentino;Please go ahead and work on a PR. As [~onders] said, we love contributions!","09/Nov/18 08:15;doncristiano;Thank you [~ancosen]. I will start work on a PR (note: will not be fast since I am new to Camel). I am assigning this ticket to myself.

Thanks [~onders]. Where is the dev-list accessible?
 Related to the 12319 which you mentioned, *yes* it is similar but the *calling* *is different*. Here is why:
||Options||Description||
|1|Providing the parameters in the route has benefits in that it gives more control to the route which is good. E.g. {code:java}
from(X)
.bean(UserService.class, UserService::authenticateUser, body(), exchangeProperty(""locale""))
.bean(UserService.class, UserService::checkUserPermissions, body(), exchangeProperty(""locale""))
.bean(UserService.class, UserService::doWork, body(), header(""...""))
.to(Y){code}
 |
|2|I would prefer the route to just reference methods on an already *instantiated*/wired bean instance(not class like above) and *no parameters* specified: {code:java}
@Autowire UserService userService;
...
.bean(userService::authenticateUser)
.bean(userService::checkUserPermissions)
.bean(userService::doWork){code}
Then on the bean instance I use the annotations ([http://camel.apache.org/parameter-binding-annotations.html]) to let Camel do the mapping. Also I learned @Body is *not* needed if automatic matching based on type can be done by Camel and there are other smart rules also.  {code:java}
public void validate(@ExchangeProperty(""P1"") UserRequest request, String accountId) {...} // accountId is message body.{code}
Benefits:
 - Route DSL code is less.
- The method being referenced on the object and not on the class allows for runtime selection of the method based on the actual type of an interface type. The details of what the method takes in or not remain at the choice of the target method by using the needed annotations within the method definition/or in the target bean class or one of his implemented interfaces. Also in case the target method changes signature like adding a new parameter that references an existing exchange property then adding the new parameter would not require any change in the route dsl. Still someone would prefer to see all the dependencies in the route DSL so this is debatable.
- In case of auto wiring an interface type as we often do, e.g.{code:java}
@Autowire UserService userService;{code}
the target bean you may get may be different depending of the one that is injected. You may get a SingleTenantUserServiceImpl or a MultiTenantUserServiceImpl and SingleTenantUserServiceImpl#authenticateUser would need body and header H1 while MultiTenantUserServiceImpl#authenticateUser would need body, header H2. This would be easily possible with using the corresponding annotations at the method level and will require some choice based on type if we do it in the route DSL. Debatable as the one above.|

 
 *Conclusion.*
 Supporting *both* options could be achieved by using the same "".bean"" call since we could differentiate based on the number of parameters to the "".bean"" call.
 But I would implement first only method reference(option 2) in route and have in a *later* ticket (if needed) the capability of specifying parameters in route(option 1).
   
  
  ","09/Nov/18 08:17;acosentino;For the moment it's enough to have a comment you're working on this. When you'll contribute more, we will give you permission to assign issues to yourself.","06/Aug/19 15:10;davsclaus;The bean DSL now has a supplier, so the xxx:new syntax should be supported at least",,,,,,,,,,,,,,,,,,,,,,,,,,,
SQS: Optionally wait for transaction complete to send messages in SqsProducer,CAMEL-12927,13197495,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,candrews,candrews,2018/11/9 20:12,2019/8/6 15:11,2021/3/6 6:31,,2.22.1,,,,,Future,,camel-aws,,,,,,,0,,,,,,"Currently, SQS sends messages immediately not waiting for the transaction to commit. Since SQS doesn't support transactional message sending, this behavior is as expected. However, Camel could emulate transaction support for SQS by waiting for the current transaction to commit before sending the message. This would make SQS behave more in line with JMS.

In SqsConfiguration, add one new property:
 * transacted

When transactioned=false (default), behavior is as it is today.

When transaction=true, don't send the message until the transaction completes. In SqsProducer, wrap the call to

{code:java}
SendMessageResult result = getClient().sendMessage(request);{code}
like so:

{code:java}
        org.springframework.transaction.support.TransactionSynchronizationManager.registerSynchronization(new org.springframework.transaction.support.TransactionSynchronizationAdapter() {

            @Override
            public void afterCommit() {
                SendMessageResult result = getClient().sendMessage(request);
            }
            
        });{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,56:37.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Dec 11 14:52:38 UTC 2018,,,,,,,,0|s00c88:,9.22337E+18,,,,,,,,,,,,,,,"07/Dec/18 06:56;davsclaus;That code above uses Spring TX, do AWS client really use Spring TX or was that some code you added on your own?","07/Dec/18 20:20;candrews;That's code I'm submitting for consideration to solve the issue.

 It is not currently in [SqsProducer|https://github.com/apache/camel/blob/camel-2.23.0/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsProducer.java].",11/Dec/18 14:52;davsclaus;Okay but I am asking if you added Spring TX yourself to camel-aws? eg did you add some extra JAR dependencies to do this?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-bindy - Null as default value for string,CAMEL-12941,13198726,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Trivial,,,michael992,michael992,2018/11/15 20:03,2019/8/6 15:14,2021/3/6 6:31,,2.22.1,,,,,,,camel-bindy,,,,,,,0,,,,,,"From 2.18.0 the default value for empty string is """" and it is not possible to set default string value to null please provide a way to do that, maybe the good solution is to set the default value to null when empty and provide the ability to change this with the annotion parameter 'defaultValue' ([related subject|https://stackoverflow.com/questions/38246684/how-to-set-defaultvalue-parameter-in-datafield-camel-annotation-to-empty-string])",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,12:29.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 15:14:43 UTC 2019,,,,,,,,0|s00jt4:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 15:12;davsclaus;Whats the use-case for using null as default value?,06/Aug/19 15:14;michael992;[~davsclaus] Some json manipulation,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-snmp - Support for multiple security mechanisms in SNMP v3,CAMEL-12945,13199521,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,gowthamgutha,gowthamgutha,2018/11/20 5:55,2020/2/17 13:10,2021/3/6 6:31,,2.22.2,,,,,,,camel-snmp,,,,,,,0,gsoc2020,,,,,"Allow to add multiple users for SNMP v3 i.e. the SnmpTrapConsumer should support multiple combinations of authentication and privacy protocols and different passphrases. We cannot have a route per security mechanism.

 

Consider the below scenario.

I have multiple SNMP devices which have multiple authentication protocols and privacy protocols with different passphrases. Moreover, they can send any version of SNMP traps from v1 to v3. I must be able to configure those in a properties file or a DSL (i.e. the snmp version, the USM users etc).

*Example:*

 
{code:java}
snmp.getUSM().addUser(
 new OctetString(""MD5DES""),
 new UsmUser(new OctetString(""MD5DES""), AuthMD5.ID,
 new OctetString(""UserName""), PrivDES.ID,
 new OctetString(""PasswordUser"")));
snmp.getUSM().addUser(
 new OctetString(""MD5DES""),
 new UsmUser(new OctetString(""MD5DES""), null, null, null,
 null));
 
{code}
.. other users with different auth, priv mechanisms (i.e. different security mechanisms). I must be able to receive traps from all of them.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,55:14.0,,,,,,,,0|s00oog:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-snmp - Use MultiThreadedMessageDispatcher for SnmpConsumer,CAMEL-12946,13199525,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,gowthamgutha,gowthamgutha,2018/11/20 6:09,2019/8/6 15:13,2021/3/6 6:31,,2.22.2,,,,,,,camel-snmp,,,,,,,0,,,,,,"The consumer must be able to consume using multiple threads.

 

 
{code:java}
// Create a threadpool with n threads
 threadPool = ThreadPool.create(""Trap"", endpoint.getMessageDispatcherThreads());
 
 dispatcher = new MultiThreadedMessageDispatcher(threadPool,
 new MessageDispatcherImpl());
 
// this.snmp = new Snmp(transport);
this.snmp = new Snmp(dispatcher, transport);
 
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:57.0,,,,,,,,0|s00opc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel grpc component doesn't transfer the Message headers,CAMEL-12953,13200158,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,vijayanv,vijayanv,2018/11/22 22:09,2020/2/28 8:54,2021/3/6 6:31,,2.22.1,,,,,3.x,,camel-grpc,,,,,,,0,gsoc2020,help-wanted,,,,"Headers that are added to the Message in the camel Exchange before making a call to the camel-grpc component are not received at the grpc consumer. The expectation is that these headers would be added to the grpcStub before sending over the wire (like other components like http4 etc).

Our team has come up with a workaround for this but it is extremely cumbersome. We had to extend the GrpcProducer to introduce a custom GrpcExchangeForwarder that would copy header from exchange to the stub before invoking the sync/async method.

At the consumer side we had to extend the GrpcConsumer to use a custom ServerInterceptor to capture the grpc headers and custom MethodHandler to transfer the grpc headers to the Camel exchange headers.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,37:17.9,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 21 06:27:36 UTC 2020,,,,,,,,0|s00sj4:,9.22337E+18,,,,,,,,,,,,,,,"23/Nov/18 05:37;dmvolod;[~vijayanv], yes, it's not implemented yet and in roadmap.

You are welcome to provide PR and JUnit test for it as well. It must be option to send/receive headers and disabled by default.

 [https://github.com/apache/camel/blob/master/CONTRIBUTING.md]","17/Feb/20 20:26;madhawak;Hi All,
I am Madhawa, a Computer Science master student at the University of Stuttgart, and I would like to work on this issue during the summer as a GSoC student. I have good skills in Java, Maven, JUnit, JMS, AMQP, RDBMS, OData and other technologies of the Java Stack. I was checking out gRPC recently due to the popularity and the lightweight of the gRPC. I think working on this issue will help me to learn about Apache Camel and gRPC both. I am a total novice, so please could you help me with some documentation about Camel's Architecture? Or other resources in order to get started in the community.

Cheers,
Madhawa","18/Feb/20 05:45;dmvolod;Hi [~madhawak] !

 

You are welcome to provide this feature during GSoC 2020.

The good point to start is the project brand new site full with information you need

[https://camel.apache.org/manual/latest/architecture.html]

Also, if you familiar with OData technology, you could be also interesting with CAMEL-12750 issue

[https://github.com/apache/camel/blob/master/CONTRIBUTING.md]

 

 ","19/Feb/20 15:39;madhawak;Hi [~dmvolod], 

Thanks for the response. I will go through the website. Actually I would like to consider this issue and this one for the GSOC CAMEL-11994

Cheers,
 Madhawa","21/Feb/20 06:27;dmvolod;Good point, [~madhawak]

If you decide to go with CAMEL-11994 please comment inside the issue, otherwise another GSOC participant can take it.

Thank you.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka - Allow consumer partition assignment,CAMEL-12960,13200780,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,Jenkins1337,Jenkins1337,2018/11/27 7:45,2020/2/28 10:05,2021/3/6 6:31,,,,,,,Future,,camel-kafka,,,,,,,0,,,,,,"The current implementation of camel-kafka is coded to use consumer.subscribe.  This tends to be the default for most Kafka consumer use-cases, however, there are times when you may not want some of the features that come with subscription (such as automatic re-balancing).  

Kafka allows for more control in this situations by using the consumer.assign api.

Would be great if we can extend camel-kafka to pass in some additional flags and required fields for using assign instead of subscribe.",,,,,,,,,,,,,,,,,,CAMEL-10652,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,50:54.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 28 10:05:36 UTC 2020,,,,,,,,0|s00wco:,9.22337E+18,,,,,,,,,,,,,,,"27/Nov/18 07:48;Jenkins1337;[~ancosen] apologies, I clone this issue and it won't let me remove you from the assignee... ",27/Nov/18 07:50;acosentino;No problem. Removed,29/Nov/18 16:39;Jenkins1337;[~ancosen] any thoughts on how I might get these two new JIRAs reviewed and potentially picked up by someone?,30/Nov/18 11:25;acosentino;If someone want to work of them they are in the JIRA. you're welcome to work on them if you want.,"24/Feb/20 16:29;gabru-md;Hi, I noticed that this issue is in reference to [CAMEL-10652|https://issues.apache.org/jira/browse/CAMEL-10652] and hence would like to work on this as a project.","28/Feb/20 10:05;zregvart;Awesome [~gabru-md], could you pop over to the developer mailing list ([subscribe first|https://camel.apache.org/community/mailing-list/]) and introduce yourself? We like to get to know the potential GSoC students and help them with their project proposals before they submit.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka - Support Transactions,CAMEL-12961,13200886,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Jenkins1337,Jenkins1337,2018/11/27 15:49,2019/8/6 15:15,2021/3/6 6:31,,,,,,,Future,,camel-kafka,,,,,,,1,,,,,,"As of 0.11, Kafka supports transnational semantics.  Also, Spring has introduced a transaction manager for Kafka (under spring-kafka).  Being able to transactionally consume and produce messages (within kafka) or consume/produce to some other system (jms,database,etc.) within Camel would be very useful.",,,,,,,,,,,,,,,,,,CAMEL-12960,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,49:58.0,,,,,,,,0|s00x08:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-catalog: provide information about active/passive endpoints,CAMEL-12981,13202747,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,nferraro,nferraro,2018/12/6 10:51,2019/11/21 19:54,2021/3/6 6:31,,,,,,,3.x,,camel-core,tooling,,,,,,0,,,,,,"In Camel K we need to distinguish active from passive endpoints in order to determine when a integration can be scaled down to 0.

 

E.g.
 * a ""timer"" (start) endpoint is *active*, because it needs to have a JVM always running and do something at each interval
 * a ""jms"" (start) endpoint is *active* because it needs to establish a connection to the broker and keep it alive
 * a ""direct"" or ""seda"" endpoint is *passive*, because they do something when they receive an exchange from another route
 * a ""undertow"" (start) endpoint is *passive*, because it does nothing until somebody calls it from an +external+ service (http based endpoints can all be considered passive in Knative+CamelK)

 

We should add this information to the catalog. Now I've embedded it in Camel K.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,51:31.0,,,,,,,,0|s018ds:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cxf - Add ability for multiple configurations against single URI in CXF component,CAMEL-12992,13203832,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davisr_uk,davisr_uk,2018/12/11 22:02,2019/8/6 15:17,2021/3/6 6:31,,2.23.0,,,,,,,camel-cxf,,,,,,,0,,,,,,"Currently the CXF component does not allow for multiple configurations against a single URI. This restriction means that it is not possible to call the same endpoint with different certificates (perhaps using a RecipientList for example) in the same exchange / route.

We need a mechanism that allows multiple CFXEndpointConfigurer instances to be added to the same Endpoint. In addition we need the ability to identify the correct configuration dynamically e.g. in a RecipientList.

Relates to issues raised in CAMEL-12989.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,02:19.0,,,,,,,,0|s01f1c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RabbitMQ - Publisher confirms kills performance,CAMEL-13003,13204471,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,pbillen,pbillen,2018/12/14 12:40,2019/8/6 15:17,2021/3/6 6:31,,2.23.0,,,,,Future,,camel-rabbitmq,,,,,,,0,,,,,,"Hi Camelers,

Disclaimer: I'm fairly new to Camel, so please bear with me.

I would like to discuss [https://github.com/apache/camel/pull/717] and possibly propose an improvement.

In the PR mentioned above, support for publisher confirms has been implemented. The related documentation can be found on [https://www.rabbitmq.com/confirms.html#publisher-confirms.]

My thoughts is that the current implementation does not perform well. Basically, it has a throughput of one message at a time. I'll try to explain.
 * On [https://github.com/apache/camel/blob/master/components/camel-rabbitmq/src/main/java/org/apache/camel/component/rabbitmq/RabbitMQProducer.java#L178,] an exchange is retrieved. This contains a payload to be sent to the RabbitMQ broker. The exchanges are retrieved one by one.
 * On [https://github.com/apache/camel/blob/master/components/camel-rabbitmq/src/main/java/org/apache/camel/component/rabbitmq/RabbitMQProducer.java#L288,] we start with the publication to the broker.
 * On [https://github.com/apache/camel/blob/master/components/camel-rabbitmq/src/main/java/org/apache/camel/component/rabbitmq/RabbitMQMessagePublisher.java#L130,] the RabbitMQ API `channel.basicPublish()` is used to publish the payload.
 * Assuming that publisher confirmation is enabled, we come in [https://github.com/apache/camel/blob/master/components/camel-rabbitmq/src/main/java/org/apache/camel/component/rabbitmq/RabbitMQMessagePublisher.java#L145.] Here, we call the RabbitMQ API `channel.waitForConfirmsOrDie()`. This is a blocking call. It waits until the broker has confirmed that the publication has been correctly processed and enqueued. Since we just published one single message, we await the confirmation of that one single message.

I believe this means that our throughput is limited to one message at a time. For each message sent to RabbitMQ, we have to await the confirmation.

I believe it would be better to avoid using `channel.waitForConfirmsOrDie()` and implement a `ConfirmListener` ourselves. See [https://github.com/rabbitmq/rabbitmq-java-client/blob/master/src/main/java/com/rabbitmq/client/ConfirmListener.java.] This way, we can continue publications of subsequent messages, while we receive ACK's or NACK's of earlier publications.

An implementation gotcha is the fact that upon broker restart/disconnection the callback `ConfirmListener.nack()` will not be automatically called by the RabbitMQ, as the RabbitMQ API does not keep track of the in-flight messages. (In case you are wondering, `channel.waitForConfirmsOrDie()` is implemented by counting the responses.) In other words, we will have to assume a NACK for all in-flight messages when the connection was closed. This also means that we have to keep track of all in-flight messages, together with the corresponding `AsyncCallback`, at our end.

We also might want to limit the number of in-flight messages between the component and the broker.

What do you think?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,59:29.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Jan 09 11:59:29 UTC 2019,,,,,,,,0|s01iy8:,9.22337E+18,,,,,,,,,,,,,,,09/Jan/19 11:59;acosentino;I think it really worth a Pull Request. Sorry for the delay.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Validator Component Fails on XSD with file Relative Imports or include,CAMEL-13047,13208967,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,W.Y,W.Y,2019/1/11 10:33,2019/8/1 5:54,2021/3/6 6:31,,2.22.0,2.22.1,2.22.2,,,,,camel-core,,,,,,,0,,,,,,"When using the validator component with an XSD that references (import/include) a second XSD on a different path, and where the second XSD references a third XSD using a relative path, the path of the third XSD is resolved relative to the first schema rather than relative to the second.
I found it it same bug ticket reported , although it stated it is fixed already at camel 2.10, but it does not work for us when we use >=camel 2.22. The problem is reported as fixed at 
https://issues.apache.org/jira/browse/CAMEL-6013  . i modified testcase of it  and put it here again for you to reproduce the problem. thanks and rgds 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,11/Jan/19 13:52;W.Y;testcase.zip;https://issues.apache.org/jira/secure/attachment/12954591/testcase.zip,,,,,1,,,,,,,,,,,,,,,,,,,,08:09.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Jul 07 14:56:29 UTC 2019,,,,,,,,0|u00qmg:,9.22337E+18,,,,,,,,,,,,,,,"11/Jan/19 13:55;W.Y;unzip testcase 

you have 

testcase\outside
testcase\project
cd testcase\project\camel-validator-test 
mvn test 

you will see the problem, it works with xsdfile at  testcase\project
it failed with xsdfiles at testcase\outside",18/Jan/19 09:54;W.Y;Any feedback on this Bug?,18/Jan/19 11:08;acosentino;[~ramu11] is working on that in his free time. I guess you'll have to wait.,"07/Jul/19 14:56;davsclaus;Thanks for the test-case.

Maybe in the mean time structure your XSDs so they dont use so many relative paths among them, or maybe have 1 master xsd that imports all the others. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Display proper FTP reply message in case of transfer error,CAMEL-13069,13209839,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Broser,Broser,2019/1/16 9:54,2019/8/6 15:19,2021/3/6 6:31,,2.23.0,,,,,Future,,camel-ftp,,,,,,,0,FTP,FTP-Reply,,,,"When trying to transfer a file to an FTP server on an IBM mainframe that's too large for the allocated data set there I get the following log message:
{code:java}
...
2019-01-16 10:10:22,368 WARN file.remote.RemoteFileProducer ?Writing file failed with: File operation failed: 125 Storing data set TEST.TRANSFER.FB80.TXT
 IOException caught while copying.. Code: 125
...{code}
This is confusing since according to RFC 959 [reply codes {{1yz}} are {{Positive Preliminary}} replies|https://tools.ietf.org/html/rfc959#page-37] with:
{quote}[{{125 Data connection already open; transfer starting.}}|https://tools.ietf.org/html/rfc959#page-41]
{quote}
being more informational than exceptional.

Performing the same transfer manually with FileZilla and Windows 7's command line ftp client results in:

FileZilla:
{code:java}
...
Command:	STOR TRANSFER.FB80.TXT
Response:	125 Storing data set TEST.TRANSFER.FB80.TXT
Response:	451-Error: Name=CkResults (Write) RC=-13
Response:	451-System completion code and reason: B37-04
Response:	451-Data set is out of space.
Response:	451-Error (1013) closing the data set.
Response:	451 Transfer aborted due to file error.
...{code}
ftp:
{code:java}
ftp> send TRANSFER.FB80.TXT
---> PORT 10,100,113,251,254,235
200 Port request OK.
---> STOR TRANSFER.FB80.TXT
125 Storing data set TEST.TRANSFER.FB80.TXT
451-Error: Name=CkResults (Write) RC=-13
451-System completion code and reason: B37-04
451-Data set is out of space.
451-Error (1013) closing the data set.
451 Transfer aborted due to file error.
...{code}
To get the real cause we can use Apache Commons Net's [{{FTP.getReply()}}|https://commons.apache.org/proper/commons-net/javadocs/api-3.6/org/apache/commons/net/ftp/FTP.html#getReply()]:
{quote}Fetches a reply from the FTP server and returns the integer reply code. After calling this method, the actual reply text can be accessed from either calling getReplyString or getReplyStrings . Only use this method if you are implementing your own FTP client *or if you need to fetch a secondary response from the FTP server*.
{quote}
in the {{catch (IOException e)}} block in [{{FtpOperations.doStoreFile()}}|https://github.com/apache/camel/blob/master/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java#L717] like:
{code:java}
...
catch (IOException e) {
  final IOException primary = new IOException(client.getReplyString());
  e = new IOException(e.getMessage(), primary);
  client.getReply(); // get secondary reply
  throw new GenericFileOperationFailedException(client.getReplyString(), e);
}
...
{code}
which results in the following comprehensible stack trace in my test code:
{code:java}
org.apache.camel.component.file.GenericFileOperationFailedException: 451-Error: Name=CkResults (Write) RC=-13
451-System completion code and reason: B37-04
451-Data set is out of space.
451-Error (1013) closing the data set.
451 Transfer aborted due to file error.

    at my.FTPTransferTest.testMF_FTP((FTPTransferTest.java:74))
    ...
Caused by: java.io.IOException: IOException caught while copying.
    at my.FTPTransferTest.testMF_FTP(FTPTransferTest.java:70)
    ... 24 more
Caused by: java.io.IOException: 125 Storing data set TEST.TRANSFER.FB80.TXT

    at my.FTPTransferTest.testMF_FTP(FTPTransferTest.java:69)
    ... 24 more
{code}",Any,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,15:45.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jan 17 13:42:43 UTC 2019,,,,,,,,0|y0025c:,9.22337E+18,,,,,,,,,,,,,,,"16/Jan/19 11:15;dmvolod;[~Broser], you are welcome to submit PR on github. As idea, the exception message can be current, but we can print detail message to the log with INFO level.","17/Jan/19 13:17;Broser;[~dmvolod], I thought of adding the following to [the said catch block|https://github.com/apache/camel/blob/master/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java#L717]:
{code:java}
...
  catch (final IOException e) {
    int replyCode = client.getReplyCode();
    String replyString = client.getReplyString();

    // Using FutureTask that can time out since FTP.getReply() waits indefinitely if no secondary reply is supplied
    final FutureTask<Integer> Reply = new FutureTask<>(() -> {
      return client.getReply();
    });
    new Thread(Reply).start();
    try {
      replyCode = Reply.get(1, TimeUnit.SECONDS); // TimeoutException thrown here if no secondary reply is supplied 
      replyString += client.getReplyString();
    }
    catch (final TimeoutException te) {
      // nothing to do in case of timeout
    }

    throw new GenericFileOperationFailedException(replyCode, replyString, e.getMessage(), e);
  }
...
{code}
so that the already printed log message looks like:
{noformat}
2019-01-16 10:10:22,368 WARN file.remote.RemoteFileProducer ?Writing file failed with: File operation failed: 125 Storing data set TEST.TRANSFER.FB80.TXT
451-Error: Name=CkResults (Write) RC=-13
451-System completion code and reason: B37-04
451-Data set is out of space.
451-Error (1013) closing the data set.
451 Transfer aborted due to file error.
 IOException caught while copying.. Code: 451
{noformat}
rather than just:
{noformat}
2019-01-16 10:10:22,368 WARN file.remote.RemoteFileProducer ?Writing file failed with: File operation failed: 125 Storing data set TEST.TRANSFER.FB80.TXT
 IOException caught while copying.. Code: 125
{noformat}","17/Jan/19 13:42;dmvolod;[~Broser], you are welcome to submit PR for community discussion, but I would recommend you to use platform managed thread pool executor service instead of start Thread manually to avoid collision on stop while threads are running.

Example to get platform executor service manager and than required thread pool for needed task
{code:java}
getEndpoint().getCamelContext().getExecutorServiceManager()...
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sftp incorrectly catches files with filename in Windows-1251 encoding,CAMEL-13070,13209886,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,ipiddubnyi,ipiddubnyi,2019/1/16 11:12,2019/8/6 15:20,2021/3/6 6:31,,2.21.4,,,,,Future,,camel-ftp,,,,,,,0,,,,,,"While processing files with Windows-1251 encoded filename I have not found ability to define filename encoding.

sftp component  does not support ""ftpClientConfig.serverLanguageCode=de"" option.

Howevever underlying ChannelSftp has setFilenameEncoding method

Could this be exposed as additional parameter?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,27:06.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Jul 31 18:27:06 UTC 2019,,,,,,,,0|y002fk:,9.22337E+18,,,,,,,,,,,,,,,31/Jul/19 18:27;davsclaus;You are welcome to work on a PR / contribution,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Java DSL: Add explicit endings such as “endSplit? “endMulticast? ""endException""",CAMEL-13085,13210612,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Peter Keller,Peter Keller,2019/1/20 15:27,2019/12/27 12:01,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,1,,,,,,"For non-trivial complex routes it isn't obvious where structurel elements such as {{split}}, {{multicast}} or {{exception}} are ending. This is even true for non-novice user of the framework.

Suggestion: Add explicit endings such as {{endSplit}}, {{endMulticast}}, {{endException}} to the Java DSL. These ending may be optional so that no migration is needed from Camel 2 to Camel 3.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Dec 27 12:01:50 UTC 2019,,,,,,,,0|yi03ug:,9.22337E+18,,,,,,,,,,,,,,,"27/Dec/19 12:01;Peter Keller;In order not to break existing routes, an alternative {{RouteBuilder}} could be introduced with the apdapted DSL.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add more obvious exception handling for ""multicast""",CAMEL-13087,13210614,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Peter Keller,Peter Keller,2019/1/20 15:39,2019/7/31 18:27,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,"Add more obvious exception handling for {{multicast}}.

E.g. see
* https://stackoverflow.com/questions/35896325/camel-multicast-exception-propagation
* https://stackoverflow.com/questions/51156635/apache-camel-how-to-catch-exception-with-multicast
* https://stackoverflow.com/questions/40281605/camel-isnt-propagating-exceptions-when-they-are-thrown-inside-of-a-multicast-wh
* https://stackoverflow.com/questions/7317776/apache-camel-multicast-exception-and-aggregation-strategy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,39:04.0,,,,,,,,0|yi03uw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update to servlet api 4,CAMEL-13090,13210789,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,davsclaus,davsclaus,2019/1/21 15:02,2019/11/21 19:56,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Lets see if we can upgrade to servlet api 4. Currently we are on 3.
We would need to wait for OSGi to get working on master branch and then see if karaf/osgi can work with servlet api 4.

Spring Boot 2 is supporting servlet api 4.",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-13084,,,,CAMEL-13284,CAMEL-13293,,,,,,,,0,,,,,,,,,,,,,,,,,,,,26:48.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Nov 04 05:32:49 UTC 2019,,,,,,,,0|yi04xs:,9.22337E+18,,,,,,,,,,,,,,,29/Mar/19 09:11;davsclaus;Is there more work on this? Or do we need to wait for a new Karaf version etc?,29/Mar/19 09:26;acosentino;I think we still need to check everywhere.,04/Nov/19 05:32;davsclaus;Can we try to upgrade to servlet 4.0 api ?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gzipping HTTP response prevents writing chunked output,CAMEL-13092,13210816,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tdudgeon,tdudgeon,2019/1/21 17:23,2020/5/18 20:00,2021/3/6 6:31,,2.23.1,,,,,3.x,,camel-servlet,,,,,,,0,,,,,,"This has been discussed in the users mailing list [1], but there was no conclusion, and it looks like a bug or quirk so I'm raising this issue to try to get resolution.

The issue is that when writing the response of an HTTP request using a PipedInputStream to the Message body and with the `Content-Encoding: gzip` set as a response header the data does not seem to be sent until the entire stream has been written to the PipedInputStream. This means the client cannot start to read the response until the entire set of data has been written. When that header is not set the data is streamed immediately.

Also, symptomatic of this, when using `Content-Encoding: gzip` the `Content-Length` header gets set, which can only happen after the entire stream has been processed. Without the gzip header the 'Transfer-Encoding: chunked' header gets set and there is no Content-Length as you might expect. I would have expected this to happen even if the `Content-Encoding: gzip` header is set.

Is this a bug, or am I missing some magical way to ensure that the response is streamed when it is being gzipped?

 

[1]http://mail-archives.apache.org/mod_mbox/camel-users/201901.mbox/%3C9cc4adf0-91f2-a111-edce-e7a18fde9fdf%40gmail.com%3E","I encounter this using the REST DSL with the servlet component, but I imagine its a more general problem. I

'm using Camel 2.18.0, but I checked and the problem seem to also happen with the latest version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:07.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 18:55:07 UTC 2019,,,,,,,,0|yi053s:,9.22337E+18,,,,,,,,,,,,,,,"06/Aug/19 18:55;davsclaus;Are you able to build a reproducer as either a sample project, or some unit test?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Salesforce component documentation - unclear about queryAll,CAMEL-13095,13210896,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tveskrna,tveskrna,2019/1/22 7:30,2020/3/12 7:56,2021/3/6 6:31,,2.23.1,,,,,,,documentation,,,,,,,0,help-wanted,,,,,"In salesforce documentation is one thing that is not completely clear. 

In REST API :

[https://github.com/apache/camel/blob/master/components/camel-salesforce/camel-salesforce-component/src/main/docs/salesforce-component.adoc#rest-api] ,

is operation named queryAll. In queryAll definition is mentioned merge operation which is not clear what this is really doing. I have to search on the internet what merge do (The merge operation merges up to three records into one of the records, deletes the others, and reparents any related records).

So it would be great add this definition to salesforce documentation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:46.3,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Mar 12 07:56:48 UTC 2020,,,,,,,,0|yi05lk:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 18:55;davsclaus;Contributions is welcome to improve the docs,12/Mar/20 07:56;aadyamishra;[~davsclaus] I am an outreachy applicant. I would like to take up this issue.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable HTTP/2 in Camel-Jetty RestConfiguration,CAMEL-13134,13212185,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,robbrad,robbrad,2019/1/28 9:40,2019/8/6 18:58,2021/3/6 6:31,,2.23.1,,,,,3.x,,camel-jetty,,,,,,,0,,,,,,"Raised from [https://stackoverflow.com/questions/54180195/camel-jetty-http-2-support.]

 

Would like to be able to use the Jetty HTTP/2 functionality within Camel-Jetty.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:51.0,,,,,,,,0|yi0djk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Starting Salesforce pushtopic with initialReplayIdMap set to a value will eventually break after 24 hours.,CAMEL-13170,13214472,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,hnguyen15,hnguyen15,2019/2/7 21:51,2020/6/24 14:07,2021/3/6 6:31,,2.23.1,,,,,,,camel-salesforce,,,,,,,0,salesforce,,,,,"[~zregvart] [~lb]

In version 2.23.1 when I set initialReplayIdMap to a value when the route starts everything behave like normal and I am fine with the replays. I'm getting an issue every time the route re-subscribes it tries to replay from the map again. The initialReplayIdMap needs to zero out (don't see any code that modifies the initialReplayIdMap) so we can default to -1 so we can wait for new replay ids. Eventually if i leave the route on for over 24 hours it eventually breaks because the replay id 24h time to live and the push topics stops working.

Something must have happened in Salesforce cause I saw the same issue in the salesforce java forcedotcom/emp-connector . The issue was reported and fixed here. 

https://github.com/forcedotcom/EMP-Connector/issues/39

 

 

 

 ",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15233,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,56:33.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Oct 01 08:44:26 UTC 2019,,,,,,,,0|yi0rkw:,9.22337E+18,,,,,,,,,,,,,,,11/Mar/19 22:13;hnguyen15;[~cibsen@e-ma.net] can you assign this to me I have the fix that I can create a pull request for.,"12/Mar/19 07:56;davsclaus;Okay I assigned you this ticket. Thanks for contributing to the project.
https://github.com/apache/camel/blob/master/CONTRIBUTING.md",06/Aug/19 18:58;davsclaus;Any update on this?,01/Oct/19 08:44;davsclaus;Are you working on this?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-salesforce - Apex calls could support more flexible response parsing,CAMEL-13180,13215126,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jsightle@redhat.com,jsightle@redhat.com,2019/2/12 0:16,2019/2/12 6:17,2021/3/6 6:31,,,,,,,,,camel-salesforce,,,,,,,0,,,,,,"The current approach requires following a very strict format for error codes other than 2xx. This isn't necessarily the case, though, for custom apex classes.

Ideally, it would be possible to (optionally) handle the parsing in the camel route itself.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,17:47.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Feb 12 06:17:47 UTC 2019,,,,,,,,0|yi0vm0:,9.22337E+18,,,,,,,,,,,,,,,12/Feb/19 06:17;davsclaus;You are welcome to work on a contribution and/or improve this ticket with more precise details what you request,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-salesforce - rest exception parsing produces useless messages,CAMEL-13181,13215127,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jsightle@redhat.com,jsightle@redhat.com,2019/2/12 0:19,2020/4/2 14:13,2021/3/6 6:31,,,,,,,,,camel-salesforce,,,,,,,0,,,,,,"In the case of serialization failures, createRestException swallows the exception and logs the inputstream object itself:

 

[https://github.com/apache/camel/blob/master/components/camel-salesforce/camel-salesforce-component/src/main/java/org/apache/camel/component/salesforce/internal/client/DefaultRestClient.java#L119]

 

This does not tend to produce an error message, as the response is essentially always something like ""ByteArrayInputStream@\{hashcode}"". Perhaps it could try to return the raw contents if it is short and json?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,16:09.5,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Apr 02 14:13:31 UTC 2020,,,,,,,,0|yi0vm8:,9.22337E+18,,,,,,,,,,,,,,,12/Feb/19 06:16;davsclaus;I dont think it should return any body in the response as it may leak sensitive details.,"12/Feb/19 15:50;jsightle@redhat.com;That is a fair point. Removing this part of the log line would be better than the current situation, IMO.","12/Feb/19 16:15;davsclaus;Yeah you are welcome to work on a PR to fix this, we love contributions",06/Aug/19 18:59;davsclaus;Any update on this,"26/Mar/20 20:31;Soann Dewasme;I would like to start contribute to this amazing framework, and I guess this minor improvement one is a good starting point !

Maybe should we go further on this ? 
 I mean we can add an optional parameter (like {{displayMessageContentInError}} default {{false}}) that is conditionally manage the raw message content in case of error like this ? I don't like to add extra code to print content when debugging... So suppose this can be useful when developing !","27/Mar/20 10:12;zregvart;[~Soann Dewasme] I think that's a good idea. I think what we can improve here is twofold: have a meaningful error text displayed instead of the {{InputStream::toString}} and have a parameter to display the full/raw errors from Salesforce. First might require parsing the error responses from Salesforce, for the second improvement perhaps a {{rawErrors}} (we already have {{rawPayload}} can that be used for errors also?) would be a good property name. Not sure if we should consider capping the number of characters/bytes in error output or redacting some of the output so we don't output passwords or similar sensitive data.","02/Apr/20 14:13;Soann Dewasme;[~zregvart] I don't know how Salesforce work but I suppose we can have deeper look into errors, look what is Salesforce data format when error occurs and parsing it for ""non-debug"" mode. This way we can have an explicit message without sensitive data leak.

About capping, the problem is that we do not know if removed data overflow contains relevant information about a problem. So I suppose let all content is best choice in case of ""debug"" mode.

{{rawErrors}} seems a good naming.
I'll try to implement this",,,,,,,,,,,,,,,,,,,,,,,,,,,
Utilize Java Flight Recorder,CAMEL-13184,13215218,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2019/2/12 12:03,2021/1/18 9:20,2021/3/6 6:30,,,,,,,3.x,,,,,,,,,0,,,,,,At FOSDEM Java devroom I saw a [talk about Java Flight Recorder|https://fosdem.org/2019/schedule/event/imc/] which made me think that we can utilize it in Camel for monitoring and/or tracing. There's a GitHub repository by Marcus Hirt that has a lot of Java serviceability examples we can learn from: [https://github.com/thegreystone/java-svc|https://github.com/thegreystone/java-svc],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,03:47.0,,,,,,,,0|yi0w6g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cxfrs - Enhance SimpleBinding to create Camel Headers for non null values only,CAMEL-13187,13215318,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,ashishna,ashishna,2019/2/12 20:23,2019/2/12 20:25,2021/3/6 6:31,,,,,,,,,camel-cxf,,,,,,,0,,,,,,{{SimpleBinding}} currently creates all the method params  as camel headers. This enhancement provides an option to map only those headers for which value is provided.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Feb 12 20:25:26 UTC 2019,,,,,,,,0|yi0wsg:,9.22337E+18,,,,,,,,,,,,,,,12/Feb/19 20:25;ashishna;I am working on it and can send PR soon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java.io.IOException: Stream closed with mongodb3 when no data in findOneByQuery,CAMEL-13188,13215320,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,carlphilipp,carlphilipp,2019/2/12 20:33,2019/2/14 5:23,2021/3/6 6:31,,2.23.0,,,,,,,camel-mongodb3,,,,,,,0,,,,,,"When doing something like:
{noformat}
from(""direct:my-endpoint"")
  .to(""mongodb3:cosmosdb?database=dbname&collection=collname&operation=findOneByQuery""){noformat}
The code works fine if something is found in the db. If no result is returned from the query, I obtain a stacktrace like that:
{noformat}
org.apache.camel.RuntimeCamelException: java.io.IOException: Stream closed
    at org.apache.camel.http.common.HttpMessage.createBody(HttpMessage.java:80)
    at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:54)
    at org.apache.camel.processor.RestBindingAdvice.marshal(RestBindingAdvice.java:402)
    at org.apache.camel.processor.RestBindingAdvice.after(RestBindingAdvice.java:151)
    at org.apache.camel.processor.RestBindingAdvice.after(RestBindingAdvice.java:51)
    at org.apache.camel.processor.CamelInternalProcessor$InternalCallback.done(CamelInternalProcessor.java:251)
    at org.apache.camel.processor.Pipeline.process(Pipeline.java:127)
    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
    at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:97)
    at org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:213)
    at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:79)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770)
    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.IOException: Stream closed
    at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:338)
    at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:132)
    at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:110)
    at org.apache.camel.util.IOHelper.copy(IOHelper.java:202)
    at org.apache.camel.util.IOHelper.copy(IOHelper.java:174)
    at org.apache.camel.util.IOHelper.copyAndCloseInput(IOHelper.java:234)
    at org.apache.camel.util.IOHelper.copyAndCloseInput(IOHelper.java:230)
    at org.apache.camel.http.common.HttpHelper.readResponseBodyFromInputStream(HttpHelper.java:243)
    at org.apache.camel.http.common.HttpHelper.readRequestBodyFromServletRequest(HttpHelper.java:194)
    at org.apache.camel.http.common.DefaultHttpBinding.parseBody(DefaultHttpBinding.java:595)
    at org.apache.camel.http.common.HttpMessage.createBody(HttpMessage.java:78)
    ... 48 more
{noformat}
Note that I call the route from a rest endpoint and that the stacktrace appear in the http response (not in the logs)

I found a work around:
{noformat}
from(""direct:my-endpoint"")
  .to(""mongodb3:cosmosdb?database=dbname&collection=collname&operation=findOneByQuery"")
  .choice()
    .when(header(RESULT_TOTAL_SIZE).isLessThan(1))
        .setBody(simple(""{}""))
  .end(){noformat}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,28:25.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 14 05:23:50 UTC 2019,,,,,,,,0|yi0wsw:,9.22337E+18,,,,,,,,,,,,,,,13/Feb/19 08:28;onders;I suspect if there is something wrong in your http stream handling. I remember not having such effect Do you have a unit test showing this?,"13/Feb/19 21:39;carlphilipp;Have a look here: [https://github.com/carlphilipp/camel-bug]

I created 3 integration tests, one of them fails, this is the one that describes the issue. The others tests can help resolving the issue. Let me know if you have any questions. (The first time you run the tests, it can take a long time as it's going to download an embed mongodb)","13/Feb/19 22:22;onders;Thanks, Fair enough.

I understand your point even though i disagree.

The point i disagree is that what you did was not a workaround but must to do. because mongo component reflects the capability of what java mongo driver can do.

i believe the code is simple enough, and those kind of CBR might be needed for certain scenarios.

however, one side of me also agrees with you. what you want to have at the end of the day is simpler route syntactically. 

I would suggest may be doing something like in findAll would be helpful

[https://github.com/apache/camel/blob/master/components/camel-mongodb3/src/main/java/org/apache/camel/component/mongodb3/MongoDbProducer.java#L395]

Please submit PR if you agree. Contributions are more than welcome :)

 

 ","14/Feb/19 00:02;carlphilipp;Yes ok, I have debugged more the component, and I see what you mean. I do not have a strong opinion on what the component should return. I guess the question comes back to ""what's the default behavior of other Camel components when there is no result to return?"". I would prefer not to have to write this ""workaround"" but it's not a big deal. The surprising part of the behavior, is the fact that because the body is null, the rest of the route is not processed. To me this is why I thought it was a bug. Now if this is how it's done for any other components, then it's fine; the developer need to handle it.","14/Feb/19 04:50;davsclaus;Is there a way to know easily if findOneByQuery returned data or not? If so I think we should use that and set an empty/null body if no data, as reading an input stream that is EOL is not helping the end user. Other components such as camel-sql will set a null body if you ask for a single object and there is no data.","14/Feb/19 05:23;carlphilipp;The return of the query is null: [https://github.com/apache/camel/blob/master/components/camel-mongodb3/src/main/java/org/apache/camel/component/mongodb3/MongoDbProducer.java#L302]

And the body is set to null already: [https://github.com/apache/camel/blob/master/components/camel-mongodb3/src/main/java/org/apache/camel/component/mongodb3/MongoDbProducer.java#L273]

It's failing downstream, after the component. I'm not sure what stream it's trying to read. You can see/debug that behavior in the project I posted.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Check InstallOpenTracingTracerRuleTest failing test,CAMEL-13205,13215887,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,acosentino,acosentino,2019/2/15 6:52,2019/8/6 19:03,2021/3/6 6:31,,,,,,,Future,,camel-opentracing,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,52:02.0,,,,,,,,0|yi10a8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove cruft from camel-spring-boot-dependencies BOM,CAMEL-13207,13215912,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/2/15 8:37,2019/11/4 5:33,2021/3/6 6:31,,,,,,,3.x,,camel-spring-boot-starters,,,,,,,0,,,,,,"It should really only have those compile/runtime JARs.

We have test-jar, source, javadoc, and other cruft, for example

   <dependency>
        <groupId>org.optaplanner</groupId>
        <artifactId>optaplanner-examples</artifactId>
        <version>7.14.0.Final</version>
        <classifier>sources</classifier>
      </dependency>
      <dependency>
        <groupId>org.optaplanner</groupId>
        <artifactId>optaplanner-examples</artifactId>
        <version>7.14.0.Final</version>
        <type>test-jar</type>
      </dependency>

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,37:31.0,,,,,,,,0|yi10fs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Karaf features should not validate in release profile,CAMEL-13212,13216295,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/2/18 4:40,2019/11/4 5:33,2021/3/6 6:31,,,,,,,3.x,,build system,,,,,,,0,,,,,,"The camel-catalog is built after the karaf features, so you cannot/should not validate the feature file by default as it includes camel-catalog, which is not built at that time.

An alternative is to move the karaf feature out of platforms into its own module, and put it to build after the catalog.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:13.0,,,,,,,,0|yi12sg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka -consumerCount vs consumerStreams problem with pool size ,CAMEL-13215,13216399,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,padilo,padilo,2019/2/18 13:23,2019/8/6 19:04,2021/3/6 6:31,,2.23.1,,,,,,,camel-kafka,,,,,,,1,,,,,,"Hi guys,

Currently we are configuring camel-kafka component, but we don't understand at all the consumer properties related to concurrency.

According to the configuration:

    consumersCount: The number of consumers that connect to kafka server (default 1)
    consumerStreams: Number of concurrent consumers on the consumer (default 10)

But... Having a look to the source code, the consumerStreams is the number of threads the executor is configured.

And a task is submitted to the executor for each kafka consumer, which is the consumerCount.

So... I don't see what you get if you configure different values in consumerCount and consumerStreams with the current implementation.

Basically I expected that if define consumerCount=1 and consumerStreams=10, which is the default. I would get 10 threads consuming from that Kafka consumer. But I end up having a pool of 10 threads with only a worker which is a single thread consumer.

 

Talking with Andrea Cosentino, seems that this maybe it's a problem in the documentation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,23:30.0,,,,,,,,0|yi13f4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
telegram - Multiple reply_markup types,CAMEL-13222,13216637,13216927,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,DenisIstomin,DenisIstomin,2019/2/19 14:03,2020/1/26 13:16,2021/3/6 6:31,,,,,,,,,camel-telegram,,,,,,,0,,,,,,"All methods like ""sendMessage"", ""sendLocation"" and others can send different types of data at the field ""reply_markup"". Now only ReplyKeyboardMarkup is supported.

Need to implement support of:
 # [InlineKeyboardMarkup|https://core.telegram.org/bots/api#replykeyboardremove]
 # [ReplyKeyboardRemove|https://core.telegram.org/bots/api#replykeyboardremove]
 # [ForceReply|https://core.telegram.org/bots/api#forcereply]

For example: [https://core.telegram.org/bots/api#sendmessage]",,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:03.4,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Jan 26 13:16:37 UTC 2020,,,,,,,,0|yi14v4:,9.22337E+18,,,,,,,,,,,,,,,25/Jan/20 23:33;mcserra;I'll star to work on this one,"26/Jan/20 13:16;mcserra;The pull request #3515 is linked with this issue, I made the mistake of giving it the parent issue number (13237)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
telegram - Improve example project with chatbot example,CAMEL-13225,13216645,13216927,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,DenisIstomin,DenisIstomin,2019/2/19 14:14,2020/1/18 16:15,2021/3/6 6:31,,,,,,,,,camel-telegram,,,,,,,0,,,,,,"Current camel-telegram-example project contains only simple usage of some Telegram API.
One of the main purposes of using camel-telegram component is to create chatbot application. Example project should be improved.

Example application could be based on unit-test ""TelegramChatBotTest"".",,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:19.1,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jan 18 16:15:46 UTC 2020,,,,,,,,0|yi14ww:,9.22337E+18,,,,,,,,,,,,,,,"18/Jan/20 13:41;mcserra;Would something like this be a good example (with some changes of course)?[https://github.com/mcserra/JEE_Examples/tree/master/jeeexamples/camel-telegram-bot]

I did it to test this PR [https://github.com/apache/camel/pull/3493|https://github.com/apache/camel/pull/3493.]","18/Jan/20 16:15;DenisIstomin;[~mcserra], I think that this could be a good example. I think that documentation should be updated too with: ""How to make a telegram chatbot with camel"".",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
telegram - Payments support,CAMEL-13227,13216650,13216927,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,DenisIstomin,DenisIstomin,2019/2/19 14:21,2020/8/6 15:26,2021/3/6 6:31,,,,,,,,,camel-telegram,,,,,,,0,,,,,,"Bots can accept payments from Telegram users.

[https://core.telegram.org/bots/api#payments]

Methods:
 -sendInvoice
 -answerShippingQuery
 -answerPreCheckoutQuery

And other Types of messages: Invoice, OrderInfo, etc.",,,,,,,,,,604800,604800,,0%,604800,604800,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,04:47.2,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Aug 06 15:26:53 UTC 2020,,,,,,,,0|yi14y0:,9.22337E+18,,,,,,,,,,,,,,,"04/Aug/20 12:04;anarvaez;Hello, I will try this one!",06/Aug/20 15:26;acosentino;Go ahead [~anarvaez],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
telegram - Passport support,CAMEL-13229,13216653,13216927,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,DenisIstomin,DenisIstomin,2019/2/19 14:25,2019/2/20 13:40,2021/3/6 6:31,,,,,,,,,camel-telegram,,,,,,,0,,,,,,"*Telegram Passport* is a unified authorization method for services that require personal identification. Users can upload their documents once, then instantly share their data with services that require real-world ID (finance, ICOs, etc.).

https://core.telegram.org/bots/api#telegram-passport",,,,,,,,,,345600,345600,,0%,345600,345600,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,25:31.0,,,,,,,,0|yi14yo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
telegram - Full bot API support,CAMEL-13237,13216927,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,DenisIstomin,DenisIstomin,2019/2/20 13:35,2019/10/22 16:03,2021/3/6 6:31,,,,,,,,,camel-telegram,,,,,,,0,,,,,,"Telegram component should support all API methods: [https://core.telegram.org/bots/api]

This is parent task. All work decomposed as subtasks.",,,,,,,,,,,,,,1900800,1896000,4800,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:24.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Oct 22 16:03:41 UTC 2019,,,,,,,,0|yi16nk:,9.22337E+18,,,,,,,,,,,,,,,"22/Oct/19 14:33;ravishankar hassain;I have been looking into this. What I have observed is the current camel telegram component has been implemented from scratch without the aid of any java based telegram lib. 

Not sure the reason for this decision. 

Just wondering, why cant we use the below telegram java lib to implement camel telegram component 

[https://core.telegram.org/bots/samples#java]","22/Oct/19 14:39;acosentino;Because it's easier to update something from scratch than waiting for the client lib to be updated. Also the effort to move all the code to the java library and cover all the possible aspects, respecting the current behavior etc is really big. There is nothing wrong in the current format of the telegram component: it was a choice at the beginning. The flexibility you have in this way cannot be achieved with the java lib. ",22/Oct/19 16:03;ravishankar hassain;[~acosentino]: Thanks for the inputs. I will see what I can contribute to this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support multiple routes in ZooKeeper Master Route Policy,CAMEL-13242,13217153,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dennisholu,dennisholu,2019/2/21 10:07,2019/8/6 19:06,2021/3/6 6:31,,2.22.0,,,,,Future,,camel-zookeeper,,,,,,,0,,,,,,"In camel-zookeeper-master please add support for using one master route policy to control multiple routes

MasterRoutePolicy policy = new MasterRoutePolicy();
 from(""quartz2://r1?cron=0+0+15+?+**+"").routePolicy(policy).log(""r1 doing work"")
 from(""timer://r2?period=120s"").routePolicy(policy).log(""r2 doing work"")

Both routes must start only if the node is master

See [discussion|http://camel.465427.n5.nabble.com/Master-Route-Policy-for-multiple-routes-td5830391.html[]|http://camel.465427.n5.nabble.com/Master-Route-Policy-for-multiple-routes-td5830391.html]

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:22.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 21 11:33:22 UTC 2019,,,,,,,,0|yi181k:,9.22337E+18,,,,,,,,,,,,,,,21/Feb/19 11:33;davsclaus;You can use the zookeeper-master as endpoint to do this. Its a bit more tricky with the route policy to make it support this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instrument mapping between Message Headers and Plain Java Beans,CAMEL-13302,13220427,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Trivial,,,adelinor,adelinor,2019/3/8 9:31,2019/3/8 9:31,2021/3/6 6:31,,,,,,,,,extra,,,,,,,0,binding,headers,message,processor,,"When developing Processor implementations to be used in Camel routes, some portion of the code is devoted to retrieving data from Message headers, and after the actual process takes place, setting the resulting headers in the Message.

As this manual binding of headers to java bean properties is custom, it needs to be verified in unit tests. When talking about a few processors to implement, it is not at all an issue. But when you have a high number of processors, a consistent and tested approach is preferable to the custom code repeated in every processor.

This issue is raised to introduce a new feature for declaratively mapping message headers to Plain Java bean properties in the style of the [at]Column JPA annotation.

A mapper instantiated from the Plain Java bean class, then populates the Java bean properties:
{code:java}
mapper.fromHeaders(headers, myObj);{code}
 

At the end headers can be enriched/modified from the java bean:
{code:java}
mapper.toHeaders(myObj, headers);{code}
This allows the Camel Processor implementation to be less verbose, and the binding becomes more consistent against implementations.

I developed a prototype which illustrates the principles above using headers in the form of a {{Map<String, Object>}} : see [https://github.com/adelinor/messaging-header-mapper]

 ",JDK8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,31:59.0,,,,,,,,0|z00hsg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create camel-cloudevents data type,CAMEL-13335,13222181,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,njiang,lb,lb,2019/3/17 22:12,2020/4/24 17:41,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,We should create a camel-cloudevents data type based on https://github.com/cloudevents/sdk-java,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:30.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Apr 24 17:41:30 UTC 2020,,,,,,,,0|z00sls:,9.22337E+18,,,,,,,,,,,,,,,27/Feb/20 08:19;lb;[~njiang] are you still working on this ?,"24/Apr/20 17:41;omarsmak;Hey [~njiang], are you still on this? Otherwise, if you are unable, I can ship in to help on this ticket. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
XMLTokenExpressionIterator Default Exchange charset overrides original xml encoding from InputStream,CAMEL-13374,13224371,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,smithsv,smithsv,2019/3/27 17:04,2019/8/7 4:36,2021/3/6 6:31,,2.18.0,2.22.0,,,,3.x,,camel-core,,,,,,,0,,,,,,"Default Exchange charset overrides original xml encoding from InputStream

at

org.apache.camel.support.XMLTokenExpressionIterator.doEvaluate(Exchange exchange, boolean closeStream)

_String charset = IOHelper.getCharsetName(exchange);_

must be replaced with

_String charset = IOHelper.getCharsetName(exchange, *false*);_

then at 

_// woodstox's getLocation().etCharOffset() does not return the offset correctly for InputStream, so use Reader instead._
_this(path, nsmap, mode, group, new *InputStreamReader*(in, charset));_

_and_ 

_// woodstox's getLocation().etCharOffset() does not return the offset correctly for InputStream, so use Reader instead._
_this(path, nsmap, mode, 1, new *InputStreamReader*(in, charset));_

lines use 

org.apache.commons.io.input.XmlStreamReader instead of just InputStreamReader

it correctly determinants encoding from xml header when it present.

 

Examle document at InputStream body:

_<?xml version = ""1.0"" encoding= ""ISO-8859-5"" standalone=""no"" ?>_

_<xml/>_

Current _charset_ result: is UTF-8 (*default* from _IOHelper.getCharsetName(exchange)_)

Expected result: _ISO-8859-5_

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,09:20.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Mar 29 09:09:20 UTC 2019,,,,,,,,0|z0162g:,9.22337E+18,,,,,,,,,,,,,,,"29/Mar/19 09:09;davsclaus;You are welcome to provide your suggested fix as a github PR, then we can better review, and possible apply the fix. Also a good idea if possible is to provide an unit test that tests this fix.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set TLS default to TLSv1.3 once we move to JDK11 ,CAMEL-13436,13229101,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jpoth,jpoth,2019/4/19 16:05,2019/8/6 19:28,2021/3/6 6:31,,3.0.0,,,,,3.x,,camel-core,camel-http,camel-jetty,camel-restlet,camel-solr,,,0,,,,,,"Also add tests to different components that use TLS

http://openjdk.java.net/jeps/332",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:11.0,,,,,,,,0|z01ys8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor routeId generation and initiation for REST and common DSLs,CAMEL-13452,13229852,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,dmvolod,dmvolod,dmvolod,2019/4/24 12:02,2019/8/1 5:39,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-13447,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,02:32.0,,,,,,,,0|z023eo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-testcontainers - Should build if no docker,CAMEL-13454,13230028,,Improvement,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,ramu11,davsclaus,davsclaus,2019/4/25 6:51,2019/9/30 6:45,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"If you run mvn clean install then the following should still pass.


[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 31.178 s <<< FAILURE! - in org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT
[ERROR] testPropertyPlaceholders(org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT)  Time elapsed: 30.805 s  <<< ERROR!
java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration
	at org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT.createContainer(ContainerAwareTestSupportIT.java:37)

[INFO]
[INFO] Results:
[INFO]
[ERROR] Errors:
[ERROR]   ContainerAwareTestSupportIT>CamelTestSupport.setUp:284->ContainerAwareTestSupport.setupResources:42->ContainerAwareTestSupport.createContainers:76->createContainer:37 » IllegalState
[INFO]
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0
[INFO]
[INFO]
[INFO] --- maven-failsafe-plugin:2.22.1:verify (default) @ camel-testcontainers ---
[INFO] ------------------------------------------------------------------------

",,"akoufoudakis commented on pull request #3027: CAMEL-13454
URL: https://github.com/apache/camel/pull/3027
 
 
   As I mentioned in the comment in JIRA. The fix didn't work for my environment. So, trying to offer something more generic. Apologies for any confusion caused. https://issues.apache.org/jira/browse/CAMEL-13454
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;08/Jul/19 18:23;githubbot;600","akoufoudakis commented on pull request #3027: CAMEL-13454
URL: https://github.com/apache/camel/pull/3027
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;09/Jul/19 12:15;githubbot;600","ramu11 commented on pull request #3063: ""CAMEL-13454:camel-testcontainers - Should build if no docker""
URL: https://github.com/apache/camel/pull/3063
 
 
   
   ""CAMEL-13454:camel-testcontainers - Should build if no docker""
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;25/Jul/19 12:02;githubbot;600","ramu11 commented on pull request #3063: ""CAMEL-13454:camel-testcontainers - Should build if no docker""
URL: https://github.com/apache/camel/pull/3063
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;25/Jul/19 15:46;githubbot;600",,,,,,0,2400,,,0,2400,,,,,,,,,,,,,,,,09/Jul/19 17:03;ramu11;pom.xml;https://issues.apache.org/jira/secure/attachment/12974070/pom.xml,,,,,1,,,,,,,,,,,,,,,,,,,,50:22.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 25 16:18:44 UTC 2019,,,,,,,,0|z024hs:,9.22337E+18,,,,,,,,,,,,,,,"04/Jul/19 11:50;akoufoudakis;Will take a look at this one.

Does it have to be in a specific release?

 ",05/Jul/19 07:24;davsclaus;See for example camel-pulsar how it can skip running those tests that require docker by looking at its pom.xml file.,08/Jul/19 17:07;ramu11;Added profile to skip tests if no docker to the pom.xml,"08/Jul/19 18:24;akoufoudakis;Just tried the fix with the Maven 3.5.2 on OS X. It seems it still activates it.

Here's what worked out for me: https://issues.apache.org/jira/browse/CAMEL-13454
Apologies for disturbance...","08/Jul/19 19:43;ramu11;Hi,

In my tests it skipped tests. 

[INFO] --- maven-surefire-plugin:2.22.1:test (default-test) @ camel-testcontainers ---
[INFO] Tests are skipped.

anyway I will look into this tomorrow. Thanks for notifying","09/Jul/19 09:06;ramu11; I have tested. I do not see any issue(os is RHEL)  it is skipping tests

[~davsclaus] Could you please test ","09/Jul/19 16:07;davsclaus;Yeah on my osx the tests are also executed, when I run mvn clean install

[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 30.856 s <<< FAILURE! - in org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT
[ERROR] testPropertyPlaceholders(org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT)  Time elapsed: 30.479 s  <<< ERROR!
java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration
	at org.apache.camel.test.testcontainers.ContainerAwareTestSupportIT.createContainer(ContainerAwareTestSupportIT.java:37)

And I have stopped my docker,",09/Jul/19 17:04;ramu11;[~akoufoudakis] I do not have os x to test. I  have attached pom.xml. could you please test and  let us know the results,"10/Jul/19 08:51;akoufoudakis;Good morning!

A bit late today.

Sure. Thank you for attaching the file.","11/Jul/19 12:24;akoufoudakis;An update. I tried Oracle JDK on Fedora (VM) and it runs perfectly. However, the problem still persists on OS X. As I mentioned in PR, the same issue occurs with camel-pulsar. Shall we consider opening a bug to Maven?","12/Jul/19 12:03;akoufoudakis;Another update. The only way (until now) I was able to make it working on Mojave, was the following:

<profile>
 <id>testcontainers-skip-tests</id>
 <activation>
 <property>
 <name>!integration-test</name>
 </property>
 </activation>
 <build>
 <plugins>
 <plugin>
 <artifactId>maven-surefire-plugin</artifactId>
 <configuration>
 <skipTests>true</skipTests>
 </configuration>
 </plugin>
 <plugin>
 <artifactId>maven-failsafe-plugin</artifactId>
 <configuration>
 <skipITs>true</skipITs>
 </configuration>
 </plugin>
 </plugins>
 </build>
</profile>

[~davsclaus] can you, please, check whether it works for you on your macOS?

If it works, what should we do next?","14/Jul/19 14:58;bedla;IMHO the much better option would be dropping those two maven profiles and manage it in the test as JUnit Assumption. You can add this as first statement into ContainerAwareTestSupport#setupResources
{code:java}
Assume.assumeTrue(""Skipping test because docker not installed"", DockerMachineClient.instance().isInstalled());{code}
and it should be enough.

If we want to stay with current maven approach, we would need to add next activation for windows. Because env.DOCKER_HOST is not set out-of-box with docker installer and also /var/run/docker.sock does not exists on windows. Currently are tests always skipped on windows with docker installed.","15/Jul/19 09:23;ramu11;[~akoufoudakis] I have tested [~bedla] suggestion. Could you please test it on your os x and let us know the results

if it works then i will  implement this change in rest of the bundles also","18/Jul/19 19:37;davsclaus;Sounds good with Jan's suggestion, you are welcome to work on this.","19/Jul/19 11:07;ramu11;committed the changes. Removed the profiles from pom and added check in ContainerAwareTestSupport#setupResources
[~davsclaus] could you please test ","20/Jul/19 09:42;davsclaus;Ramu, there are some other camel components that also use test-containers. Can we do the same change for those?","20/Jul/19 12:20;akoufoudakis;[~davsclaus]

I had the same issue with the pulsar-component on OS X. So, I think it is another candidate for the change above.",21/Jul/19 06:03;ramu11;done. ,22/Jul/19 07:33;acosentino;We have problems with consul tests too [https://builds.apache.org/view/C/view/Apache%20Camel/job/Camel/job/master/1414/#showFailuresLink],"22/Jul/19 09:16;lb;btw, DockerMachineClient checks for the executable ""docker-machine"" afaik, not sure if it is the right solution as i.e. on linux docker-machine is not installed by default ","23/Jul/19 07:13;davsclaus;Yeah I think there is still an issue. Its sadly not so easy to just say, in an easy way

- run this test if docker is running, if not then just skip the test

",25/Jul/19 12:05;ramu11;Raise [PR|https://github.com/apache/camel/pull/3063],25/Jul/19 16:18;ramu11;Reverted back to old mvn profile  implementation to skip test. I am keeping this jira open till we find a solution which will skip tests in all os( currently not skipping tests in mac),,,,,,,,,,,
steps to outline how to  import etc/buildtools/src/main/resources/camel-checkstyle.xml in eclipse,CAMEL-13485,13231737,13231735,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,onders,onders,2019/5/6 11:59,2019/5/6 11:59,2021/3/6 6:31,,,,,,,,,documentation,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,59:49.0,,,,,,,,0|z02f1c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
please outline steps to check styles on-the-fly for idea instead of using etc/idea/settings.jar,CAMEL-13486,13231738,13231735,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Trivial,,,onders,onders,2019/5/6 12:02,2019/5/6 12:02,2021/3/6 6:31,,,,,,,,,documentation,,,,,,,1,,,,,,this is an old jar. Not tried. Maybe it is helpful but it is good to such document to describe steps to use a tool to do on-the-fly checkstyle ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,02:23.0,,,,,,,,0|z02f1k:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-infinispan support counters,CAMEL-13488,13231830,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,acosentino,lb,lb,2019/5/6 17:24,2019/8/6 20:12,2021/3/6 6:31,,,,,,,3.x,,camel-infinispan,,,,,,,0,,,,,,"We should support operations against infinispan counters, see https://github.com/infinispan/infinispan/blob/master/documentation/src/main/asciidoc/user_guide/counters.adoc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:11.0,,,,,,,,0|z02fm0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Component should move initialization logic to doInit instead of doStart,CAMEL-13501,13232858,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/5/12 8:22,2019/11/4 5:33,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"We should move logic that can be executed once during build/compile phase for components to doInit, and then leave doStart to when components need to setup live connections to remote systems etc.

In doInit we can do internal init such as setup a thread pool or other stuff they need.
",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-13914,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue May 14 06:37:33 UTC 2019,,,,,,,,0|z02lww:,9.22337E+18,,,,,,,,,,,,,,,"14/May/19 06:37;davsclaus;We could consider having when you set route auto startup = false, to let the consumer/producers of components etc only do init so they are only initialized, and then when you start the route, they are started. Then they are warmed up even more. Today the consumers are not warmedup. But on the other side the producers are started. What we want for producers is also to only initialize them, and start them when the route starts.

But to make this easier, we could have when auto startup = false
- routes and all its consumers, producers, eips are warmed up with only init
- start is called on the route, then all its producers, eips are started, and the consumer started last.

Then they have the same lifecycle. And allows safely to warmup and initalize resources. 

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cxf should expose CXF Bus/Endpoint OSGi services,CAMEL-13509,13232996,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,jbonofre,jbonofre,jbonofre,2019/5/13 14:20,2019/7/25 6:50,2021/3/6 6:31,,2.22.3,2.22.4,2.23.2,2.24.0,3.0.0-M2,,,camel-cxf,camel-cxfrs,karaf,osgi,,,,0,,,,,,"When running in an OSGi environment, Camel CXF component should register CXF bus/endpoint as OSGi services.
Else, the user can't see the endpoint/bus when using {{cxf:list-buses}} or {{cxf:list-endpoints}} shell commands.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,34:22.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon May 13 14:34:22 UTC 2019,,,,,,,,0|z02mrk:,9.22337E+18,,,,,,,,,,,,,,,"13/May/19 14:34;acosentino;What is the camel version where this happens?

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support Java 12,CAMEL-13523,13233260,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jpoth,jpoth,2019/5/14 15:18,2019/7/25 6:50,2021/3/6 6:31,,,,,,,Future,,,,,,,,,0,,,,,,Builds fine but needs [https://github.com/mvel/mvel/issues/185/] to be merged and released. Thanks!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,18:07.0,,,,,,,,0|z02oe0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Milo to 0.3.8,CAMEL-13530,13233687,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,dmvolod,acosentino,acosentino,2019/5/16 7:02,2020/5/5 8:30,2021/3/6 6:31,,,,,,,3.x,,camel-milo,,,,,,,0,,,,,,Some breaking changes.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,26:53.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Mar 31 08:04:06 UTC 2020,,,,,,,,0|z02r0w:,9.22337E+18,,,,,,,,,,,,,,,"17/Mar/20 18:26;dbajic;I see this task is done. Current version is 0.3.7.  Maybe change it's status to done? [~acosentino]

Thanks!",31/Mar/20 08:02;davsclaus;Dmitry can you get this done soon or move to 3.3.0,"31/Mar/20 08:04;dmvolod;Claus, i will move to 3.3.0",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Split exception/error handling model from runtime,CAMEL-13564,13235170,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,gnodet,gnodet,gnodet,2019/5/23 15:35,2020/3/25 18:55,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-14591,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,45:42.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Mar 25 18:55:18 UTC 2020,,,,,,,,0|z03074:,9.22337E+18,,,,,,,,,,,,,,,"06/Mar/20 01:45;Gaelle;Hello...

i'm an outreachy applicant.

I would like to know if this issue is open for contributions","06/Mar/20 09:42;zregvart;Hi [~Gaelle], for the Outreachy program our project proposal is for the Camel Website, this is the text I prepared to get started please have a look:

We much appreciate your interest and willingness to contribute, I don't think it makes much sense for all of you to work on the same issue. There's also no need to have a competition on who gets to contribute first, we have plenty of other issues (outlined below) that you can help with. Since most of you are interested in participating in the Outreachy program, and help with the website, please have a look at some issues in that area via this search:

https://issues.apache.org/jira/issues/?jql=project%20%3D%20CAMEL%20AND%20status%20%3D%20Open%20AND%20component%20%3D%20website

And feel free to propose new ideas by creating new issues around the website.

For those wondering how to get started contributing to the website.

Make sure have a [GitHub account|https://github.com/join], read how you can [get started|https://help.github.com/en/github/getting-started-with-github], and [create a pull request|https://help.github.com/en/github/collaborating-with-issues-and-pull-requests].

Have a look at the [README.md|https://github.com/apache/camel-website/blob/master/README.md] in the website project on how to build and how to preview your changes on your own computer.

I'll try to address the questions in you comments here, for future conversations please do subscribe to the developer's mailing list and send emails there, discussions on the Jira issues can get a bit out of control and it's not that easy to follow the conversation here.

The following text includes information on how to reach us, and get started:

First of all, thank you for having an interest in contributing to Apache Camel.

Here are some guidelines on how to best approach the Apache Camel community and how to best apply yourself.

1. Communication

Apache Camel is an Apache Software Foundation project, all communication is done in the open on the project mailing lists.

You can read more on the reasoning behind this to get a better understanding of:

https://www.apache.org/foundation/mailinglists.html

All communication is subject to the ASF Code of Conduct, which you can read here:

https://www.apache.org/foundation/policies/conduct.html

For questions and guidance around contributing subscribe to the developer's mailing list by sending an e-mail to dev-subscribe@camel.apache.org.

We can also be reached on the Gitter chat at https://gitter.im/apache/apache-camel/.

We track issues using ASF Jira located at:

https://issues.apache.org/jira/browse/CAMEL

Where we maintain a list of issues that are easy to get started with, so you can familiarize yourself with the process and get your first contribution in:

https://issues.apache.org/jira/issues/?filter=12348073

And some areas that we are actively looking for help on:

https://issues.apache.org/jira/issues/?filter=12348074

When you're ready to contribute create a Pull request to one of the Camel projects you can find under the Apache organization on GitHub:

https://github.com/apache?q=camel

Expect that your Pull request will receive a review and that you will need to respond and correspond to that via comments at GitHub.

2. Getting started

Read the ""Contributing to Apache Camel"" document on the Camel website:

https://camel.apache.org/manual/latest/contributing.html

Identify areas you can contribute first. You don't have to be an expert in an area, the Apache Camel developers are available to offer help and guidance.

Introduce yourself on the developer's mailing list (see above), tell us what area of work or problem you wish to address in Camel. Create a draft of your solution, this can be simple 1-2 sentences on the change you wish to make. Try to be as specific as you can: include a short description of your intent, what you tried and what didn't work, or what you need help with. The best way of approaching the developers is by describing what you would like to work on and asking specific questions on how to get started. We'll do our best to guide you and help you make your contribution. 

We also participate in Google Summer of Code and Outreachy programs, for information about those look at those program websites. If you wish to participate in either of those follow the guidelines and schedule set by those programs. If you're unsure please reach out via official communication channels of those programs, or ask on the developer's mailing list for help.

3. Your first contribution

Make sure you followed the steps and guidelines outlined above. For bigger changes, make sure that you have discussed on the developer's mailing list or in the Jira issue tracker before hand. We love receiving contributions, to get the best response make sure that the reasoning behind the contribution you wish to make is clear: outline the problem and explain your solution for it.

Make sure you follow the guidelines outlined in the ""Contributing to Apache Camel"" document. Be respectful of the source checks, formatting and the structure of the git commit message we abide by. This will help you in getting your contribution accepted. Outline any changes you made but are unaware or unsure of any consequences or side effects.

Stay engaged, follow and respond to comments or questions you might be asked.

With that I wish you all the best and please do have fun while contributing to Apache Camel, we certainly do :)",25/Mar/20 18:55;davsclaus;gnodet is this not done with your recent work?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parquet Dataformat: supporting parquet files in marshal / unmarshal,CAMEL-13573,13235369,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,matteoredaelli,matteoredaelli,2019/5/24 11:58,2021/1/8 14:08,2021/3/6 6:30,,,,,,,Future,,,,,,,,,1,,,,,,"It would be useweful to read / store data (marshal / unmarshal) in parquet format ([https://parquet.apache.org/]). 

It is widely used in bigdata projects / datalakes 

 

I did not found any info about it in the documentation...

 

Thanks
Matteo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,53:00.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Jan 08 14:08:12 UTC 2021,,,,,,,,0|z031fc:,9.22337E+18,,,,,,,,,,,,,,,"03/Jun/19 18:52;davsclaus;We love contributions, and users are welcome to work on a camel-parquet dataformat.","08/Jan/21 14:08;matt12eagles;Hi team! Any update w/ this?

W/ the new kafka connector support.... this would be the first (tried and tested) HDFS source that could support parquet that would be free!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-zookeeper - Upgrade to zookeeper 3.5.x,CAMEL-13579,13235674,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,davsclaus,davsclaus,2019/5/26 16:53,2019/11/21 19:53,2021/3/6 6:31,,,,,,,3.x,,camel-zookeeper,,,,,,,0,,,,,,"There is a 3.5.x release and we are on 3.4.x.

Contributions and help is welcome. There is also camel-zookeer-master component",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 18 19:44:34 UTC 2019,,,,,,,,0|z033b4:,9.22337E+18,,,,,,,,,,,,,,,18/Jul/19 19:44;davsclaus;I think latest Apache Kafka is now also upgraded to ZK 3.5.x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
creation of JSON-Patch component,CAMEL-13590,13235953,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,gautric,gautric,gautric,2019/5/28 9:35,2019/10/30 12:07,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"JSON is very often used as data exchange. JSON patch can transform JSON to an other JSON with a JSON patch file.

JSON patch is specified in RFC 6902 from the IETF.

I propose to setup and create a new component using [java-json-tools |https://github.com/java-json-tools/json-patch]

this lib implements RFC 6902 (JSON Patch) and RFC 7386 (JSON Merge Patch)

camel-jolt component could be very useful sample to setup this new component ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,07:40.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Oct 30 12:07:40 UTC 2019,,,,,,,,0|z0350o:,9.22337E+18,,,,,,,,,,,,,,,30/Oct/19 12:07;davsclaus;Greg are you working on this?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Web3j - Upgrade to Web3j 4.3.1,CAMEL-13611,13237537,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,Choucri Fahed,Choucri Fahed,2019/6/4 17:02,2019/8/7 6:21,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,Support the latest version of Web3j.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,47:53.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jun 08 15:46:54 UTC 2019,,,,,,,,0|z03eqg:,9.22337E+18,,,,,,,,,,,,,,,"05/Jun/19 07:47;acosentino;[~bibryam], can you please have a look to the component?  Thanks.","05/Jun/19 07:55;Choucri Fahed;Actually, I am working on it and would like to provide a patch. [~bibryam] it seems you are the main developer of that module, do you have time to discuss this issue? We have been using camel-web3j for a while and there are other features we developed internally that we would like to add. What's the best way to get in touch?","05/Jun/19 07:59;acosentino;That would be great [~Choucri Fahed], this is a big change in the component so please raise your PR against master, on 2.x we can check if it's feasible to pass to this version, but only for 2.25","05/Jun/19 08:43;Choucri Fahed;Sorry I have never contributed to Camel before, do you confirm that '2.x' is the name of the development branch for the future 2.25 and master for 3.0.0? We internally use Camel 2.23, so I'll probably submit a patch first on 2.x then once merged, port it to 3.0.0, unless you want to proceed otherwise.","05/Jun/19 08:47;davsclaus;Its this branch
https://github.com/apache/camel/tree/camel-2.x

We would not accept a 2.x PR only. We need master always and 2.x when its applicable.","05/Jun/19 08:47;acosentino;yes, it's 2.x","05/Jun/19 09:30;Choucri Fahed;Thanks for the info, I will submit 2 PRs simultaneously as requested.","08/Jun/19 15:46;bibryam;[~Choucri Fahed] I created the component but it is now maintained by the community. Feel free to create a PR and update and improve the component. If needed, start a discussion thread on the dev list.",,,,,,,,,,,,,,,,,,,,,,,,,,
camel3 - Warmup routes and EIPs in init phase,CAMEL-13635,13239001,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/6/12 10:32,2019/11/4 5:34,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"We should add a stage for doInit to warmup the Camel routes where we can prepare all the services with doInit and EIPs can also move some of their start logic to init, for init once.

Then we can init a CamelContext as part of preparing and warming up at a build phase, that then leaves the start stage to runtime phase. ",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-13914,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Advanced,,,,,,,,,,,,,,,,,9.22337E+18,,,32:43.0,,,,,,,,0|z03nqw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add github pull request template for PR instruction,CAMEL-13704,13242403,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,njiang,njiang,2019/7/1 1:55,2020/6/27 19:08,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,help-wanted,,,,,"It's standard procedure to accept the big contribution with iCLA granted in ASF.
We should list this information when the contributor send the PR by specifying a PR template for github.  It could be annoying for the experienced contributors, but it could save us some time for the new contributors. 
Here is a draft I have, please add comment for it.
{code}
 - [ ] Make sure there is a [JIRA issue](https://issues.apache.org/jira/browse/CAMEL) filed for the change (usually before you start working on it).  Trivial changes like typos do not require a JIRA issue.  Your pull request should address just this issue, without pulling in other changes.
 - [ ] Each commit in the pull request should have a meaningful subject line and body.
 - [ ] Format the pull request title like `[CAMEL-XXX] Fixes bug in camel-file component`, where you replace `CAMEL-XXX` with the appropriate JIRA issue.
 - [ ] Write a pull request description that is detailed enough to understand what the pull request does, how, and why.
 - [ ] Run `mvn clean install` in your module to make sure basic checks pass. A more thorough check will be performed on your pull request automatically.
 - [ ] If this contribution is large, please file an Apache [Individual Contributor License Agreement](https://www.apache.org/licenses/icla.pdf).

{code}",,"Xxyumi-hub commented on pull request #3665: CAMEL-13704 - Added PR template file with instructions on what to include when subm?
URL: https://github.com/apache/camel/pull/3665
 
 
   CAMEL-13704 - https://issues.apache.org/jira/projects/CAMEL/issues/CAMEL-13704?filter=allopenissues
   I have created a PR template file for this repo and plan to add the same template to camel-k and camel-quarkus
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;23/Mar/20 15:26;githubbot;600","oscerd commented on pull request #3665: CAMEL-13704 - Added PR template file with instructions on what to include when subm?
URL: https://github.com/apache/camel/pull/3665
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;25/Mar/20 07:50;githubbot;600","Xxyumi-hub commented on pull request #1377: [CAMEL-13704] - Added PR template file with instructions on what to include
URL: https://github.com/apache/camel-k/pull/1377
 
 
   CAMEL-13704 - https://issues.apache.org/jira/projects/CAMEL/issues/CAMEL-13704?filter=allopenissues
   I have created a PR template file for this repo and plan to add the same template to the camel-quarkus repo
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;26/Mar/20 21:13;githubbot;600","Xxyumi-hub commented on pull request #990: [CAMEL-13704] - Added PR template file with instructions on what to include
URL: https://github.com/apache/camel-quarkus/pull/990
 
 
   CAMEL-13704 - https://issues.apache.org/jira/projects/CAMEL/issues/CAMEL-13704?filter=allopenissues
   I have created a PR template file for this repo, this will set a format for future PRs
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;26/Mar/20 21:22;githubbot;600","ppalaga commented on pull request #990: [CAMEL-13704] - Added PR template file with instructions on what to include
URL: https://github.com/apache/camel-quarkus/pull/990
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;28/Mar/20 07:11;githubbot;600",,,,,0,3000,,,0,3000,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,53:36.7,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jun 27 19:08:07 UTC 2020,,,,,,,,0|z048o0:,9.22337E+18,,,,,,,,,,,,,,,"01/Jul/19 05:53;acosentino;+1, we need to ask INFRA to add this PR template.",01/Jul/19 06:54;njiang;[~acosentino] Actually we can do it by committing the file into .github directory.,"01/Jul/19 06:56;acosentino;thanks [~njiang] that sound great. [~davsclaus] does this sound good for you too? We can apply this to camel, camel-k, camel-quarkus.","01/Jul/19 07:09;lb;A commend about ""Make sure there is a [JIRA issue]"" : I would rework it as for camel-k and camel-quarkus we have activated github issues so a JIRA issue is not required (the subsequent requirement need to be amended as well)","01/Jul/19 07:40;davsclaus;Yeah sounds good to me too

I would also refer people to our contribution guideline at
https://github.com/apache/camel/blob/master/CONTRIBUTING.md","18/Mar/20 14:37;Xxyumi;Hi, I am a potential outreachy intern. Would it be possible for me to work this?","26/Mar/20 21:24;Xxyumi;I have added this template to the camel, camel-k, and camel-quarkus repos",27/Jun/20 19:08;zregvart;We need this for the https://github.com/apache/camel-website/ repository as well.,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance Slack component to support Action and Button attachments in webhooks,CAMEL-13744,13244103,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,leonidre,leonidre,2019/7/10 12:48,2019/8/7 7:34,2021/3/6 6:31,,2.24.1,,,,,Future,,camel-slack,,,,,,,0,,,,,,"Current camel-slack component [http://camel.apache.org/slack.html] support attachments in incoming webhooks but not Actions and Buttons

 

[https://api.slack.com/docs/message-buttons]

 

Attaching solution code ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10/Jul/19 12:48;leonidre;SlackMessage.java;https://issues.apache.org/jira/secure/attachment/12974191/SlackMessage.java,10/Jul/19 12:48;leonidre;SlackProducer.java;https://issues.apache.org/jira/secure/attachment/12974192/SlackProducer.java,,,,2,,,,,,,,,,,,,,,,,,,,51:09.5,,,FALSE,,,,,Unknown,,,,,,,,,Patch,,,,,,,,9.22337E+18,,,Wed Jul 10 12:51:09 UTC 2019,,,,,,,,0|z04j4w:,9.22337E+18,,,,,,,,,,,,,,,"10/Jul/19 12:51;dmvolod;You are welcome to provide this change as PR

https://github.com/apache/camel/blob/master/CONTRIBUTING.md",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make a BridgePropertyPlaceholderConfigurer equivalent for PropertySourcePlaceholderConfigurer,CAMEL-13752,13245295,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,srdo,srdo,2019/7/16 17:51,2019/12/21 8:30,2021/3/6 6:31,,2.24.1,3.0.0.M4,,,,,,camel-spring,,,,,,,0,,,,,,"BridgePropertyPlaceholderConfigurer extends Spring's PropertyPlaceholderConfigurer. Spring recommends against using this class for new code, and has a replacement in the PropertySourcesPlaceholderConfigurer. The new class is a prerequisite for e.g. the @TestPropertySource annotation to work. Example usage here https://github.com/apache/camel/blob/camel-2.23.1/components/camel-test-spring/src/test/java/org/apache/camel/test/spring/CamelSpringRunnerTestPropertySourceTest.java

It's not obvious to me whether it would be safe to reimplement BridgePropertyPlaceholderConfigurer to extend PropertySourcesPlaceholderConfigurer instead. I'd guess it wouldn't be backwards compatible, otherwise Spring would probably have just reimplemented PropertyPlaceholderConfigurer.

I think we should add a new BridgePropertySourcesPlaceholderConfigurer that extends PropertySourcesPlaceholderConfigurer. This will allow users to use the Camel property bridging functionality, without losing the ability to override Spring properties in tests.

I am happy to work on this if the idea makes sense.",,"srdo commented on pull request #3283: CAMEL-13752: Reimplement BridgePropertyPlaceholderConfigurer to extend PropertySourcesPlaceholderCOnfigurer
URL: https://github.com/apache/camel/pull/3283
 
 
   This makes the BridgePropertyPlaceholderConfigurer extend the newer PropertySourcesPlaceholderConfigurer, instead of the PropertyPlaceholderConfigurer. See https://issues.apache.org/jira/browse/CAMEL-13752.
   
   The first commit implements this change based on changes to the PropertySourcesPlaceholderConfigurer from https://github.com/spring-projects/spring-framework/pull/23377. The second commit makes changes to make this PR independent of those changes. If/when Spring merges the linked PR, the changes from commit 2 can be reverted to reduce how much adaptation code is in Camel for the PropertySourcesPlaceholderConfigurer.
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;25/Oct/19 16:12;githubbot;600","davsclaus commented on pull request #3283: CAMEL-13752: Reimplement BridgePropertyPlaceholderConfigurer to extend PropertySourcesPlaceholderCOnfigurer
URL: https://github.com/apache/camel/pull/3283
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;21/Dec/19 08:30;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,34:06.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Oct 30 17:08:01 UTC 2019,,,,,,,,0|z04qdk:,9.22337E+18,,,,,,,,,,,,,,,"16/Jul/19 19:34;onders;+1

I would recommend talking either on dev or user list for such matters","17/Jul/19 18:28;srdo;Thanks [~onders], I'll do that in the future. ","18/Jul/19 07:30;davsclaus;I think you are welcome to try to implement/rework the current bridge for camel master branch for camel 3 as that is where we have a chance to update it. I dont think we should add a 2nd bridge, but only have 1 bridge. Also mind that spring-boot and Camel works fine without having to setup this bridge (if you dont really use spring xml files), so its probably more when you use classic spring xml files you may want to use the bridge.",01/Aug/19 07:54;srdo;I have a rewrite of BridgePropertyPlaceholderConfigurer ready. It's blocked by https://github.com/spring-projects/spring-framework/pull/23377. Will open a PR to Camel once that issue is resolved.,"30/Oct/19 08:17;davsclaus;Okay so the spring PR is maybe not likely to get merged or what? 

And without this PR you have copied some code or what in the Camel PR so it can work still?","30/Oct/19 17:08;srdo;I'm not sure it will get merged. No one seems to have looked at it yet, so I don't know if it's unacceptable, or the Spring people just haven't gotten around to looking at it.

Yes, without that PR, I've copied some of the implementation of PropertyPlaceholderSourcesConfigurer from Spring to Camel, so it should be able to work without that PR. Since the copied code is most of the PropertyPlaceholderSourcesConfigurer implementation, it might be a better option to make the Camel class completely independent of the Spring class, until/unless Spring merges the PR, as we're not really gaining much from the coupling.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Seek to specific offset and KafkaConsumer access ,CAMEL-13768,13245763,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,michael992,michael992,2019/7/18 11:45,2019/8/7 7:37,2021/3/6 6:31,,2.24.1,,,,,3.x,,camel-kafka,,,,,,,1,,,,,,"1. Provide a way to rewind kafka offset to specific offset (improve seekTo ?) there is no way to do that using camel-kafka component. The main idea is to replay older kafka messages without starting from the beginning.
   for example:  https://blog.sysco.no/integration/kafka-rewind-consumers-offset/

{code:java}
boolean flag = true;

while (true) {
    ConsumerRecords<String, String> records = consumer.poll(100);

    if(flag) {
        Map<TopicPartition, Long> query = new HashMap<>();
        query.put(
                new TopicPartition(""simple-topic-1"", 0),
                Instant.now().minus(10, MINUTES).toEpochMilli());

        // Get offset from timestamp
        Map<TopicPartition, OffsetAndTimestamp> result = consumer.offsetsForTimes(query);

        // Rewind offset to previous position using seekTo
        result.entrySet()
                .stream()
                .forEach(entry -> consumer.seek(entry.getKey(), entry.getValue().offset()));

        flag = false;
    }

    for (ConsumerRecord<String, String> record : records)
        System.out.printf(""offset = %d, key = %s, value = %s%n"", record.offset(), record.key(), record.value());
}
{code}

2. Provide a way to access kafkaConsumer
   Add camel header with reference to kafkaConsumer to be able to perform some Kafka api call.We can use the same way that we do with KafkaManualCommit


{code:java}
public void process(Exchange exchange) {
    KafkaManualCommit manual =
        exchange.getIn().getHeader(KafkaConstants.MANUAL_COMMIT, KafkaManualCommit.class);
    manual.commitSync();
}
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,32:55.2,,,FALSE,,,,,Unknown,,,,,,,,,Important,,,,,,,,9.22337E+18,,,Thu Jul 18 21:41:16 UTC 2019,,,,,,,,0|z04stc:,9.22337E+18,,,,,,,,,,,,,,,"18/Jul/19 19:32;davsclaus;Hi

Can you try to explain this in more details what you are asking for. And make sure to separate the 2 things in their own comments so we can keep them separated and better understand",18/Jul/19 21:41;michael992;Done i hope is it more clear ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RabbitMQ: Spring-Boot-Starter should be extended with Health and Metrcis autoconfig,CAMEL-13777,13246292,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,rfelgent,rfelgent,2019/7/22 10:57,2019/8/7 9:42,2021/3/6 6:31,,,,,,,,,camel-rabbitmq,,,,,,,0,,,,,,"Feature request.

 

Spring-Boot autoconfigure configures a metrics and health configuration for sprimg-amqp when available in classpath.

I would like to have this functionality for ""camel-rabbitmq"", too.

If you agree that this feature request is sensible for ""camel-rabbitmq-spring-boot-starter"" when I could contribute code and make a merge request.

Related to: https://github.com/spring-projects/spring-boot/issues/17534

Regards",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,40:07.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Aug 07 09:42:49 UTC 2019,,,,,,,,0|z04w2w:,9.22337E+18,,,,,,,,,,,,,,,07/Aug/19 07:40;davsclaus;Are you working on a PR?,"07/Aug/19 08:20;rfelgent;Hi [~davsclaus],

honestly I forgot about this feature. I would right start working on it.

Could you tell me please on what branch my feature request should be based on? Is branch [camel-2.23.x|https://github.com/rfelgent/camel/tree/camel-2.23.x] ok for you ? How do you Camel riders handle the backporting  to other branches ?","07/Aug/19 09:42;davsclaus;master branch thanks, as 2.x is becoming less active developed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-catalog - An uber catalog,CAMEL-13803,13247819,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/7/30 10:23,2019/10/28 14:35,2021/3/6 6:31,,,,,,,3.x,,camel-catalog,,,,,,,0,,,,,,"We should think about making camel-catalog combined for the runtimes that we have OOTB

- standalone
- spring boot
- karaf
- quarkus

Instead of having them as separate catalogs, as it makes it a bit harder for tooling.

We could have all this in camel-catalog, and then information about the runtime supported on the component metadata.

""runtimes"": ""standalone,spring-boot""

It can be a single string, but for json structure it can also be a list

""runtimes"": [ ""standalone"", ""spring-boot"" ]
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,23:42.0,,,,,,,,0|z055hs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
website - Add page which lists which components supports which runtimes,CAMEL-13804,13247820,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/7/30 10:26,2020/8/9 16:50,2021/3/6 6:31,,,,,,,3.x,,documentation,website,,,,,,0,help-wanted,outreachy2020,,,,"With CAMEL-13803 we should have a catalog that knows which component support which runtimes.

Then we can make a page with a table of each component with a matrix with [x] for which they support",,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-13803,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,20:14.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Aug 09 16:49:50 UTC 2020,,,,,,,,0|z055i0:,9.22337E+18,,,,,,,,,,,,,,,30/Jul/19 13:20;zregvart;Perhaps as a start we could put this information in the component documentation?,"13/Nov/19 10:06;davsclaus;Yeah but then we can only list standalone, karaf, and spring-boot. And then users may think dont it work with my app server or something else.

Maybe if spring-boot and karaf are moved out to separate projects like camel-quarkus they can have their own page like here
https://camel.apache.org/camel-quarkus/latest/list-of-camel-quarkus-extensions.html",08/Mar/20 18:49;Simpcy;Please could this be assigned to me then? [~acosentino] [~zregvart],09/Mar/20 11:51;zregvart;[~Simpcy] permissions within JIRA don't allow assigning issues to [non-Comitters|https://www.apache.org/foundation/how-it-works.html#structure]. Also have a look at [FAQ: How can I become a committer|https://camel.apache.org/manual/latest/faq/how-do-i-become-a-committer.html] For this issue I think it's best that you start by discussing this on the [developers mailing list|https://camel.apache.org/community/mailing-list/] and coming to a conclusion on the best approach first.,11/Mar/20 11:03;Simpcy;OK thank you! WIll be on it right away [~zregvart],27/Mar/20 00:47;raashika03;[~Simpcy] are you still working on this?,"27/Mar/20 00:57;raashika03;hi [~zregvart]  whatever component is mentioned in README.md of this repo [https://github.com/apache/camel-website]  is needed to be tabulated along with the version it supports as like this [https://github.com/apache/camel/blob/master/docs/user-manual/modules/ROOT/pages/camel-jar-dependencies.adoc]

so is in this issue we simply need to document a page using html and css listing all the above. Correct me if I'm wrong.",27/Mar/20 09:03;raashika03;hi [~davsclaus] can you guide me for this issue?,"01/Apr/20 19:22;aashnajena;Hi, is this issue still open? I'd like to take it up if no one's working on it yet!",02/Apr/20 12:17;raashika03;hi [~aashnajena] I'm working on this. can you look for some other issue? ,"27/Jun/20 18:47;zregvart;I think, for this we need to take a look at the JSON files generated in the Camel catalog that are in the Camel core repository in {{catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/components/}} or in the built {{camel-catalog-VERSION.jar}}, and include that information as a badge similar to [how was done|https://github.com/apache/camel-quarkus/blob/045732127d1193521955f3e4ab2e6c2e28a0d39f/docs/modules/ROOT/pages/extensions/activemq.adoc#L7-L8] for the camel-quarkus. I think we can do this at build time by adding the logic to perform this in [https://github.com/apache/camel/blob/master/docs/gulpfile.js].",09/Aug/20 16:49;aashnajena;What exactly are we looking for? A page similar to [https://camel.apache.org/camel-quarkus/latest/list-of-camel-quarkus-extensions.html|https://camel.apache.org/camel-quarkus/latest/list-of-camel-quarkus-extensions.html?] for karaf and spring boot etc? Or do we want one page which lists all the components and has labels for all runtimes that each component supports?,,,,,,,,,,,,,,,,,,,,,,
Create camel-filesystem component,CAMEL-13823,13248721,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,bedla,bedla,bedla,2019/8/3 17:12,2019/8/3 17:14,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"There are many java.nio.FileSystem implementations. We can create component camel-filesystem, which will allow user to plug any possible implementation of FileSystem and use it as consumer/producer.

*This can solve:*
 JimFS component - CAMEL-11300: JimFS fully implements java.nio.FileSystem
 WebDAV component - [http://camel.465427.n5.nabble.com/CAMEL-and-WebDAV-td472524.html] : User can use [https://github.com/maddingo/nio-fs-provider]

And because there exists some libraries, which acts as bridge between java.nio and commons-vfs, which user can use, this will add support to tens of other filesystems from commons-vfs.

This will also add direct support for consumig/producing files from/to zip file (ZipFileSystem is included in JDK), instead of marshalling/unmarshalling and splitting/aggregating.

*Some thoughts:*
 * For consumer we should not use WatchService, because WatchService implementation is not required for java.nio.FileSystem. Instead this we should use polling similar to camel-file implementation
 * The integration into existing codebase can be done seamlessly with new implementation GenericFile<Path>
 * Implementations of java.nio.file.Path are not required to implement toFile method. We should make sure, that Path will be never converted to File - Should be possible by implementing new GenericFileBinding<Path>",,,,,,,,,,,,,,,,,,,CAMEL-11300,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,12:26.0,,,,,,,,0|z05b1s:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java DSL - Reduce number of enrich/pollEnrich methods on top-level,CAMEL-13827,13249068,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/8/6 9:56,2019/8/7 8:36,2021/3/6 6:31,,,,,,,Future,,camel-core,eip,,,,,,0,,,,,,"We have too many with all the combos of their options. Instead we should have a few common, and then otherwise let users use the fluent api on the definition itself, and return back via end etc.

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,06/Aug/19 09:56;davsclaus;Screenshot 2019-08-06 at 11.55.22.png;https://issues.apache.org/jira/secure/attachment/12976801/Screenshot+2019-08-06+at+11.55.22.png,,,,,1,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 06 09:56:37 UTC 2019,,,,,,,,0|z05d6o:,9.22337E+18,,,,,,,,,,,,,,,06/Aug/19 09:56;davsclaus;See the screenshot,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel3 - Bean and Simple language - Optimize to use fast invocations when possible,CAMEL-13865,13250724,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/8/14 8:09,2019/8/14 8:09,2021/3/6 6:31,,,,,,,Future,,camel-core,,,,,,,1,,,,,,"In some use-cases we can possible optimize the bean component to use direct method invocations instead of invoking a method via reflection. 

The java dsl has been approved so you can invoke beans with a Supplier etc, so you can do those MyClass::myMethod style. But this only works for some use-cases as parameter binding would not to be ""compatible"". 

We can give some thoughts if we can improve this and use some tools that parses the route / model and classes on project source code / classpath, figures out if we can optimize and generate needed java source code / byte code instead.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:00.0,,,,,,,,0|z05ne8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add rel tag to external links,CAMEL-13888,13252021,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,dmvolod,dmvolod,2019/8/21 6:31,2020/6/27 18:52,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,help-wanted,,,,,"It can be discussing, but would be nice to open all foreign links as new windows (tabs) for better usability while working with site, as some foreign resources not working correctly with return back to the original site page.

Thank you.",,"zregvart commented on pull request #343: CAMEL-13888: Add rel tag to external links
URL: https://github.com/apache/camel-website/pull/343
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;16/Apr/20 07:54;githubbot;600",,,,,,,,,0,600,,,0,600,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,42:46.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jun 27 18:52:47 UTC 2020,,,,,,,,0|z05va0:,9.22337E+18,,,,,,,,,,,,,,,"21/Aug/19 06:34;dmvolod;[~zregvart], what do you think about this change?","21/Aug/19 07:42;zregvart;I really have no idea, is this a common practice? I mostly CTRL+click on links to get them in a new tab. I'm not sure how we would do this, I guess for Asciidoc content we could write an Asciidoctor extension, for Hugo bits perhaps there's a setting we could use.

If we do this then we definitely would also need to add {{rel=""noopener noreferrer""}} to anchor tags to prevent any security issues.","23/Aug/19 13:05;zregvart;For Hugo generated content we can add this to the [config.toml|https://github.com/apache/camel-website/blob/master/config.toml]:
{code:yaml}
[blackfriday]
hrefTargetBlank = true
nofollowLinks = true
noreferrerLinks = true
{code}

Which also adds {{nofollow}}, {{noopener}} for {{target=""_blank""}} is [on by default|https://html.spec.whatwg.org/multipage/links.html#opener-processing-model].

For Asciidoc rendered content (user manual, component reference), we need to change the markup of external links:
{code:none}
http://example.com[Example link^,opts=nofollow,noreferrer]
{code}","26/Aug/19 10:16;dmvolod;Thanks for response [~zregvart]

Do you need help with foreign links in the adoc files? But the foreign links on the site, not inside the documentation would be nice to have.

 ",26/Aug/19 21:20;zregvart;[~dmvolod] help with this that would be very welcome :),"05/Mar/20 18:45;aashnajena;I came across this issue on Apache's Outreachy landing page. 
Can anybody help me on how to get started?
I was able to build and run the website locally.","05/Mar/20 19:55;sabina-rohman;I am an Outreachy applicant for May 2020. I would like to work on your project. Can I please work on this issue, if it's still available?
 ","05/Mar/20 21:33;psingh1999587;Hi, 
I am interested to work on this issue. I am an outreachy applicant 2020.
Please Help me get started","06/Mar/20 08:30;ojel;Hi,

I am an Outreachy applicant for 2020, Zoran Regvart sir, I need your guidance on how to start my contribution. Thanks.","06/Mar/20 08:31;jyotiattri;Hi, my name is Jyoti Attri and I 'm Outreachy applicant for May 2020. I am interested to work on this issue. Please help me to get started.","06/Mar/20 09:38;zregvart;Hi all, just in case you haven't already received this information on how to contribute I'll enclose it in here first, I'll try to address your individual comments next.

We much appreciate your interest and willingness to contribute, I don't think it makes much sense for all of you to work on the same issue. There's also no need to have a competition on who gets to contribute first, we have plenty of other issues (outlined below) that you can help with. Since most of you are interested in participating in the Outreachy program, and help with the website, please have a look at some issues in that area via this search:

https://issues.apache.org/jira/issues/?jql=project%20%3D%20CAMEL%20AND%20status%20%3D%20Open%20AND%20component%20%3D%20website

And feel free to propose new ideas by creating new issues around the website.

For those wondering how to get started contributing to the website.

Make sure have a [GitHub account|https://github.com/join], read how you can [get started|https://help.github.com/en/github/getting-started-with-github], and [create a pull request|https://help.github.com/en/github/collaborating-with-issues-and-pull-requests].

Have a look at the [README.md|https://github.com/apache/camel-website/blob/master/README.md] in the website project on how to build and how to preview your changes on your own computer.

I'll try to address the questions in you comments here, for future conversations please do subscribe to the developer's mailing list and send emails there, discussions on the Jira issues can get a bit out of control and it's not that easy to follow the conversation here.

The following text includes information on how to reach us, and get started:

First of all, thank you for having an interest in contributing to Apache Camel.

Here are some guidelines on how to best approach the Apache Camel community and how to best apply yourself.

1. Communication

Apache Camel is an Apache Software Foundation project, all communication is done in the open on the project mailing lists.

You can read more on the reasoning behind this to get a better understanding of:

https://www.apache.org/foundation/mailinglists.html

All communication is subject to the ASF Code of Conduct, which you can read here:

https://www.apache.org/foundation/policies/conduct.html

For questions and guidance around contributing subscribe to the developer's mailing list by sending an e-mail to dev-subscribe@camel.apache.org.

We can also be reached on the Gitter chat at https://gitter.im/apache/apache-camel/.

We track issues using ASF Jira located at:

https://issues.apache.org/jira/browse/CAMEL

Where we maintain a list of issues that are easy to get started with, so you can familiarize yourself with the process and get your first contribution in:

https://issues.apache.org/jira/issues/?filter=12348073

And some areas that we are actively looking for help on:

https://issues.apache.org/jira/issues/?filter=12348074

When you're ready to contribute create a Pull request to one of the Camel projects you can find under the Apache organization on GitHub:

https://github.com/apache?q=camel

Expect that your Pull request will receive a review and that you will need to respond and correspond to that via comments at GitHub.

2. Getting started

Read the ""Contributing to Apache Camel"" document on the Camel website:

https://camel.apache.org/manual/latest/contributing.html

Identify areas you can contribute first. You don't have to be an expert in an area, the Apache Camel developers are available to offer help and guidance.

Introduce yourself on the developer's mailing list (see above), tell us what area of work or problem you wish to address in Camel. Create a draft of your solution, this can be simple 1-2 sentences on the change you wish to make. Try to be as specific as you can: include a short description of your intent, what you tried and what didn't work, or what you need help with. The best way of approaching the developers is by describing what you would like to work on and asking specific questions on how to get started. We'll do our best to guide you and help you make your contribution. 

We also participate in Google Summer of Code and Outreachy programs, for information about those look at those program websites. If you wish to participate in either of those follow the guidelines and schedule set by those programs. If you're unsure please reach out via official communication channels of those programs, or ask on the developer's mailing list for help.

3. Your first contribution

Make sure you followed the steps and guidelines outlined above. For bigger changes, make sure that you have discussed on the developer's mailing list or in the Jira issue tracker before hand. We love receiving contributions, to get the best response make sure that the reasoning behind the contribution you wish to make is clear: outline the problem and explain your solution for it.

Make sure you follow the guidelines outlined in the ""Contributing to Apache Camel"" document. Be respectful of the source checks, formatting and the structure of the git commit message we abide by. This will help you in getting your contribution accepted. Outline any changes you made but are unaware or unsure of any consequences or sideeffects.

Stay engaged, follow and respond to comments or questions you might be asked.

With that I wish you all the best and please do have fun while contributing to Apache Camel, we certainly do :)","06/Mar/20 11:33;Ify;Hello [~zregvart]  I am an Outreachy applicant, I would like to work on this task.","10/Mar/20 20:00;roshni;[~zregvart]

Hi sir, I would like to raise a point that even if we rectify this issue, how will a user know that the link automatically opens up to a new tab. User is accustomed to open the links by ctrl+'click' so resolving this issue won't be of much help until user experiences the change. 

Well, thinking of the issue i came up with a solution too.

On hovering over the foreign links that are ought to be opened in a new tab, a hyperlink icon( [https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTDwswQEkx2fqzO8pA6x0GkgSoR2NzEKU2Mo7Qy4JBKYuvkKUj5] ) may pop up over mouse pointer. Viewing the icon user will have an idea of the link.

I'm an outreachy applicant trying to understand and improve the user experience and interaction on the website. Looking forward to contribute as a designer.

Thanks",11/Mar/20 05:23;favourori;I have fixed this & sent a PR: [https://github.com/apache/camel-website/pull/189],"11/Mar/20 08:31;zregvart;[~roshni] I agree, I think we should not force opening in a new window (tab), users can easily do that themselves if needed. What the issue here is, or should be, about is the security implications of linking to external sites without {{rel=""noopener,nofollow,noreferrer""}}. See [this blog post|https://mathiasbynens.github.io/rel-noopener/] for details. My comment above is how we can add this to the Hugo generated content, we also need a solution on how to do this for the Antora rendered content.","12/Mar/20 08:43;favourori;Hi [~zregvart] 

This is pretty vague to some extent. When you say foreign links, do you mean site-wide or just on the Menu (because I already fixed for the Menu) Thanks.

 

Awaiting clarification","12/Mar/20 11:25;zregvart;[~favourori] foreign links are all links that lead away from camel.apache.org, we need this change site wide.","12/Mar/20 11:54;favourori;Thanks for clarifying! Will handle today :)

 ","12/Mar/20 14:07;favourori;[~zregvart] done!

 

 

All foreign links  now open in a new tab. Nav and site wide. Even newly added links",10/Apr/20 08:23;avgupt;[~zregvart] I think nobody is working on this issue right now. Can I take it up?,"14/Apr/20 15:24;zregvart;[~avgupt] I don't think we have this resolved, not sure if [~favourori] is still working on this.","27/Jun/20 18:52;zregvart;From what I understand the current progress on this is that we have this for Hugo built pages, we do not have it for Antora built pages. For example on this page: [https://camel.apache.org/components/latest/aws-cw-component.html] there is a link to [https://aws.amazon.com/cloudwatch/] in the first paragraph that doesn't contain the {{rel=""nofollow noreferrer""}} attribute.",,,,,,,,,,,,
Pull contributor data from JSON APIs,CAMEL-13894,13252303,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,zregvart,zregvart,2019/8/22 7:39,2020/3/27 10:19,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,help-wanted,,,,,"Hugo has a feature where we can [pull in data from JSON APIs|https://gohugo.io/templates/data-templates/#call-the-functions-with-a-url] we could use this feature to have a dynamic contributors page where we show names and avatars from GitHub of all contributors to Camel.

I think we could also have pull in data from Whimsy as JSON for PMC members and commiters.

This way we would not need to update contributors manually.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,02:23.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 09 12:00:06 UTC 2020,,,,,,,,0|z05x0o:,9.22337E+18,,,,,,,,,,,,,,,"06/Mar/20 14:02;CynthiaOmovoiye;Hi, I am Cynthia Omovoiye. I an outreachy applicant and I would like to contribute to this project. Please, how do I get started?","06/Mar/20 15:05;zregvart;Hi [~CynthiaOmovoiye] First of all, thank you for having an interest in contributing to Apache Camel.

Here are some guidelines on how to best approach the Apache Camel community and how to best apply yourself.

1. Communication

Apache Camel is an Apache Software Foundation project, all communication is done in the open on the project mailing lists.

You can read more on the reasoning behind this to get a better understanding of:

https://www.apache.org/foundation/mailinglists.html

All communication is subject to the ASF Code of Conduct, which you can read here:

https://www.apache.org/foundation/policies/conduct.html

For questions and guidance around contributing subscribe to the developer's mailing list by sending an e-mail to dev-subscribe@camel.apache.org.

We can also be reached on the Gitter chat at https://gitter.im/apache/apache-camel/.

We track issues using ASF Jira located at:

https://issues.apache.org/jira/browse/CAMEL

Where we maintain a list of issues that are easy to get started with, so you can familiarize yourself with the process and get your first contribution in:

https://issues.apache.org/jira/issues/?filter=12348073

And some areas that we are actively looking for help on:

https://issues.apache.org/jira/issues/?filter=12348074

When you're ready to contribute create a Pull request to one of the Camel projects you can find under the Apache organization on GitHub:

https://github.com/apache?q=camel

Expect that your Pull request will receive a review and that you will need to respond and correspond to that via comments at GitHub.

2. Getting started

Read the ""Contributing to Apache Camel"" document on the Camel website:

https://camel.apache.org/manual/latest/contributing.html

Identify areas you can contribute first. You don't have to be an expert in an area, the Apache Camel developers are available to offer help and guidance.

Introduce yourself on the developer's mailing list (see above), tell us what area of work or problem you wish to address in Camel. Create a draft of your solution, this can be simple 1-2 sentences on the change you wish to make. Try to be as specific as you can: include a short description of your intent, what you tried and what didn't work, or what you need help with. The best way of approaching the developers is by describing what you would like to work on and asking specific questions on how to get started. We'll do our best to guide you and help you make your contribution. 

We also participate in Google Summer of Code and Outreachy programs, for information about those look at those program websites. If you wish to participate in either of those follow the guidelines and schedule set by those programs. If you're unsure please reach out via official communication channels of those programs, or ask on the developer's mailing list for help.

3. Your first contribution

Make sure you followed the steps and guidelines outlined above. For bigger changes, make sure that you have discussed on the developer's mailing list or in the Jira issue tracker before hand. We love receiving contributions, to get the best response make sure that the reasoning behind the contribution you wish to make is clear: outline the problem and explain your solution for it.

Make sure you follow the guidelines outlined in the ""Contributing to Apache Camel"" document. Be respectful of the source checks, formatting and the structure of the git commit message we abide by. This will help you in getting your contribution accepted. Outline any changes you made but are unaware or unsure of any consequences or side effects.

Stay engaged, follow and respond to comments or questions you might be asked.

With that I wish you all the best and please do have fun while contributing to Apache Camel, we certainly do :)","08/Mar/20 10:50;CynthiaOmovoiye;Hi, Zoran Regvart. Thank you for your assistance so far. I have subscribed to the user-help and dev-help mailing lists and I have identified my interest in this project and also asked for assistance and further information on this task but I am yet to receive a feedback. Please can you help me with guidance and more information on this task? Or direct me to the necessary channel. Thank you.",09/Mar/20 12:00;zregvart;Replied [on the mailing list|https://lists.apache.org/thread.html/rd6ff82e915ac180a5cae2ed992fd97bc060f5039f4378dd17d0282c2%40%3Cdev.camel.apache.org%3E].,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Rest-DSL doesn't generate type & outType from openapi 2.0 file,CAMEL-13909,13253044,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,hari87,hari87,2019/8/26 14:03,2019/9/2 14:36,2021/3/6 6:31,,,,,,,3.x,,rest,tooling,,,,,,0,,,,,,"In the camel-swagger-rest-dsl-generator project, it is not generating .type & .outType rest dsl though available as part of openapi 2.0 (swagger) spec.

This is because in (as far as I investigated) in org.apache.camel.generator.swagger.OperationVisitor class we have the following code and beyond we do not have options to emit type & outType. Besides in the method, it is also not possible to pass User defined objects which will help to create those models.
{code:java}
void visit(final HttpMethod method, final Operation operation) {
 if (filter.accept(operation.getOperationId())) {
 final String methodName = method.name().toLowerCase();
 emitter.emit(methodName, path);

 emit(""id"", operation.getOperationId());
 emit(""description"", operation.getDescription());
 emit(""consumes"", operation.getConsumes());
 emit(""produces"", operation.getProduces());{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,36:20.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Sep 02 14:36:20 UTC 2019,,,,,,,,0|z061kw:,9.22337E+18,,,,,,,,,,,,,,,"02/Sep/19 14:36;davsclaus;Yeah it would be nice. This requires for input types, to check the parameters for message body, and see if it refers to a model and use that.

And for responses then its the same, likely to find the 200 status code.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make sure error handlers are created during the reification process and avoid having them created at runtime,CAMEL-13912,13253490,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,gnodet,gnodet,gnodet,2019/8/28 12:44,2019/9/30 6:43,2021/3/6 6:31,,3.0.0.RC1,,,,,3.x,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-13984,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,07:46.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 06 16:07:46 UTC 2019,,,,,,,,0|z064c0:,9.22337E+18,,,,,,,,,,,,,,,06/Sep/19 16:07;davsclaus;Is this complete and can be resolved?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Find a way to propagate base markup syntax from javadoc to website,CAMEL-13920,13254090,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,bedla,bedla,2019/8/31 22:30,2019/9/9 0:22,2021/3/6 6:31,,,,,,,,,tooling,,,,,,,0,,,,,,"HTML tags seems to be stripped out when creating json schema from javadoc. Can we include some of safe tags, or replace them with markup, or find some other way to propagate formating from javadoc to website?

This can be seen specialy in [file component|https://camel.apache.org/components/latest/file-component.html] for readLock option. [Javadoc|https://github.com/apache/camel/blob/master/components/camel-file/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java#L842] for this option contains nice <li> list of allowed values, but on website (and also in file.json) are tags excluded. This tends to description, which is really hard to read on website. ",,"bedlaj commented on pull request #3137: CAMEL-13920: Allow using markup in option description
URL: https://github.com/apache/camel/pull/3137
 
 
   This is best way, I have found so far to allow lists in description. Please review and comment, if you see some better solution, because I feel, that adding `\n` to javadoc is somehow incorrect.
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;03/Sep/19 20:41;githubbot;600","bedlaj commented on pull request #3137: CAMEL-13920: Allow using markup in option description
URL: https://github.com/apache/camel/pull/3137
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;09/Sep/19 00:06;githubbot;600",,,,,,,,,1200,,,,1200,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,45:14.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Sep 09 00:22:23 UTC 2019,,,,,,,,0|z06814:,9.22337E+18,,,,,,,,,,,,,,,"01/Sep/19 06:45;davsclaus;I dont think so as the text must be json valid, and also spring boot auto configuration dont allow all these syntaxes. So what we should do is to change the javadoc docs instead.","01/Sep/19 16:59;bedla;I havent found a way so far. Replacing html tags with markdown/adoc format is not possible too, because for lists we need new line break between entries and line endings are removed too in json model. Or anybody knows about some way to create inline lists with adoc format?","01/Sep/19 17:23;bedla;This can be hacked by explicitly adding *\n* on relevant lines in javadoc. Then are line endings propagated throught json model to website. But I am not sure how well this will be handled by other dependent tools and how this will look like on javadoc.io

 

Also if we find OK to include *\n* in javadoc, then we need to make adoc generator a bit smarter, to prefix table cell with *a|* , if description contains markdown tags. Without this prefix is content of cell interpreted as plain text.",01/Sep/19 20:56;bedla;Working on prototype and will open PR for discussion.,02/Sep/19 10:11;zregvart;One option perhaps could be to add more helpers to the {{tooling/maven/camel-package-maven-plugin/src/main/java/org/apache/camel/maven/packaging/MvelHelper.java}} and use those in the Velocity templates. For example we currently have {{escape}} ([source|https://github.com/apache/camel/blob/969b03e62ba0baab729d77adf1602606f49db636/tooling/maven/camel-package-maven-plugin/src/main/java/org/apache/camel/maven/packaging/MvelHelper.java#L35]) used to escape certain character combinations in the resulting Asciidoc files ([example for endpoint options|https://github.com/apache/camel/blob/c19b4f976c78f9a92e88165d6faeeb962fbcd890/tooling/maven/camel-package-maven-plugin/src/main/resources/endpoint-options.mvel#L17]).,"09/Sep/19 00:22;bedla;Initial support added in PR3137. Keeping this Jira open, because in PR was discussion about converting HTML javadocs to Ascidoctor, which is IMHO worth to explore. With current solution we dont detect inline markups, e.g. links, these are still stripped from javadoc. Solution proposed by [~zregvart] in PR will allow full support, but there could be some non trivial changes in tooling.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel3 - camel-cdi should move its mockEndpoint support to camel-test-cdi,CAMEL-13940,13254672,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/9/4 10:00,2019/9/30 6:42,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,So camel-cdi does not have runtime dependency on camel-mock. That code with MockEndpoint should be moved to camel-test-cdi as its for testing purpose,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,00:47.0,,,,,,,,0|z06ba0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unpredictable registry lookup,CAMEL-13948,13255039,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2019/9/5 16:16,2019/12/19 17:36,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"The camel registry support binding multiple classes to the same entry via the bind method:

{code:java}
    void bind(String id, Class<?> type, Object bean)
{code}

The underlying implementation is roughly:

{code:java}
    void bind(String id, Class<?> type, Object bean) {
        computeIfAbsent(id, k -> new LinkedHashMap<>()).put(type, bean);
    }
{code}

So assuming I have a class MyLogComponent which extends LogComponent and I do the following binding:

{code:java}
    Component a = new LogComponent()
    Component b = new MyLogComponent()

    registry.bind(""log"", LogComponent.class, a )
    registry.bind(""log"", MyLogComponent.class, b)
{code}

then lookupByNameAndType may return different values depending on the type used for looking up the beans:

{code:java}
    registry.lookupByNameAndType(""log"", LogComponent.class)  ==> a
    registry.lookupByNameAndType(""log"", MyLogComponent.class)   ==> b
    registry.lookupByNameAndType(""log"", DefaultComponent.class)  ==> a or b (depends on the order)
{code}


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,06:00.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Nov 04 07:26:06 UTC 2019,,,,,,,,0|z06d0w:,9.22337E+18,,,,,,,,,,,,,,,05/Sep/19 16:17;lb;//cc [~gnodet],"05/Sep/19 18:06;gnodet;Right, unpredictable results is really a bad idea.

I think when an object is bound in the registry, we should first walk through each of the instance's parent classes and interfaces and unbind any object with the same name + class/interface, then bind the object.","06/Sep/19 16:52;davsclaus;gnodet what would that mean in lucas example?

Wont that mean that when b is bound then a is unbound, because they are both DefaultComponent / Compoent?","04/Nov/19 07:26;gnodet;Yes, my suggestion was to unbind a from {{DefaultComponent}} / {{Component}}.

Another possibility is to maintain a {{List}} instead of a single object, but we would need additional methods to retrieve a list of beans instead of a single instance.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
better endpointdsl for rest,CAMEL-13950,13255047,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2019/9/5 16:49,2019/12/19 17:36,2021/3/6 6:31,,,,,,,,,rest,,,,,,,0,,,,,,"We should have a better ""fluent dsl"" for rest services, as today we have something like

{code:java}
    rest(""/v1"").get(""/api"").to(""""...)
{code}

It would be nice to simplify this by having an option to start from the method like:

{code:java}
    get(""/api"")
        .accept(""..."")
        .to(""..."")
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,34:38.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 06 08:34:17 UTC 2019,,,,,,,,0|z06d2o:,9.22337E+18,,,,,,,,,,,,,,,05/Sep/19 16:50;lb;//cc [~gnodet],"06/Sep/19 07:34;davsclaus;Hmm I do think actually routes should always have started with route, instead of just from
And therefore also rest should start from rest.

As a 

    get(""foo"").to(""jms:bar"")

Is not obvious what it really is","06/Sep/19 07:38;lb;Yep but now you can already do

{code}
    rest().get(...).to("""")
{code}

So maybe something like:

{code}
    var api = .get(...).accept(....);

    from(api).to()
{code}","06/Sep/19 07:42;davsclaus;Hmm we dont really use variables and splitup. Also mind that we should ideally have the Java and XML DSL similar (and also other DSLs like YAML etc) as the Java DSL can get too far away from these others. eg we already got some of that in Camel 2.x and have some ""tricks"" to fixup this.

So what I am saying is that a get method does not tell me that its rest or something, its not HTTP GET or REST GET or something, but just get. And that can mean anything, eg like a getter.

","06/Sep/19 07:53;lb;isn't that similar to what the endpoint dsl does ?

{code:java}
var timer = timer("""");

from(timer).to()
{code}","06/Sep/19 08:00;davsclaus;Yeah but its a special DSL for Java only. 

The route model is 99% identical between java and xml and others. And so should the Rest DSL.","06/Sep/19 08:03;lb;oh yes, maybe was not so clear (as usual). I do not want to remove what we have, just add some syntactic sugar in the context of the endpoint dsl, maybe targeting the rest component itself","06/Sep/19 08:11;gnodet;What about adding a {{RestRouteBuilder}} which would extend the existing {{RouteBuilder}}, adding those methods as shortcuts ? ",06/Sep/19 08:18;lb;that would work too ,"06/Sep/19 08:22;davsclaus;Hmm then there is yet another variation, there is a special endpoint route builder for endpoint DSL. And you can't have a rest route builder as well, and we dont want a endpointDslwithRest route builder. Or am I mistaking.

And all for not writing rest() which clearly indicate its a rest service.
","06/Sep/19 08:34;lb;In my mind it is just about consistency and btw, I'm just ok to use rest(), but as today we can basically do routing directly from the rest dsl:

{code:java}
    rest()
        .get("""").to(...)
        .post("""").route().to("""")
{code}

but with the introduction of the endpointdsl we have discrepancies as I cannot do something like

{code:java}
    timer(""test"")
        .route().to("""")
{code}

And I cannot use the result of the rest() method as endpoint so I'm striving to find out if there is a way to improve what we have in order to provide a  consistent user experience. 
But it is not as simple as I initially tough :)




",,,,,,,,,,,,,,,,,,,,,,,
AS2 Connection can only handle one connection,CAMEL-14008,13258475,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,sbraus,sbraus,2019/9/24 8:09,2019/12/21 8:31,2021/3/6 6:31,,2.24.2,3.x,,,,,,camel-as2,,,,,,,0,,,,,,"This bug was originally found by: [~EMBEE]

 

The AS2 component creates one HTTP connection with the other party. If nothing happens for a while and the other party decides to close down the connection the component does not attempt to create a new session.

 

This bug was found by running the program a few hours and when a new message was to be send the connection was already closed down by the other party.

 

The component should create a new connection with the other party.

 ",OSGI with Karaf,"Braus commented on pull request #3188: CAMEL-14008 changed HTTPConnection to a HttpConnectionPool
URL: https://github.com/apache/camel/pull/3188
 
 
   With the help of @Maurice-Betzel 
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;24/Sep/19 14:52;githubbot;600","Braus commented on pull request #3188: CAMEL-14008 changed HTTPConnection to a HttpConnectionPool
URL: https://github.com/apache/camel/pull/3188
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;25/Sep/19 06:50;githubbot;600","Braus commented on pull request #3192: CAMEL-14008 added http connection pooling 
URL: https://github.com/apache/camel/pull/3192
 
 
   with the help of Maurice Betzel
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;25/Sep/19 09:00;githubbot;600","davsclaus commented on pull request #3192: CAMEL-14008 added http connection pooling 
URL: https://github.com/apache/camel/pull/3192
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;21/Dec/19 08:31;githubbot;600",,,,,57600,55200,2400,4%,57600,55200,2400,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,14:44.7,,,FALSE,,,,,,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Sep 24 08:14:44 UTC 2019,,,,,,,,0|z06y7c:,9.22337E+18,,,,,,,,,,,,,,,24/Sep/19 08:14;acosentino;You're welcome to work on a patch.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow DataFormats to unmarshal known data formats without first converting to bytes,CAMEL-14028,13260076,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,srdo,srdo,2019/10/2 9:07,2019/10/2 12:43,2021/3/6 6:31,,3.0.0,,,,,,,,,,,,,,0,,,,,,"The motivating example here is unmarshalling JAXB from a String message body, but the issue exists for other data formats as well, e.g. JSON. In a route like

{quote}
from(""direct:receive-a-string"")
.unmarshal().jaxb()
{quote}

Camel will unnecessarily serialize the String to bytes, then deserialize the bytes to JAXB Java objects. In addition to being inefficient, this can cause encoding issues if the encoding used by Camel to serialize the String doesn't match the encoding set in the XML declaration.

The reason Camel needs to serialize to bytes is that the [DataFormat|https://github.com/apache/camel/blob/7518aa587c0b887d7e071d6c64c14d91bd0d0e67/core/camel-api/src/main/java/org/apache/camel/spi/DataFormat.java] interface  takes an InputStream parameter in the unmarshal method. Because of this parameter, the [UnmarshalProcessor|https://github.com/apache/camel/blob/3312243b32af03ac39c3af170e318f03e01d64f0/core/camel-support/src/main/java/org/apache/camel/support/processor/UnmarshalProcessor.java#L56] needs to convert the message body to bytes before calling the data format.

We should be able to introduce a new method with the signature {{unmarshal(Exchange)}}, which would let data formats examine the body's type, and decide whether it is necessary to serialize to bytes before unmarshalling. For instance, the JAXB data format could choose only to serialize to bytes if the input body is not one of the types accepted by the [JAXB Unmarshaller|https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html], or a String.

We should be able to implement this in a backwards compatible way, by introducing the new method as a default method on the DataFormat interface. The default implementation should extract the exchange message body as an InputStream, and call the existing unmarshal method. We can then update UnmarshalProcessor to only call the new method. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Oct 02 12:42:13 UTC 2019,,,,,,,,0|z0783c:,9.22337E+18,,,,,,,,,,,,,,,"02/Oct/19 12:42;srdo;I would like to give implementing this a shot. (Can't self-assign this, so putting a comment here instead)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a maven-plugin to generate Kafka configurations during compilation ,CAMEL-14062,13262015,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,omarsmak,omarsmak,omarsmak,2019/10/13 17:29,2021/2/1 13:55,2021/3/6 6:30,,3.0.0.RC2,,,,,3.9.0,,camel-kafka,,,,,,,0,,,,,,"Similar to CAMEL-14009, it will be ideal to have a maven plugin that generates camel configurations from Kafka {{ConfigDef}} in order to avoid manual work to port these configurations back to Camel",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,29:02.0,,,,,,,,0|z07jnk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-ssh adding persistent connection feature,CAMEL-14063,13262107,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Ecker,Ecker,2019/10/14 8:59,2019/10/14 8:59,2021/3/6 6:31,,2.24.2,,,,,,,camel-ssh,,,,,,,0,,,,,,"Problem:
Each remote command (polling, camel-ssh) creates a log entry (Login/Logout on the remote managed device) polluting the log and creating a load on managed devices.

Reason:
In camel version 2.24.2 the ssh components uses a static method which connects and disconnects with each request/command => No persistent connection possible

Request:
Leave the default behavior as is. Add a new option ""persistent"" to the component which will persist the connection but will create and drop the ssh command channel with each command only. Only recreate the connection if host/login or password changes. Pass back an exception if a connection is lost to let the route handle that case.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,59:08.0,,,,,,,,0|z07k80:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Jetty 9.4.21.v20190926,CAMEL-14079,13262853,,Task,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2019/10/17 12:35,2019/10/31 15:26,2021/3/6 6:31,,,,,,,3.x,,camel-jetty,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,11:42.4,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Oct 21 17:40:46 UTC 2019,,,,,,,,0|z07ots:,9.22337E+18,,,,,,,,,,,,,,,18/Oct/19 07:47;davsclaus;There are a test failure in camel-cxf and camel-cometd and maybe others due to jetty upgrade. Yeah its almost every time jetty causes new pain and problems :(,18/Oct/19 08:11;davidkarlsen;https://github.com/eclipse/jetty.project/issues/4141 (don't be mislead by the heading).,18/Oct/19 08:15;acosentino;Reverted,21/Oct/19 17:40;davsclaus;Lets wait for 9.4.22 or newer which may fix this,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement StubEndpoint annotation,CAMEL-14080,13262911,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,vilojona,vilojona,2019/10/17 17:24,2019/10/17 17:24,2021/3/6 6:31,,3.0.0.RC2,,,,,,,camel-test,,,,,,,0,,,,,,"Currently to *stub* a component we need to do
{code:java}
camelContext.addComponent(""aws-s3"", camelContext.getComponent(""stub""));
{code}
The goal for this feature is to create the annotation @StubComponent at Class level :
{code:java}
@StubComponent(""aws-s3|http4"")
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Oct 17 17:24:53 UTC 2019,,,,,,,,0|z07p6o:,9.22337E+18,,,,,,,,,,,,,,,17/Oct/19 17:24;vilojona;Working on it.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update FHIR to latest version,CAMEL-14104,13264034,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jpoth,jpoth,jpoth,2019/10/23 14:25,2019/11/12 17:30,2021/3/6 6:31,,,,,,,3.x,,camel-fhir,,,,,,,0,,,,,,This will introduce new features and minor breaking changes so should probably be for Camel 3 only ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,06:17.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Nov 12 17:30:03 UTC 2019,,,,,,,,0|z07vn4:,9.22337E+18,,,,,,,,,,,,,,,"01/Nov/19 08:06;davsclaus;Is this released, can we upgrade now as Camel 3 will be GA in mid november",12/Nov/19 11:32;davsclaus;Hi John. Do you get some time to do this in the near future so we can get it in 3.0 GA or should we move it to a 3.x release?,"12/Nov/19 12:28;jpoth;Hi [~davsclaus], I have it ready to be pushed. I was thinking of doing it sometime this week. I think this should ideally be done before 3.0 GA. Karaf support is dropped for now (until next hapi-fhir release), would that be okay ?","12/Nov/19 12:40;davsclaus;Ah okay so hapi will support osgi later? 

I am okay with this, we add a known issue about camel-fhir not support osgi and disable the osgi test etc",12/Nov/19 17:30;jpoth;Yeah it's broken at the moment it's on my TODO list to fix it,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Static resolver extension for validation with xsd,CAMEL-14114,13265317,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Agarkov,Agarkov,2019/10/30 14:39,2019/10/31 8:40,2021/3/6 6:31,,2.24.2,,,,,,,came-core,,,,,,,0,,,,,,"In our project, we process xml documents and pass each document through one of the xsd schemes that we store in the mongo database. The problem is that with the xslt conversion we perform by calling
{code:java}
transactedDefinition.to (""xslt: mongo: dbf860e2-2589-4113-9c26-7cc2235f306d"")
{code}
And Camel uses SpringUriResolver, which can be redefined so that it understands the mongo protocol. In ValidationEndPoint, a SchemaReader is created explicitly setting the class in the constructor and cannot be overridden, and the standard SchemaReader does resolving by calling the static method
{code:java}
org.apache.camel.util.ResourceHelper#resolveMandatoryResourceAsInputStream (org.apache.camel.CamelContext, java.lang.String)
{code}
In the end, I had to override ValidationEndPoint and SchemaReader to add mongo protocol recognition there.
Is it possible to make using SpringUriResolver in ValidationEndPoint?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:42.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Oct 31 08:40:42 UTC 2019,,,,,,,,0|z083k8:,9.22337E+18,,,,,,,,,,,,,,,"30/Oct/19 15:51;davsclaus;Development is moving to Camel 3, eg master branch. Take a look there, I dont think we have a SpringUriResolver or that the validator component uses spring","30/Oct/19 17:04;Agarkov;I apologize, SpringUriResolver is our custom class. It implements the javax.xml.transform.URIResolver interface, which is used in the XsltEndPoint Camel class. Is it possible to make ValidatorEndPoint also use this interface?","31/Oct/19 08:40;davsclaus;Ah okay, yeah you are welcome to work on being able to plugin a different way of loading/resolving the resource.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-test: provide custom assertj assertions,CAMEL-14123,13265634,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2019/10/31 20:57,2019/10/31 20:57,2021/3/6 6:31,,,,,,,3.x,,camel-test,,,,,,,0,,,,,,"AssertJ allow to create custom assertions [¹] and such feature is leveraged by Spring Boot to ease testing some part of the framework (as example the ApplicationContext [2]). 

We should provide something similar at least for the Camel Context and the Mock Component.


[1] https://joel-costigliola.github.io/assertj/assertj-core-custom-assertions.html
[2] https://github.com/eugenp/tutorials/blob/413ffde3db305d5b22098e2153d291b75ede658f/spring-boot-autoconfiguration/src/test/java/com/baeldung/autoconfiguration/ConditionalOnBeanIntegrationTest.java#L20-L25",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,57:42.0,,,,,,,,0|z085io:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Classpath class scanner that can use jandex indexes,CAMEL-14135,13266085,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/11/4 10:22,2019/11/4 10:22,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"We may consider a classpath scanner that can use jandex indexes scan and load classes. So you can quickly load all RouteBuilder classes etc. Or all classes annotated with TypeConverter etc.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,22:49.0,,,,,,,,0|z088aw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove global dependency on outdated guava,CAMEL-14140,13266277,,Task,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,tdiesler,tdiesler,2019/11/5 7:55,2019/11/11 11:59,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Currently, camel comes with google-guava-version=19.0 which contains a number of deprecated APIs that have been removed in 20.x. AFAICS, cassandra-3.x is the only component that depends on these deprecated guava APIs. This dependency has been removed in cassandra-4.x, which is currently in alpha. In WildFly-Camel, I confirmed that it should generally be possible to update to guava-26.x as long as cassandra can still use 19.x",,"tdiesler commented on pull request #3321: [CAMEL-14140] Remove global dependency on outdated guava
URL: https://github.com/apache/camel/pull/3321
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;06/Nov/19 12:48;githubbot;600","oscerd commented on pull request #3321: [CAMEL-14140] Remove global dependency on outdated guava
URL: https://github.com/apache/camel/pull/3321
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;07/Nov/19 12:24;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:22.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 08 12:42:15 UTC 2019,,,,,,,,0|z089hk:,9.22337E+18,,,,,,,,,,,,,,,"05/Nov/19 13:02;tdiesler;Here are the various usages of guava ...

{code}

[tdiesler@MacBook3 camel]$ cat parent/pom.xml | grep guava-version
 <azure-guava-version>20.0</azure-guava-version>
 <cassandra-driver-guava-version>19.0</cassandra-driver-guava-version>
 <google-guava-version>19.0</google-guava-version>
 <google-mail-guava-version>17.0</google-mail-guava-version>
 <grpc-guava-version>26.0-android</grpc-guava-version>
 <influx-guava-version>20.0</influx-guava-version>
 <jackrabbit-guava-version>15.0</jackrabbit-guava-version>
 <jclouds-google-guava-version>18.0</jclouds-google-guava-version>
 <jclouds-google-guava-version-range>[18.0,19.0)</jclouds-google-guava-version-range>
 <jira-guava-version>26.0-jre</jira-guava-version>
 <leveldb-guava-version>21.0</leveldb-guava-version>
 <mustache-guava-version>20.0</mustache-guava-version>
 <openstack4j-guava-version>17.0</openstack4j-guava-version>
 <protobuf-guava-version>26.0-android</protobuf-guava-version>
 <swagger-java-guava-version>27.1-jre</swagger-java-guava-version>
 <zookeeper-guava-version>16.0</zookeeper-guava-version>

{code}","06/Nov/19 12:56;tdiesler;PR: [https://github.com/apache/camel/pull/3321]

In this (bold) PR I replaced all occurrences of guava >= 20.0 with the latest that was already being used i.e. 27.1-jre. References to older guava versions remain unchanged.

This changes/aligns the referenced guava version for: azure, grpc, influxdb, jira, leveldb, mustache, protobuf and swagger

I verified that this change is valid for WFC module wiring i.e. all tests pass. There may however be code paths that WFC did not go through. I trust that the Camel test suite would catch problems in those if there are any.","08/Nov/19 04:51;davsclaus;The karaf features are affected and a bunch of them fails, where we need to hardcode them to use older guava versions","08/Nov/19 12:42;acosentino;I reverted this fix, even by hardcoding the version, using a common version of guava all around doesn't work for some of them, for example guava-eventbus and nsq.

It must stay as-is. I'm sorry.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add RocksDB Aggregator to Camel ,CAMEL-14152,13266842,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,omarsmak,omarsmak,omarsmak,2019/11/7 14:42,2019/11/8 10:12,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Although we have LevelDB Aggregator in Camel, I thought it will be as well beneficial for users to have as well RocksDB Aggregator. Although RocksDB is basically based on LevelDB, I think Facebook has done great optimizations on it to have a good performance on sample data bigger than the machine's RAM. 
I can work on it after we release 3.0.0 GA ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,46:30.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 08 10:12:10 UTC 2019,,,,,,,,0|z08cz4:,9.22337E+18,,,,,,,,,,,,,,,"07/Nov/19 14:46;acosentino;Rocksdb is licensed under GNU GPL

 which is not compatible with ASF [https://www.apache.org/legal/resolved.html#category-x]",07/Nov/19 14:47;acosentino;So it cannot be included.,"07/Nov/19 14:50;omarsmak;As I see from here: https://github.com/facebook/rocksdb, is a dual licence GPLv2 and Apache 2.0. As I recall, it is as well included in Apache Kafka Streams library https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Streams+Internal+Data+Management#:~:targetText=RocksDB%20is%20just%20used%20as,created%20for%20fault%2Dtolerance%20reasons.",07/Nov/19 14:52;omarsmak;interesting they added the Apache 2.0 licence 2 years go https://github.com/facebook/rocksdb/commits/master/LICENSE.Apache,"07/Nov/19 14:54;acosentino;I just don't want to create legal trouble, personally I don't like double licensed project, it's not clear what you get, what you can and what you can't do, and so on.

Since there is this doubt, I'd prefer to avoid using this kind of projects.

[~davsclaus] and other committers and PMC member, what do you think?","07/Nov/19 15:03;jbonofre;I would rather add this in camel-extra: https://github.com/camel-extra/camel-extra

It's where I added some ""non Apache"" licensed connector.","07/Nov/19 17:54;davsclaus;They clearly indicate that its a dual licensed project and has been this for 2 years. So I would says its fine to add this.

Also if you search for rocksdb on maven search you see other Apache projects that seems to use it (flink, samza etc)
https://search.maven.org/
",08/Nov/19 09:45;acosentino;Sounds good then. If legal will complain we'll move it to extra,08/Nov/19 10:12;omarsmak;+1,,,,,,,,,,,,,,,,,,,,,,,,,
camel-microprofile - Reactive Messaging component,CAMEL-14158,13267070,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,vrlgohel,davsclaus,davsclaus,2019/11/8 10:12,2020/6/22 8:35,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"We should look at adding a new camel component for MP reactive messaging spec
https://github.com/eclipse/microprofile-reactive-messaging

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,12:46.0,,,,,,,,0|z08eds:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-test-main - Add test module to make it very easy to test camel-main,CAMEL-14164,13267442,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/11/11 10:20,2020/3/9 14:31,2021/3/6 6:31,,,,,,,3.x,,camel-test,,,,,,,0,,,,,,"You can use camel-test today and test your Camel routes etc, and whatnot. But for a camel-main project you may want a way to test it bootstrap camel main, ala you test spring-boot etc.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,10:23.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 09 14:31:26 UTC 2020,,,,,,,,0|z08gog:,9.22337E+18,,,,,,,,,,,,,,,"09/Mar/20 13:10;specs;Hi, I am an outreachy applicant. Can I take up this issue?","09/Mar/20 14:31;zregvart;[~specs] this issue has no relevance to the website, do you understand what the issue is about? If so we do like contributions in other areas as well. If not please take care to notice the ""Component"" which should say ""website"" for the website related issues.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-salesforce - Use http4 client instead of jetty,CAMEL-14171,13267654,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/11/12 10:19,2019/11/12 10:19,2021/3/6 6:31,,,,,,,3.x,,camel-salesforce,,,,,,,0,,,,,,We should ideally avoid using jetty http client and use for example apache http client (4.x),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,19:09.0,,,,,,,,0|z08hzk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-resilience4j - Make the SB starter able to use resilience-starter configuration,CAMEL-14189,13269132,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/11/18 18:18,2019/11/20 20:15,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"So you can configure resilience4j via its SB starter JAR, and then refer to the logical name of its SB, Bulkhead etc configuration and then Camel can use that.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,18:41.0,,,,,,,,0|z08r40:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-platform-http - Add SB discovery of http server,CAMEL-14206,13269939,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/11/21 19:50,2019/11/30 13:27,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,We should have the -starter JAR detect the HTTP server of Spring Boot (via spring boot api) and then expose that into the camel platform-http component,,,,,,,,,,,,,,,,,,,,,,,CAMEL-14236,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,50:11.0,,,,,,,,0|z08w2w:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The File component should be able to include the `doneFile` as well,CAMEL-14209,13270121,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,vilmos.nagy,vilmos.nagy,2019/11/22 16:05,2019/12/2 8:23,2021/3/6 6:31,,3.0.0-M3,,,,,3.x,,camel-core,,,,,,,0,,,,,,"I want to sync the files from a directory to an S3 bucket - in case there's a {{doneFile}} in the directory. It's an easy job with the {{file}} component and with the {{aggregator}}.

But I do want to include the {{doneFile}} as well.

As far as I understand it's easy to implement a new query parameter to the file component ({{includeDoneFile}}) and modify the {{GenericFileConsumer}} accordingly (around the 660. line):
{code:java}
            if (endpoint.isDoneFile(file.getFileNameOnly()) && !endpoint.isIncludeDoneFile()) {
                log.trace(""Skipping done file: {}"", file);
                return false;
            }
{code}
Would you accept a PR with this change?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,44:08.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Dec 02 08:23:18 UTC 2019,,,,,,,,0|z08x7c:,9.22337E+18,,,,,,,,,,,,,,,"22/Nov/19 17:44;davsclaus;So you are doing a from file to s3 and in the file directory you are using doneFile option, and want to sync that file as well to s3, even if such a file is an empty marker file?

Yeah sure you are welcome to work on a PR and include an unit test (just mind unit tests goes into camel-core) as file used to be in camel-core for camel 2.x","25/Nov/19 13:45;vilmos.nagy;Yeah, you're understanding is correct - except that the marker file is not empty, they write some comments into that. Those comments are not _that_ important, but the previous solution saved the marker file with the other files, and I'd like to save the marker file as well.

 I'll do the PR this week, thanks.",30/Nov/19 13:54;davsclaus;How is it going with the PR?,"02/Dec/19 08:23;vilmos.nagy;Didn't have the time for it last week, sorry. I'll do it this week ;)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Context DSL to configure camel context using DSL ,CAMEL-14222,13270944,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,omarsmak,omarsmak,2019/11/27 10:32,2019/11/27 10:32,2021/3/6 6:31,,3.0.0,,,,,Future,,camel-core,,,,,,,0,,,,,,"While I was thinking of CAMEL-13807 and the endpoint DSL, I thought it would be cool to combine these DSLs into global camel context DSL where the user just configure DSL without doing much further, e,g:
{code}
camelContext.builder()
                .components().jms(). concurrentConsumers()
                .routes()
                    .from(kafka(....))
                        .marshal().json()
                    .to(file(....))
                .end()
          .start();
{code}
Above is just a rough idea, not sure how feasible it is but I think is going to be very cool to have such feature in Camel, it could simplify camel context to users.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,32:10.0,,,,,,,,0|z092a8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Route Test Coverage in JUnit5,CAMEL-14248,13271979,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,Juliana,Juliana,2019/12/3 15:34,2019/12/16 9:57,2021/3/6 6:31,,,,,,,,,tests,,,,,,,0,,,,,,Enable Route Coverage tooling is not available under JUnit5. ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,40:55.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Dec 16 09:57:41 UTC 2019,,,,,,,,0|z098o0:,9.22337E+18,,,,,,,,,,,,,,,03/Dec/19 15:40;davsclaus;I think its the @EnableRouteCoverage annotation.,03/Dec/19 15:41;davsclaus;And btw you are using camel-test-spring-junit5 ?,"03/Dec/19 22:19;Juliana;Yes I would like to use @EnableRouteCoverage. 

Yes, I have one test class inheriting from org.apache.camel.test.spring.junit5.CamelSpringTestSupport. Other classes don't, they use org.springframework.boot.test.context.SpringBootTest without adding @RunWith(CamelSpringBootRunner.class). ",16/Dec/19 09:57;Juliana;Don't use org.springframework.boot.test.context.SpringBootTest anymore after refactoring.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[camel-mongodb] New MongoClient driver recommendations,CAMEL-14258,13272282,,Improvement,In Progress,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,squakez,squakez,squakez,2019/12/4 16:30,2019/12/16 4:58,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"Starting from version mongo-java-driver 3.7 version, the recommended way to create a connection to MongoDB is using the [MongoClients factory|https://mongodb.github.io/mongo-java-driver/3.7/javadoc/?com/mongodb/client/MongoClient.html] which is finally returning a _com.mongodb.client.MongoClient_.

We're originally using _com.mongodb.MongoClient_ class instead, so we should switch to the new implementation to be aligned with the latest recommendation.",,"squakez commented on pull request #3405: CAMEL-14258: switching old MongoClient to new interface
URL: https://github.com/apache/camel/pull/3405
 
 
   
   * switching com.mongodb.MongoClient to com.mongodb.client.MongoClient
   * Adding support for explicit WriteConcern and ReadPreferences
   * Updated unit test to fit new client
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;12/Dec/19 16:43;githubbot;600","davsclaus commented on pull request #3405: CAMEL-14258: switching old MongoClient to new interface
URL: https://github.com/apache/camel/pull/3405
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;16/Dec/19 04:58;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,CAMEL-14293,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:53.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Dec 12 16:46:07 UTC 2019,,,,,,,,0|z09aj4:,9.22337E+18,,,,,,,,,,,,,,,"10/Dec/19 13:42;squakez;I started the development needed assuming that the new connection bean was going to be compatible with the older one: it's not. I have a couple of open points I'd like to discuss:

1. The [new connection bean|https://mongodb.github.io/mongo-java-driver/3.7/javadoc/?com/mongodb/client/MongoClient.html] is using a different interface and it does not expose all the information exposed by the [old one|https://mongodb.github.io/mongo-java-driver/3.7/javadoc/?com/mongodb/client/MongoClient.html]. That means that any implementation won't be backward compatible. Would it be okey if we break this kind of compatibility in a minor release?

2. If we go ahead with the implementation we will have to let the user configure _WriteConcern_ and _ReadPreference_ properties by declaring them explicitly instead of expecting this configuration to be done by the connection bean like it's now. From development perspective this means that we should introduce a couple of endpoint properties and let the user declare those parameter explicitly (or fallback to default if missing).

I'd like some opinion before going ahead with the development. I've opened [a thread on mongodb-driver group|https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/mongodb-user/6t-1UD_Q83A/v_mgbu3mAQAJ] -without any answer so far: I don't expect any to be honest, as it seems that [those changes was not designed to be compatible|http://mongodb.github.io/mongo-java-driver/3.7/whats-new/#new-entry-point]-. The [old connection bean is deprecated in 3.12 driver|https://mongodb.github.io/mongo-java-driver/3.12/javadoc/com/mongodb/Mongo.html].","10/Dec/19 13:51;davsclaus;Yes this is fine in a minor release, we can add this to the migration guide at
https://github.com/apache/camel/blob/master/docs/user-manual/modules/ROOT/pages/camel-3x-migration-guide.adoc",12/Dec/19 09:12;lb;+1 for migrating to the new client and add release note,"12/Dec/19 16:46;squakez;Thanks [~davsclaus] and [~lb]. I've just created a draft PR https://github.com/apache/camel/pull/3405

Please, have a look and confirm if that is fine or you think there is some change to do. In particular about adding those 2 new properties that were previously provided by the connection bean.

Also, I can work to the migration guide, please, tell me if it makes sense to be part of this PR or I should issue a separate documentation request and work on it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-websocket - Send to all but not to the sender,CAMEL-14261,13272485,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Trivial,,,michael992,michael992,2019/12/5 12:42,2019/12/18 21:20,2021/3/6 6:31,,3.0.0,,,,,,,camel-websocket,,,,,,,0,,,,,,"I want to propose improvement when sending to all if it possible to in some way (maybe adding specific parameter) avoid sending the message to the emitter itself because his sending the message so it just resource consumer and downgrade performance to send to him the message again maybe it can be useful in some case but in other it will be better to not sending again to him.

By the way it will be nice to have some control over who is actually connected in order to be able to create some room concept and others... (just giving easy access to the connected users list should be enough)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,45:45.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Dec 18 21:20:38 UTC 2019,,,,,,,,0|z09bs8:,9.22337E+18,,,,,,,,,,,,,,,"05/Dec/19 12:45;davsclaus;Yeah I dont think it should send to itself. So lets fix it to send to all other parties (we can update the doc to say that).

You are welcome to attempt to implement this.",05/Dec/19 12:49;michael992;Ok i'll do but i think it will better to have a choice because in some cases it can be useful to really send to all,"18/Dec/19 21:20;michael992;Hello i didn't not find a 'light way' to do that my first idea it was to use network ip:port but is not a possibility i think, so the only way i see now is to memorize some information like a session id that i will send and get back for every message (i see something equivalent in the code) is the good way ?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-rabbitmq - Allow to specify header with override queue name,CAMEL-14280,13273521,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2019/12/10 4:35,2020/10/5 5:39,2021/3/6 6:31,,,,,,,3.x,,camel-rabbitmq,,,,,,,0,,,,,,"So you can route to dynamic queues via the same rabbitmq endpoint/producer. There are already a number of headers that can use to control the message
https://camel.apache.org/components/latest/rabbitmq-component.html#_message_headers

Lets see if we can add OVERRIDE_QUEUE_NAME to specify a name that overrides the queue name from the endpoint uri

See SO
https://stackoverflow.com/questions/59259050/how-to-pass-queue-name-to-camel-route-via-a-variable",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,35:51.0,,,,,,,,0|z09i6o:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support sync reads/read locking in JCachePolicyProcessor,CAMEL-14281,13273554,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jensgr@gmx.net,jensgr@gmx.net,2019/12/10 8:35,2019/12/11 9:53,2021/3/6 6:31,,3.0.0,,,,,3.x,,camel-jcache,,,,,,,0,,,,,,"Currently, if two requests for the same cache key come in simultaneously, both requests will execute the route decorated with the cache policy. If this route includes expensive calculations/integrations this may be undesirable. Instead, only the first request should kick off the real route, and the second should block on the cache read until the result of the first route has entered the cache.

 

Spring, for example, supports this with the ""sync"" parameter on @Cacheable.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,32:39.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Dec 11 09:35:43 UTC 2019,,,,,,,,0|z09ie0:,9.22337E+18,,,,,,,,,,,,,,,"10/Dec/19 10:32;davsclaus;Would you be able to work on a implementing this as a PR?
https://camel.apache.org/manual/latest/contributing.html","11/Dec/19 09:35;jensgr@gmx.net;No promises. It's something we need, but it's not the highest priority.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[camel-mongodb-gridfs] Change deprecated MongoClient connection bean,CAMEL-14293,13274333,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,squakez,squakez,2019/12/13 8:13,2019/12/13 8:22,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"As discussed in CAMEL-14258, the mongo-java-driver library is deprecating com.mongodb.MongoClient class in favour of com.mongodb.client.MongoClient interface. We should apply same refactory as provided in camel-mongodb component.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,13:37.0,,,,,,,,0|z09n74:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Doc] Camel-mongodb* components 3.0 to 3.1 migration guide,CAMEL-14294,13274334,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,squakez,squakez,2019/12/13 8:21,2019/12/13 8:23,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"https://github.com/apache/camel/blob/master/docs/user-manual/modules/ROOT/pages/camel-3x-upgrade-guide.adoc

Add a chapter highlighting the changes needed to migrate from camel 3.0 to 3.1 for camel-mongodb and camel-mongodb-gridfs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-14293,CAMEL-14258,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,21:42.0,,,,,,,,0|z09n7c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support OpenTracing SpecialAgent,CAMEL-14305,13274927,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,safris,safris,2019/12/17 8:08,2019/12/17 13:02,2021/3/6 6:31,,3.0.0,,,,,,,,,,,,,,0,,,,,,"The OpenTracing SpecialAgent includes support for the Apache Camel OpenTracing component. Since the release of Camel v3.0.0, the integration fails to install.

For previous versions of Camel, the SpecialAgent has used the  [`InstallOpenTracingTracerRuleTest`|https://github.com/opentracing-contrib/java-specialagent/blob/e5df4f890e29e413e972915bf1adbdc3714519bd/rule/camel/src/test/java/org/apache/camel/opentracing/agent/InstallOpenTracingTracerRuleTest.java] to assert that the Camel OpenTracing component works with SpecialAgent.

Since the release of Camel v3.0.0, the [`InstallOpenTracingTracerRuleTest` that is in Camel's GitHub|https://github.com/apache/camel/blob/master/components/camel-opentracing/src/test/java/org/apache/camel/opentracing/agent/InstallOpenTracingTracerRuleTest.java] has been marked with `@Ignore`. When I remove the `@Ignore` annotation, the test fails. I am not experienced with the Camel OpenTracing component to attempt to debug this issue.

Currently, SpecialAgent integrates the Camel OpenTracing component for [versions 2.24.0 to 2.24.2|https://github.com/opentracing-contrib/java-specialagent/#61-instrumentation-plugins]. Does the Apache Camel team desire integration of the Camel 3.0.0 OpenTracing component in SpecialAgent? ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,19:03.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Dec 17 13:02:48 UTC 2019,,,,,,,,0|z09qv4:,9.22337E+18,,,,,,,,,,,,,,,17/Dec/19 08:19;davsclaus;[~garybrown] wonder if you can help and take a look at this?,"17/Dec/19 12:34;objectiser;I applied the following change and it worked:
{noformat}
-@Ignore
 public class InstallOpenTracingTracerRuleTest extends CamelTestSupport {
 
-    @BindToRegistry(""tracer"")
     private static MockTracer tracer = new MockTracer(Propagator.TEXT_MAP);
 
     @EndpointInject(""mock:result"")
@@ -45,6 +44,18 @@ public class InstallOpenTracingTracerRuleTest extends CamelTestSupport {
     @Produce(""direct:start"")
     protected ProducerTemplate template;
 
+    @Override
+    protected CamelContext createCamelContext() throws Exception {
+        CamelContext context = super.createCamelContext();
+
+        OpenTracingTracer ottracer = new OpenTracingTracer();
+        ottracer.setTracer(tracer);
+
+        ottracer.init(context);
+
+        return context;
+    }
+
     @Before
     public void init() {
 {noformat}

But depends whether the @BindToRegistry is important for the agent?
","17/Dec/19 13:02;davsclaus;Gary, no BindToRegistry is not important in this matter as setting up open tracing is done as you do above, so you are welcome to provide a fix as PR",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow to customize opentracing information,CAMEL-14322,13275859,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dschulten,dschulten,2019/12/21 10:05,2019/12/28 8:15,2021/3/6 6:31,,,,,,,,,,,,,,,,1,,,,,,"Allow to hook in a custom enricher where you can add custom data from the current exchange to opentracing traces.

E.g. put a process instance id from some process manager into opentracing baggages for correlation purposes.

Also see CAMEL-12879 and [https://stackoverflow.com/q/59428904/743507]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Dec 28 07:56:30 UTC 2019,,,,,,,,0|z09wm8:,9.22337E+18,,,,,,,,,,,,,,,21/Dec/19 11:31;dschulten;See if we can build upon decorators: [https://github.com/apache/camel/commit/6b089f89c84acc81b0e918cd838f1b2619d75fa4],"28/Dec/19 07:56;dschulten;SpanDecorators are not a good fit to observe an exchange. They are component-specific and they run for every span, not just for the beginning of an exchange.

There are two issues to solve:
 # Allow to observe spans and put traceId, spanId and baggage items into the MDC
 # Allow to add an observer on all exchanges which allows you to write an observer to add information from the exchange to the current span, so you do not have to add interceptors on routes. 

The first is already possible. I was able to implement an {{MdcTracerObserver}} experimentally, based {{on the io.opentracing.contrib:opentracing-api-extensions-tracer}}. Basically, you wrap the {{io.opentracing.Tracer}} into an {{APIExtensionsTracer}} where you can register a {{TraceObserver}}. However I would suggest to make this similar to camel-zipkin and integrate with the {{useMDCLogging}} flag on CamelContext. If that flag is true, we could wrap the tracer and add a default {{MdcTracerObserver}} similar to my experiment (see below). In addition, we could consider to let camel's {{OpenTracingTracer}} implement the {{APIExtensionsManager}} interface directly so people could add their own tracerObservers, as suggested in the readme of opentracing-api-extensions.

The second issue would require to introduce something like a {{TracingExchangeObserver}} with a method that receives the current exchange and the active span and call that in {{OpenTracingEventNotifier.notify}} and {{OpenTracingRoutePolicy.onExchangeBegin}}.

What do you think? Should I create a PR along these lines?

I have made sure that the solution works with Karaf in a forked branch of karaf-camel-example-java: [https://github.com/dschulten/karaf/tree/opentracing-mdc/examples/karaf-camel-example/karaf-camel-example-java]

Also see [https://github.com/opentracing-contrib/java-api-extensions] for the OpenTracing {{TraceObserver}} mechanism.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-osgi-activator Integration test fails on JDK 9 plus,CAMEL-14341,13276912,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Trivial,,,bob,bob,2019/12/30 17:29,2020/2/6 21:09,2021/3/6 6:31,,3.1.0,,,,,3.x,,,,,,,,,0,,,,,,"Mentioned in [https://github.com/apache/camel/pull/3435] that the IT fails on JDK 11 builds.  Currently the PAX-EXAM karaf plugin does not contain post Java 8 classpath entries.  This is addressed with VM overrides in the karaf itests. 

See [https://github.com/apache/karaf/blob/master/itests/common/src/main/java/org/apache/karaf/itests/KarafTestSupport.java#L184]

I made an attempt at integrating the KarafTestSupport but there were some container start issues I'm still working through.

Propose adding VM options to the IT directly to make the tests pass then continuing to work through the KarafTestSupport integration.",,"bobpaulin commented on pull request #3454: CAMEL-14341: Simple add jdk9plus classpath to make test pass.
URL: https://github.com/apache/camel/pull/3454
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;30/Dec/19 17:32;githubbot;600","davsclaus commented on pull request #3454: CAMEL-14341: Simple add jdk9plus classpath to make test pass.
URL: https://github.com/apache/camel/pull/3454
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;31/Dec/19 05:32;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,09:00.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 06 21:09:00 UTC 2020,,,,,,,,0|z0a348:,9.22337E+18,,,,,,,,,,,,,,,06/Feb/20 21:09;davsclaus;So its more a pax-exam karaf plugin issue. Are they releasing a new version that would work with JDK11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create a camel-mutiny component,CAMEL-14381,13278449,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,nferraro,lb,lb,2020/1/9 13:27,2020/10/7 5:00,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,1,,,,,,"We should create a mutiny component, similar to camel-reactive-streams 
https://github.com/smallrye/smallrye-mutiny

{code:java}
CamelMutiny.on(context)
    .toMulti(servicenow().table(""incident"").max(100))
    .then(m -> doSomething(m))
    .await().indefinitely();
{code}

In Quarkus, we can nicely integrate camel into reactive messaging, like:

{code:java}
@Inject
CamelMutiny mutiny;

@Outgoing
Multi<Whatever> fromEndpoint() {
    return mutiny.toMulti(servicenow().table(""incident"").max(100));
}
@Outgoing
Multi<Whatever> fromEndpointURI() {
    return mutiny.toMulti(""servicenow?table=incident"");
}

@Incoming
void toEndpoint(Multi<Item> items) {
    return mutiny.subscribeTo(items)
        .with(servicenow().table(""incident"").max(100).async());
}
@Incoming
void toEndpointURI(Multi<Item> items) {
    return mutiny.subscribeTo(items)
        .with(s""servicenow?table=incident"");
}
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,18:12.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Feb 10 09:18:12 UTC 2020,,,,,,,,0|z0ac94:,9.22337E+18,,,,,,,,,,,,,,,10/Jan/20 11:05;lb;/cc [~nferraro],10/Feb/20 09:18;davsclaus;Nicola are you working on this or we would move it to 3.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-aws - S3 get with include body = false reports a stream error WARN,CAMEL-14386,13278481,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,acosentino,davsclaus,davsclaus,2020/1/9 15:16,2020/6/11 7:54,2021/3/6 6:31,,2.22.0,,,,,3.x,,camel-aws,,,,,,,1,,,,,,"We should take a look at this
https://stackoverflow.com/questions/59650142/camel-aws-s3-not-all-bytes-were-read-from-the-s3objectinputstream-aborting-ht?noredirect=1#comment105490591_59650142

And if its still a problem on 3.x, then try to fix it by doing that GET range or whatever is needed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,16:29.0,,,,,,,,0|z0acg8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Utility to scaffold subproject resources out of a component,CAMEL-14394,13279027,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/1/13 9:40,2020/3/20 6:30,2021/3/6 6:31,,,,,,,3.x,,tooling,,,,,,,1,,,,,,"camel-spring-boot ha an utility to automatically generate/scaffold starters and a similar utility could be very useful for other subprojects:

- camel-kafka-connector to generate/scaffold connectors
- camel-quarkus  to generate/scaffold extensions



",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Jan 13 09:41:57 UTC 2020,,,,,,,,0|z0afu0:,9.22337E+18,,,,,,,,,,,,,,,13/Jan/20 09:41;lb;I know that some work is already ongogin by [~gnodet] to make amel-spring-boot ' startr-add/delete generic enough to be re-used by sub-projects,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Problem when recovering RabbitMQ connections when using a connectionFactory and the automaticRecoveryEnabled option,CAMEL-14405,13279568,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Chotard,Chotard,2020/1/15 11:19,2021/1/21 7:55,2021/3/6 6:30,,2.24.3,,,,,3.x,,camel-rabbitmq,,,,,,,0,,,,,,"The Camel RabbitMQ endpoint has a connectionFactory property allowing you to use an existing RabbitMQ connection factory.
{code:java}
from(""rabbitmq://server:5672?connectionFactory=#brokerConnectionFactory&..."");

ConnectionFactory brokerConnectionFactory = new com.rabbitmq.client.ConnectionFactory();
  brokerConnectionFactory.setHost(hostname);
  brokerConnectionFactory.setPort(port);
  brokerConnectionFactory.setVirtualHost(virtualHost);
  brokerConnectionFactory.setUsername(username);
  brokerConnectionFactory.setPassword(password);
  brokerConnectionFactory.setAutomaticRecoveryEnabled(true);
{code}
The documentation states ""When this option is set, all connection options (connectionTimeout, requestedChannelMax? set on URI are not used"".

We observed problems during the recovery of connections to the broker when using the automaticRecoveryEnabled option which is present at the connectionFactory level and at the camelEndpoint level :
{code:java}
from(""rabbitmq://server:5672?connectionFactory=#brokerConnectionFactory&automaticRecoveryEnabled=..."");
{code}
*1/* If camelEndpoint.automaticRecoveryEnabled = false and connectionFactory.automaticRecoveryEnabled = false => {color:#de350b}The connection and the channel are manually recreated by Camel RabbitMQ. On the other hand the doStart () is not invoked by the start () an{color}{color:#de350b}d the consumption of messages via channel.basicConsume is never reset. Messages are no longer consumed.{color}

*2/* If camelEndpoint.automaticRecoveryEnabled = true and connectionFactory.automaticRecoveryEnabled = false => {color:#de350b}Endless attempt to reconnect: Unable to obtain a RabbitMQ channel. Will try again. Caused by: Waiting for channel to re-open. Camel waits for RabbitMQ client to reset connection indefinitely{color}{color:#de350b}.{color} {color:#de350b}Messages are no longer consumed.{color}

*3/* If camelEndpoint.automaticRecoveryEnabled = false and connectionFactory.automaticRecoveryEnabled = true => {color:#de350b}Conflict in reopening channels by Camel Endpoint and by RabbitMQ client. Unknown delivery tag when using basickAck in doHandleDelivery and ShutdownSignalException at the initiative of the application{color}{color:#de350b}. Messages are no longer consumed.{color}

*4/* If camelEndpoint.automaticRecoveryEnabled = true and connectionFactory.automaticRecoveryEnabled = true => {color:#00875a}It works{color}.

The cause of 1 seems to come from the doStart() method which is not called if the consumer is already started :
{code:java}
@Override 
protected void doStart() throws Exception {
   if (channel == null) { 
      throw new IOException(""The RabbitMQ channel is not open""); 
   }
   tag = channel.basicConsume(consumer.getEndpoint().getQueue(), consumer.getEndpoint().isAutoAck(), """", false, consumer.getEndpoint().isExclusiveConsumer(), null, this); 
}
{code}
The cause of 2 and 3 seems to come from the isAutomaticRecoveryEnabled() methods of RabbitConsumer and RabbitMQConsumer classes which tests the value of the property automaticRecoveryEnabled only on the camelEndpoint and not on the connectionFactory :
{code:java}
private boolean isAutomaticRecoveryEnabled() {}}
    return this.endpoint.getAutomaticRecoveryEnabled() != null
        && this.endpoint.getAutomaticRecoveryEnabled();
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15874,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,23:44.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jan 21 07:55:11 UTC 2021,,,,,,,,0|z0aj5s:,9.22337E+18,,,,,,,,,,,,,,,07/Jan/21 14:23;davsclaus;We are considering rewriting the component and since the CF out of the box has automatic recovery then we shouldn't have all that complex logic in camel-rabbitmq.,21/Jan/21 07:55;davsclaus;There is a new camel-spring-rabbitmq in Camel 3.8 onwards to use,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate OpenClover usage,CAMEL-14465,13282441,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,gnodet,gnodet,gnodet,2020/1/30 16:54,2020/1/30 16:54,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,[http://openclover.org/doc/manual/4.2.0/general--what-is-test-optimization.html],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,54:56.0,,,,,,,,0|z0b0i0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-jcache - Dynamically bypass the cache for lookups,CAMEL-14467,13282573,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,dmvolod,jensgr@gmx.net,jensgr@gmx.net,2020/1/31 9:58,2020/3/31 8:04,2021/3/6 6:31,,3.0.1,,,,,3.x,,camel-jcache,,,,,,,0,,,,,,"Currently, the JCachePolicy can only enabled or disable the cache completely at startup.

 

It would be useful to be able to enable or disable caching per request, though. This change adds a new property ""bypassExpression"". If this expression is set and returns true, the cache is ignored for lookup, the underlying route is executed as normal, and the returned value is inserted in the cache for future lookups.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31/Jan/20 09:58;jensgr@gmx.net;bypass.diff;https://issues.apache.org/jira/secure/attachment/12992312/bypass.diff,,,,,1,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,Patch,,,,,,,,9.22337E+18,,,58:40.0,,,,Patch Available,,,,0|z0b1bc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-github: Switch from egit to kohsuke github-api ,CAMEL-14470,13282780,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2020/2/1 17:41,2021/1/4 15:41,2021/3/6 6:30,,,,,,,Future,,camel-github,,,,,,,0,,,,,,"Egit is not updated from a while, at least the version in mylyn. The github-api from kohsuke is actually the best Java client out there. So probably it makes sense to switch.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Jan 04 15:41:22 UTC 2021,,,,,,,,0|z0b2lc:,9.22337E+18,,,,,,,,,,,,,,,04/Jan/21 15:41;acosentino;Or maybe create a new component based on this? camel-github works fine.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Optimize use HashMap for exchange properties,CAMEL-14472,13282853,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/2/2 17:44,2020/3/9 11:36,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"We can likely use HashMap instead of ConcurrentHashMap for exchange properties as concurrency access is improved in 3.x with the new routing engine.

This reduces the number of object allocations as hash map is less overhead than a concurrent hashmap.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,56:37.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 09 11:36:22 UTC 2020,,,,,,,,0|z0b31k:,9.22337E+18,,,,,,,,,,,,,,,"09/Mar/20 07:56;specs;Hi, I am an outreachy applicant. Can I work on this issue?",09/Mar/20 08:02;acosentino;The outreachy participation of Apache Camel is only related to the camel-website. This is not a camel-website issue and also it requires a bit of knowledge of where and when to change the class usage. ,09/Mar/20 08:15;specs;Ok but some UI changes were mentioned to be made on the Airflow website in the projects list. Can you please let me know about those issues?,"09/Mar/20 11:36;zregvart;[~specs] Apache Camel and Apache Airflow are two different projects under the Apache Software Foundation, please refer to the [Airflow Outreachy project page|https://www.outreachy.org/outreachy-may-2020-internship-round/communities/apache/#extend-improve-apache-airflow-rest-api] for details on Airflow.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Have a middle folder for aws and aws2 components,CAMEL-14490,13283286,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,davsclaus,davsclaus,2020/2/4 17:00,2020/2/4 17:02,2021/3/6 6:31,,,,,,,3.x,,camel-aws,camel-aws2,,,,,,0,,,,,,"Lets see if we can have 

- camel-aws
- camel-aws2

as middle folders, where we have all the aws-sks sqs and etc as sub folders. 

The stuff that builds the camel-catalog may need to be updated too, so it can scan these sub folders. But it may already work as its done for camel-box and camel-salesforce etc which has middle folders too.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,00:33.0,,,,,,,,0|z0b5f4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a Kotlin DSL to camel,CAMEL-14496,13283481,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,omarsmak,omarsmak,2020/2/5 13:41,2020/2/5 13:47,2021/3/6 6:31,,3.0.1,,,,,Future,,camel-kotlin,,,,,,,0,,,,,,"When we were in FOSDEM, we got asked few times if we have a kotlin DSL. Hence I decided to create this ticket as a placeholder. However I am not really sure about its feasibility and longer term plans. What do you guys thought of this? [~acosentino] [~davsclaus]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,44:44.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 05 13:47:45 UTC 2020,,,,,,,,0|z0b6mg:,9.22337E+18,,,,,,,,,,,,,,,05/Feb/20 13:44;acosentino;Maybe we can have a discussion on the dev mailing list.. In the past this kind of stuff wasn't easy to mantain... This is my first thought :D,"05/Feb/20 13:47;omarsmak;I am honestly neutral about it, however we can start this discussion in the dev mailing list ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow to generate component/endpoint fluent DSL with camel-package-maven-plugin:generate-component goal,CAMEL-14511,13283715,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/2/6 14:40,2020/8/29 13:07,2021/3/6 6:31,,,,,,,3.x,,tooling,,,,,,,1,,,,,,"CAMEL-14503 introduces camel-package-maven-plugin:generate-component which should be used by external component but it does not allow to generate fluent component/endpoint DSLs. 

Fluent DSLs generated cannot be part of an aggregate class like EndpointRouteBuilder but should be possible to use at lest static methods. 



",,,,,,,,,,,,,,,,,,CAMEL-14503,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:37.0,,,,,,,,0|z0b82g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-grpc - Allow reference to custom ClientInterceptor or Producer to customize authentication,CAMEL-14512,13283728,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,dmvolod,pmontesano,pmontesano,2020/2/6 15:42,2020/11/23 18:04,2021/3/6 6:31,,,,,,,3.x,,camel-grpc,,,,,,,0,,,,,,"The [GRPC component|https://github.com/apache/camel/blob/master/components/camel-grpc/src/main/docs/grpc-component.adoc] does currently not offer the possibility to intercept the connection establishment against the gRPC server out of the box.

This prevents to add custom authentication to the channel/connection setup. And since the gRPC component does not offer this custom implementation out of the box, the currently only solution is:

* Implement a custom {{GrpcComponent}}
* Implement a custom {{GrpcEndpoint}}
* Implement a custom {{GrpcProducer}} or {{DefaultAsyncProducer}}
** Override the {{doStart()}} method
** Instantiate the {{Channel}}
** Add a custom {{ClientInterceptor}} and override the {{interceptCall()}} method
** Add headers to the metadata of the prepared call

Even though there are the properties {{authenticationType=JWT}}, {{jwtSecret}}, {{jwtIssuer}} and so on, these arguments only allow constant strings. Therefore, no retrieval of OAuth tokens (for example) during the runtime is possible, but everything would have to be hard-coded.

The [AHC-WS component|https://github.com/apache/camel/blob/master/components/camel-ahc-ws/src/main/docs/ahc-ws-component.adoc] in contrast, offers this possibility by implementing a custom {{AsyncHttpClient}} and pointing to it via the {{camel.component.ahc-ws.client}} property in the {{application.yml}}. Like this, the connection setup of the websocket can easily be intercepted by overriding {{DefaultAsyncHttpClient.prepareGet()}} where OAuth tokens (for example) can be passed and added to the handshake.","* Java 11
* SpringBoot 2.1.5.RELEASE
* Camel 3.0.0-M2
* Camel-Grpc-Starter 3.0.0-M2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,52:36.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 06 15:52:35 UTC 2020,,,,,,,,0|z0b85c:,9.22337E+18,,,,,,,,,,,,,,,"06/Feb/20 15:52;acosentino;You're welcome to work on this, but we need to consider the existing users.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support for OpenTelemetry,CAMEL-14531,13284520,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2020/2/11 8:26,2020/3/30 8:03,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,gsoc2020,help-wanted,metrics,tracing,,[OpenTelemetry|https://opentelemetry.io/] is becoming more and more relevant and would be nice to support it in camel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,03:15.0,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 30 08:03:14 UTC 2020,,,,,,,,0|z0bd1k:,9.22337E+18,,,,,,,,,,,,,,,"30/Mar/20 08:03;amfirnas22;hi,

My name is Firnas, Msc student from Colombo, Sri Lanka. I am new to this Apache open source development. But I am confident that I can develop skills on this when I spend more time in future. I would like to work on this task for gsoc2020. I have just started looking in to this. can someone guide me to write proposal ?

thanks.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-website - Sidebar menu tidy up names,CAMEL-14567,13285314,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/2/14 12:28,2020/3/31 19:17,2021/3/6 6:31,,,,,,,,,,,,,,,,0,help-wanted,website,,,,"Apache Camel extensions for Quarkus
Apache Camel K
Apache Camel Kafka Connector
Camel Spring Boot Starters
Component reference
User manual

Make this into

Camel Components
Camel Kafka Connectors
Camel Quarkus Extensions
Camel Spring Boot Starters
User manual
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23/Mar/20 09:57;zregvart;Screenshot_2020-03-23 Apache Camel user manual - Apache Camel.png;https://issues.apache.org/jira/secure/attachment/12997400/Screenshot_2020-03-23+Apache+Camel+user+manual+-+Apache+Camel.png,,,,,1,,,,,,,,,,,,,,,,,,,,35:27.4,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Mar 31 19:17:55 UTC 2020,,,,,,,,0|z0bhy0:,9.22337E+18,,,,,,,,,,,,,,,"28/Feb/20 10:35;zregvart;This needs changing in the {{docs/antora.yml}} files in each documentation module, for example for Camel Quarkus it's [here|https://github.com/apache/camel-quarkus/blob/c34d83e81524df1289ca659cc4a7955de04c78ce/docs/antora.yml#L19].","06/Mar/20 06:15;Shula_Aso;Hello [~zregvart], i'm an outreachy applicant. And i'ld love to contribute to this project during and after the outreachy contribution phase.  I want to know please if i can get assigned this issue for a start.       Also if there is another newComer friendly issue that you think would be a better place for me to start, i'ld appreciate if i can get assigned that one. if not, i think this is also good one.","06/Mar/20 09:40;zregvart;Hi all, just in case you haven't already received this information on how to contribute I'll enclose it in here first, I'll try to address your individual comments next.

We much appreciate your interest and willingness to contribute, I don't think it makes much sense for all of you to work on the same issue. There's also no need to have a competition on who gets to contribute first, we have plenty of other issues (outlined below) that you can help with. Since most of you are interested in participating in the Outreachy program, and help with the website, please have a look at some issues in that area via this search:

https://issues.apache.org/jira/issues/?jql=project%20%3D%20CAMEL%20AND%20status%20%3D%20Open%20AND%20component%20%3D%20website

And feel free to propose new ideas by creating new issues around the website.

For those wondering how to get started contributing to the website.

Make sure have a [GitHub account|https://github.com/join], read how you can [get started|https://help.github.com/en/github/getting-started-with-github], and [create a pull request|https://help.github.com/en/github/collaborating-with-issues-and-pull-requests].

Have a look at the [README.md|https://github.com/apache/camel-website/blob/master/README.md] in the website project on how to build and how to preview your changes on your own computer.

I'll try to address the questions in you comments here, for future conversations please do subscribe to the developer's mailing list and send emails there, discussions on the Jira issues can get a bit out of control and it's not that easy to follow the conversation here.

The following text includes information on how to reach us, and get started:

First of all, thank you for having an interest in contributing to Apache Camel.

Here are some guidelines on how to best approach the Apache Camel community and how to best apply yourself.

1. Communication

Apache Camel is an Apache Software Foundation project, all communication is done in the open on the project mailing lists.

You can read more on the reasoning behind this to get a better understanding of:

https://www.apache.org/foundation/mailinglists.html

All communication is subject to the ASF Code of Conduct, which you can read here:

https://www.apache.org/foundation/policies/conduct.html

For questions and guidance around contributing subscribe to the developer's mailing list by sending an e-mail to dev-subscribe@camel.apache.org.

We can also be reached on the Gitter chat at https://gitter.im/apache/apache-camel/.

We track issues using ASF Jira located at:

https://issues.apache.org/jira/browse/CAMEL

Where we maintain a list of issues that are easy to get started with, so you can familiarize yourself with the process and get your first contribution in:

https://issues.apache.org/jira/issues/?filter=12348073

And some areas that we are actively looking for help on:

https://issues.apache.org/jira/issues/?filter=12348074

When you're ready to contribute create a Pull request to one of the Camel projects you can find under the Apache organization on GitHub:

https://github.com/apache?q=camel

Expect that your Pull request will receive a review and that you will need to respond and correspond to that via comments at GitHub.

2. Getting started

Read the ""Contributing to Apache Camel"" document on the Camel website:

https://camel.apache.org/manual/latest/contributing.html

Identify areas you can contribute first. You don't have to be an expert in an area, the Apache Camel developers are available to offer help and guidance.

Introduce yourself on the developer's mailing list (see above), tell us what area of work or problem you wish to address in Camel. Create a draft of your solution, this can be simple 1-2 sentences on the change you wish to make. Try to be as specific as you can: include a short description of your intent, what you tried and what didn't work, or what you need help with. The best way of approaching the developers is by describing what you would like to work on and asking specific questions on how to get started. We'll do our best to guide you and help you make your contribution. 

We also participate in Google Summer of Code and Outreachy programs, for information about those look at those program websites. If you wish to participate in either of those follow the guidelines and schedule set by those programs. If you're unsure please reach out via official communication channels of those programs, or ask on the developer's mailing list for help.

3. Your first contribution

Make sure you followed the steps and guidelines outlined above. For bigger changes, make sure that you have discussed on the developer's mailing list or in the Jira issue tracker before hand. We love receiving contributions, to get the best response make sure that the reasoning behind the contribution you wish to make is clear: outline the problem and explain your solution for it.

Make sure you follow the guidelines outlined in the ""Contributing to Apache Camel"" document. Be respectful of the source checks, formatting and the structure of the git commit message we abide by. This will help you in getting your contribution accepted. Outline any changes you made but are unaware or unsure of any consequences or side effects.

Stay engaged, follow and respond to comments or questions you might be asked.

With that I wish you all the best and please do have fun while contributing to Apache Camel, we certainly do :)","11/Mar/20 12:19;Bob160;[~zregvart]may I take up this issue?

Thanks","11/Mar/20 12:47;zregvart;[~Bob160] feel free to, thanks!","16/Mar/20 19:28;RimshaCh;I was going through the description and from my understanding ,we have to reorganize the names in the navbar?","18/Mar/20 18:38;aashnajena;Hi! Does this issue still persist? I think some part of it has already been done. If I'm mistaken and there are more tasks to be done, can I please take this up? :)","18/Mar/20 19:31;RimshaCh;Hey [~aashnajena] ,I was going through the issue,I wanted work on the side bar of blog page.It's not consistent with other page's side bar.I think it's important to have consistency in design  for all pages in a website.
 We should  coordinate so that we don't duplicate any work.
","23/Mar/20 09:59;zregvart;From the description this looks like an issue in this menu:

 !Screenshot_2020-03-23 Apache Camel user manual - Apache Camel.png! 

That can be accessed bottom left. Those are component names in Antora terminology and they need to be changed, as described in the [comment above|https://issues.apache.org/jira/browse/CAMEL-14567?focusedCommentId=17047443&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17047443].","23/Mar/20 10:05;jyotiattri;Hi [~zregvart], 

I want to work on this issue but shows error.

 For this, I need to change in [https://github.com/apache/camel-quarkus/blob/c34d83e81524df1289ca659cc4a7955de04c78ce/docs/antora.yml#L19]. So after changing the text, I was trying to build the repository to run the tests. For that, I need to install maven but when I am running this command in Powershell it shows error. Please help me, if I am wrong then tell me. I have asked this error in Gitter chat also but no reply there.",23/Mar/20 12:46;RimshaCh;[~zregvart] thankyou for the help.,"23/Mar/20 12:51;RimshaCh;[~jyotiattri] hi , I am already working on this ,just don't want that we duplicate work.I am rearranging the sidebar as listed in the comment and description above.","23/Mar/20 13:01;jyotiattri;[~RimshaCh], Ok","27/Mar/20 19:01;RimshaCh;[~zregvart] hi I made changes in the antora.yml of required documentations , however to test run the changes  do I require to run the documentation module? However that still would not preview me how the changes are appearing in the main website,could you guide me here ?",30/Mar/20 11:23;zregvart;[~RimshaCh] have a look at the [Antora documentation|https://docs.antora.org/antora/2.2/playbook/configure-content-sources/#current-branch],31/Mar/20 19:17;RimshaCh;Thankyou [~zregvart],,,,,,,,,,,,,,,,,,
camel-core - TypeConverter scanning for @Converter should be in its own JAR,CAMEL-14573,13285577,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/2/16 10:50,2020/2/16 10:50,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"We can move the logic for Camel 2.x style @Converter annotation scanning to its own JAR and outside camel-core / camel-core-engine so you need to opt-in to enable this.

Today you need to set a flag on camel context to enable this. But instead we can have it as a JAR on classpath. Then the code is outside camel-core and we avoid a bit of complexity to support both the new fast style via source code generated loaders vs old style.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,50:11.0,,,,,,,,0|z0bjkg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Optimize type converter for core common,CAMEL-14574,13285614,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/2/16 12:45,2020/2/16 12:45,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"An idea is to source code generate a single class with switch statements for from -> to, so we avoid adding them into the TC registry via DoubleMap which takes up heap memory and also the lookup requires to build a hash key.

If we source code generate a single class with a single method that does a switch on the from, and then another switch per to that it supports, and then invoke the coverter, then there is no map registration needed and we can save heap memory, and the coverter is faster also.

The JVM can much better optimize switch java code.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,45:35.0,,,,,,,,0|z0bjso:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-microprofile-opentracing,CAMEL-14583,13285841,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/2/17 19:28,2020/11/8 17:24,2021/3/6 6:30,,,,,,,3.x,,,,,,,,,0,gsoc2020,help-wanted,,,,"A camel module for this spec
https://github.com/eclipse/microprofile-opentracing

Its likely using the existing camel-opentracing and then implement the spec API and use smallrye implementation
https://github.com/smallrye/smallrye-opentracing",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,20:55.8,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Nov 08 17:24:43 UTC 2020,,,,,,,,0|z0bl74:,9.22337E+18,,,,,,,,,,,,,,,"10/Mar/20 22:20;madhawak;Hi All, 

I'm interested to work on this for the GSOC 2020 I will share my proposal and design soon. 

Thanks,
Madhawa","08/Nov/20 17:24;Kishani Kandasamy;Hi, My name is Kishani Kandasamy ,currently  I'm pursuing  B.Sc Honours degree in Computer Science at the University of Jaffna , Sri Lanka.I'm particularly interested in this issue to  complete as my GSoC 2021 project.I would like to  request  guidance  regarding this issue.Thanks.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Auto configure component/dataformat/languages when they are initialized,CAMEL-14600,13286506,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2020/2/20 15:35,2021/1/21 14:43,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"As today the auto configuration of components is delegated to the runtime so as example, spring-boot auto configure components with the help of some CamelXYZAutoConfiguration classes, whereas the camel-main scans properties for those that starts with camel.component and configure the related components.

I wonder if we can have a single point where component, dataformat, language & co auto-configuration take place regardless of the runtime camel runs on.

As example for components, the auto configuration could happen when they are initialized like:
- search for component-configurer (it is done already)
- use the component-configurer - if any - to initialize the component 

The component-configurer generator could also be enhanced not only to apply given properties but also to look them up from the camel context with a method like:

{code:java}
    public boolean configure(CamelContext camelContext, String componentName);
{code}
    
The advantage of such implementation would be that:
- component are consistent configured across runtimes (i.e. at the moment spring boot starters have an option to provide customizers to let use tune component configurations)
- with auto generated code we could reduce the need to create intermediate objects on camel-main



",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-14672,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,34:51.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Mar 17 09:28:00 UTC 2020,,,,,,,,0|z0bpaw:,9.22337E+18,,,,,,,,,,,,,,,"17/Mar/20 08:34;davsclaus;The spring boot XYZ auto configuration classes is needed to make it spring boot standard and also for sb tooling metadata.
So I think we should keep those.

",17/Mar/20 09:28;lb;Right wonder if we should keep the XyzConfiguration and change the XyzAutoConfiguration to create XyzConfigurer so the core camel behaviour would be consistent in any case (and maybe we can auto generate SpringBootXyzConfgurers),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - RoutingSlip EIP leverage reactive executor for each slip,CAMEL-14603,13286685,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2020/2/21 8:52,2020/10/7 4:58,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"Lets see if we can rework the RoutingSlip to be more like Pipeline where each step is handed over to the reactive executor. 

It is essentially just a pipeline where the processors is computed dynamic before.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Advanced,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 21 19:19:22 UTC 2020,,,,,,,,0|z0bqeg:,9.22337E+18,,,,,,,,,,,,,,,"21/Feb/20 19:19;davsclaus;camel-jms has a tx test that is hits a corner case
AsyncEndpointJmsTXRoutingSlipTest",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a camel-asyncapi component ,CAMEL-14610,13287008,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jondruse,lb,lb,2020/2/22 19:58,2020/2/24 9:44,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"We should create a an AsyncAPI (https://www.asyncapi.com/ ) component, similar to the OpenAPI one",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,58:40.0,,,,,,,,0|z0bse8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce a SPI to automatic bind data format to transports,CAMEL-14619,13287964,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,lb,lb,lb,2020/2/27 8:34,2020/2/28 9:43,2021/3/6 6:31,,,,,,,3.x,,camel-core-api,,,,,,,0,gsoc2020,help-wanted,,,,"Some data formats such as the future CloudEvent one (https://issues.apache.org/jira/browse/CAMEL-13335) have specifications that describe how to bind them to specific transports (https://github.com/cloudevents/spec) so we should introduce a SPI to make this binding automatic so in a route like:


{code:java}
from(""undertow://http://0.0.0.0:8080"")
    .unmarshal().cloudEvents()
    .to(""kafka:my-topic"");
{code}

the exchange gets automatically translated to a Kafka message according to the CloudEvent binding specs for Kafka.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,43:52.4,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 28 09:43:52 UTC 2020,,,,,,,,0|z0by2g:,9.22337E+18,,,,,,,,,,,,,,,"28/Feb/20 09:43;zregvart;[~lb] I've added labels to help find this issue for GSoC, if you're already working on this please remove them.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support custom type converters for Enums,CAMEL-14631,13288438,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,claussni,claussni,2020/2/29 9:38,2020/3/2 11:33,2021/3/6 6:31,,,,,,,,,came-core,,,,,,,0,,,,,,"It should be possible to provide a custom TypeConverter for converting strings into an Enum instances.

The conversion of `String` to `Enum` is hard coded to fail with an Exception if `EnumTypeConverter` cannot instantiate an `Enum` constant by name. However, Java allows to override the string representation for enums. Converting such strings back to enums is only possible through a special converting function.

Currently `org.apache.camel.impl.converter.EnumTypeConverter` tries to find the Enum instance by name. If that fails it falls back  to calling the built-in valueOf(String) method which will end the program with a RuntimeException. The type conversion process stops there instead of further looking for custom type converters. The line with `return null;` in `EnumTypeConverter` is never reached. Would `EnumTypeConverter` indeed return null, the process would continue and a custom converter would finally be called.
 * https://mail-archives.apache.org/mod_mbox/camel-dev/202002.mbox/%3Cc87cef78-9709-5b92-efee-9bf0e2c2370d%40slub-dresden.de%3E",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,38:48.0,,,,,,,,0|z0c0yg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-sjms - Add grow and shrink consumer depending on demand,CAMEL-14637,13288500,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/3/1 10:14,2021/1/5 13:51,2021/3/6 6:30,,,,,,,3.x,,camel-sjms,,,,,,,0,,,,,,"It would be nice to have a way to say min-max range for concurrent consumers on camel-sjms like you can in spring-jms. And that this is based on automatic grow/shrink based on demand (eg if being idle then shrink, etc.)

This requires some effort to implement and its not trivial.",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15995,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,14:58.0,,,,,,,,0|z0c1c8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-solr - Use testcontainers for testing,CAMEL-14652,13289483,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/3/4 9:54,2020/3/9 11:53,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"The current test framework is some brittle clunky code that cannot be upgraded to newer solr and jetty version.

Instead use testcontainers with the official solr images

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Mar/20 15:45;Simpcy;image-2020-03-08-16-45-42-788.png;https://issues.apache.org/jira/secure/attachment/12996074/image-2020-03-08-16-45-42-788.png,,,,,1,,,,,,,,,,,,,,,,,,,,33:24.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 09 11:53:30 UTC 2020,,,,,,,,0|z0c5c8:,9.22337E+18,,,,,,,,,,,,,,,"07/Mar/20 13:33;Simpcy;How about this, may I get this assigned to me?",07/Mar/20 13:38;acosentino;Sure. Go ahead.,"08/Mar/20 03:32;Simpcy;Alright, thanks. I am having a hard time locating the test modules in the camel-website repo","08/Mar/20 08:32;acosentino;The test for this are in the main camel repository. Camel-website is not related to this issue. Please, before working on anything have a look at the documentation and learn about the project structure. Anyway the website is completely unrelated. ","08/Mar/20 15:46;Simpcy;Okay. Please, I am quite new here. This is the specific outreachy project that spurred my interest. Please how may I know the issues specific to camel website? !image-2020-03-08-16-45-42-788.png!",09/Mar/20 11:53;zregvart;[~Simpcy] please review the documentation on the Outreachy website and [this blog post|https://camel.apache.org/blog/Outreachy-May2020/].,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use Java HTTP Client as foundation for the http component,CAMEL-14660,13289847,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/3/5 15:40,2020/3/5 16:04,2021/3/6 6:31,,,,,,,3.x,,camel-http,,,,,,,0,,,,,,"An HTTP Client is available starting from Java 11 (https://openjdk.java.net/groups/net/httpclient/intro.html) wonder if we should base the camel-http component on such client instead of rely on external libraries once we'll make Java 11 the minimum Java version.

Eventually we can create an camel-httpclient component bases on the current library used by camel-http (org.apache.httpcomponents/httpclient)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,55:00.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Mar 05 16:04:49 UTC 2020,,,,,,,,0|z0c7l4:,9.22337E+18,,,,,,,,,,,,,,,"05/Mar/20 15:55;davsclaus;Yeah I think it should be a separate component camel-java-http or camel-jdk-http and then it can potentially at some time win the http scheme name, and then apache http client that is http today will have another name.",05/Mar/20 16:04;lb;+1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Optimize getEndpoint on camel context,CAMEL-14668,13290049,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2020/3/6 12:15,2020/3/18 8:44,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"We can optimize this a bit, and also remove the weird support for endpoints without context-paths.

And we can avoid some double encoding if the uri can be fast parsed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Mar 18 08:44:44 UTC 2020,,,,,,,,0|z0c8u0:,9.22337E+18,,,,,,,,,,,,,,,06/Mar/20 13:58;davsclaus;We can also optimize the endpoint-dsl as well,06/Mar/20 14:08;davsclaus;TODO: Optimize double encoding in DefaultComponent if uri is fast parsed (its safe already),17/Mar/20 12:59;davsclaus;Working on optimizing this and avoid some encoding/decoded when getting endpoint -> creating endpoint via component,"18/Mar/20 08:44;davsclaus;Oh the deeper I got the harder it was, due to Camel endpoints has been parsed via java.net.Url which causes overhead and problems. 

So instead we may consider whether we should overhaul this before the 3.3 LTS release for Camel 3.x or take this up to rewrite for Camel 4 ;)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Find a way to version Camel Quarkus within the camel-quarkus repository,CAMEL-14678,13290124,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2020/3/6 16:17,2020/3/9 14:37,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,help-wanted,,,,,"When we publish the Camel Quarkus documentation we reference a version of Camel Quarkus stored in an Asciidoc attribute in the camel-website repository. So each time we release Camel Quarkus we also need to update the camel-website repository to have the version correctly reflected in the published website. Have a look at the [recent pull request|https://github.com/apache/camel-website/pull/169] to increase this version.

A better solution would be to find a way to store that attribute within the camel-quarkus repository so it's independent of the website; or to have that version pulled in from the [GitHub releases|https://developer.github.com/v3/repos/releases/#get-the-latest-release] and incorporate it via Antora extension (have a look at the existing Antora [extensions we have|https://github.com/apache/camel-website/tree/master/extensions]).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,03:46.1,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 09 14:37:15 UTC 2020,,,,,,,,0|z0c9ao:,9.22337E+18,,,,,,,,,,,,,,,"09/Mar/20 13:03;smile_outreachy;[~zregvart] May I take this as my first contribution?

It seems that we can do a simply GET request: `{{GET /repos/:owner/:repo/releases/latest}}` and the use the `name` attribute to get the latest version.

2 doubts.
 # I see there is a use of an additional suffix `-M4` in the mentioned PR #169, could you please explain that.
 # How do we use the Antora extensions to save such attributes, I couldn't get my head around the examples mentioned in `https://github.com/apache/camel-website/tree/master/extensions`

Thanks","09/Mar/20 14:37;zregvart;[~smile_outreachy] the {{M} in {{-M4}} suffix is short for milestone, it's common for projects to release versions that are either milestone, release candidates, beta or similar. With that, the full version of the release includes suffixes like that. Read about extensions in the [Antora documentation|https://docs.antora.org/antora/2.1/playbook/configure-asciidoc/]. There is also a [repository with sample extensions|https://gitlab.com/antora/antora-asciidoctor-extensions] in the Antora project.
Please do a bit of research, see the trade-off between using an extension vs defining this version in the camel-quarkus repository.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
javax -> jakarta,CAMEL-14680,13290272,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/3/7 8:25,2020/3/8 10:41,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,1,,,,,,"When the industry switches from javax to jarkarta then we should follow up as well.

Its mostly JMS, Servlet, Mail, CDI, WS, JAX-RS, and other components. So at some day we may have a release that switches fully over and is not backwards compatible.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:05.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Mar 08 10:41:05 UTC 2020,,,,,,,,0|z0ca7k:,9.22337E+18,,,,,,,,,,,,,,,08/Mar/20 10:41;davidkarlsen;Spring-Boot seems to move in 2.2: https://github.com/spring-projects/spring-boot/issues/16111 and cxf in 3.4: https://github.com/apache/cxf/pull/500/files,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make sure that the website can be built in Windows,CAMEL-14709,13291531,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2020/3/13 11:00,2020/3/24 13:43,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,help-wanted,,,,,"Right now we [run the hugo build|https://github.com/apache/camel-website/blob/21dbd4d74b5f0270a697e8de300eeff30dca14dd/package.json#L6] from a npm/yarn script.
This includes the {{--cacheDir}} parameter which specifies where Hugo puts cached data, e.g. data fetched via {{getJSON}}.
When we build the website on the build server we wish to take advantage of previously cached data, and to do that we [set the {{HUGO_CACHE_DIR}} environment variable|https://github.com/apache/camel-website/blob/21dbd4d74b5f0270a697e8de300eeff30dca14dd/Jenkinsfile#L41].
The shell interpolation used: {{${HUGO_CACHE_DIR:-$(pwd)/.hugo_data}}} makes sure that if {{HUGO_CACHE_DIR}} is not defined {{.hugo_data}} in current directory is used instead.
This doesn't work on Windows as it relies on Unix shell variable interpolation.
We need a solution that has the same functionality, i.e. we can specify the cache directory via {{HUGO_CACHE_DIR}} environment variable and if the {{HUGO_CACHE_DIR}} variable is not set use {{.hugo_data}} in current directory, but works on both Unix and Windows systems.
I think there could be a way to use some cross platform npm packages to do this intended to be used in scripts; or we could create a helper JavaScript file for this and invoke hugo binary from it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,20:45.5,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Mar 24 13:43:27 UTC 2020,,,,,,,,0|z0chzc:,9.22337E+18,,,,,,,,,,,,,,,"13/Mar/20 18:20;Aemie;I had a doubt regarding what exactly is the *.hugo_data*? 

What is the need for *$(pwd)* ? Is it to set *$WORKSPACE* environment variable in Jenkins?",15/Mar/20 13:57;zregvart;The [{{$WORKSPACE}} environment variable|https://jenkins.io/doc/book/pipeline/jenkinsfile/#using-environment-variables] points to the directory that is used when running the build on Jenkins. We want to re-use the cached data obtained from previous builds and this is a way to do it across multiple builds. The [shell parameter expansion|https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html] allows us to substitute for current directory (obtained by executing [pwd|https://en.wikipedia.org/wiki/Pwd]) in cases when {{$WORKSPACE}} environment variable is not defined.,"16/Mar/20 14:05;Aemie;I am closer to getting it to build however I had to make a few changes to how the environment variables are set in both Jenkins and package.json file. Is it fine if I am successfully able to build it, I will create documentation on it?",23/Mar/20 09:31;zregvart;[~Aemie] should be fine if your changes don't prevent us from building on Unix machines and on the build server.,"24/Mar/20 07:07;@pooja_y;hi,

I am Pooja , an outreachy applicant. I am interested to contribute in Apache camel website. Since all good first issues are taken up, [~zregvart] can u help me to get started. ",24/Mar/20 09:44;zregvart;[~@pooja_y] as you can see from the discussion here [~Aemie] is already working on this. [~Aemie] is that still the case?,"24/Mar/20 12:41;Aemie;We can work on this together to understand what and where the changes are to be made. It's hard to get everything based on windows as the files are based on how Linux variables are used. Also Pooja, this issue just doesn't get resolved with replacing pwd by %cd% 'cause I tried and it didn't work out. ","24/Mar/20 13:43;@pooja_y;Hi Aemie, I am happy to work together. I am not having much idea on it. So need read the documentation and set up. I will ask u wherever i am stuck.

[~zregvart] thanks for replying. Since all issues are taken up, if there is anything on which, u think i can work plse  assign me.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,
center elements vertically in the navbar,CAMEL-14725,13292015,,Improvement,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Trivial,,,Gunkev,Gunkev,2020/3/16 16:47,2020/3/23 9:32,2021/3/6 6:31,,3.1.0,,,,,,,website,,,,,,,0,help-wanted,,,,,Elements in the navigation bar are slightly downward. some line-height or any other method should be applied in order to center the elements vertically.,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,16/Mar/20 16:46;Gunkev;Screenshot from 2020-03-16 17-31-36.png;https://issues.apache.org/jira/secure/attachment/12996855/Screenshot+from+2020-03-16+17-31-36.png,,,,,1,,,,,,,,,,,,,,,,,,,,40:32.3,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Mar 20 14:40:32 UTC 2020,,,,,,,,0|z0ckyw:,9.22337E+18,,,,,,,,,,,,,,,16/Mar/20 17:47;Gunkev;Hello I have worked on that and I did send a pull request to the camel apache website,20/Mar/20 14:25;Gunkev;navbar look good now,20/Mar/20 14:40;acosentino;This is not fixed. The Pull request is not merged. Don't resolve it until we merge.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cxf - Move Spring out into camel-cxf-spring,CAMEL-14778,13293529,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/3/24 12:39,2020/3/25 6:15,2021/3/6 6:31,,,,,,,3.x,,camel-cxf,,,,,,,0,,,,,,"We have moved OSGi blueprint out. We could look at moving spring out (spring xml) as that could potentially make camel-cxf lighter

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,39:21.0,,,,,,,,0|z0cubk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-GraphQL: Use a camel consumer to receive events from GraphQL subscriptions,CAMEL-14800,13294224,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,chirino,chirino,2020/3/26 15:38,2021/1/21 14:29,2021/3/6 6:30,,,,,,,3.x,,camel-graphql,,,,,,,0,help-wanted,,,,,"In addition to Queries and Mutations, GraphQL, supports Subscriptions to notify the client of events in GraphQL engine.  These would map nicely to a camel consumer endpoint so that you can use subscriptions to trigger EIP processing in a camel route.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,38:40.0,,,,,,,,0|z0cxy0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fluent builder for configuring JSSE in Java,CAMEL-14807,13294808,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/3/29 8:20,2020/3/29 8:20,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"It would be good with a fluent builder for JSSE to setup the SSLContext stuff that is tedious to do. For example from this unit test

{code}
public class VertxPlatformHttpEngineTest {
    public static SSLContextParameters serverSSLParameters;
    public static SSLContextParameters clientSSLParameters;

    @BeforeAll
    public static void setUp() {
        serverSSLParameters = new SSLContextParameters();
        clientSSLParameters = new SSLContextParameters();

        KeyStoreParameters keystoreParameters = new KeyStoreParameters();
        keystoreParameters.setResource(""jsse/service.jks"");
        keystoreParameters.setPassword(""security"");

        KeyManagersParameters serviceSSLKeyManagers = new KeyManagersParameters();
        serviceSSLKeyManagers.setKeyPassword(""security"");
        serviceSSLKeyManagers.setKeyStore(keystoreParameters);

        serverSSLParameters.setKeyManagers(serviceSSLKeyManagers);

        KeyStoreParameters truststoreParameters = new KeyStoreParameters();
        truststoreParameters.setResource(""jsse/truststore.jks"");
        truststoreParameters.setPassword(""storepass"");

        TrustManagersParameters clientAuthServiceSSLTrustManagers = new TrustManagersParameters();
        clientAuthServiceSSLTrustManagers.setKeyStore(truststoreParameters);
        serverSSLParameters.setTrustManagers(clientAuthServiceSSLTrustManagers);
        SSLContextServerParameters clientAuthSSLContextServerParameters = new SSLContextServerParameters();
        clientAuthSSLContextServerParameters.setClientAuthentication(""REQUIRE"");
        serverSSLParameters.setServerParameters(clientAuthSSLContextServerParameters);

        TrustManagersParameters clientSSLTrustManagers = new TrustManagersParameters();
        clientSSLTrustManagers.setKeyStore(truststoreParameters);
        clientSSLParameters.setTrustManagers(clientSSLTrustManagers);

        KeyManagersParameters clientAuthClientSSLKeyManagers = new KeyManagersParameters();
        clientAuthClientSSLKeyManagers.setKeyPassword(""security"");
        clientAuthClientSSLKeyManagers.setKeyStore(keystoreParameters);
        clientSSLParameters.setKeyManagers(clientAuthClientSSLKeyManagers);
    }
...
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,20:02.0,,,,,,,,0|z0d1js:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce supportLevel and compileTarget in the Catalog,CAMEL-14816,13295216,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,ppalaga,ppalaga,ppalaga,2020/3/31 10:06,2020/4/8 9:42,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"Both new attributes are meant for components, dataformats, etc. 

Possible values of {{supportLevel}}: {{preview}} and {{stable}} (default)

Possible values of {{compileTarget}}: {{JVM}} (default) and {{Native}}
",,"ppalaga commented on pull request #3698: CAMEL-14816 Introduce supportLevel and compileTarget in the Catalog
URL: https://github.com/apache/camel/pull/3698
 
 
   https://issues.apache.org/jira/browse/CAMEL-14816
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;31/Mar/20 14:16;githubbot;600","davsclaus commented on pull request #3698: CAMEL-14816 Introduce supportLevel and compileTarget in the Catalog
URL: https://github.com/apache/camel/pull/3698
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;08/Apr/20 09:42;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,42:30.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Apr 08 09:42:53 UTC 2020,,,,,,,,0|z0d420:,9.22337E+18,,,,,,,,,,,,,,,08/Apr/20 09:42;davsclaus;support level merged into 3.3.0,"08/Apr/20 09:42;davsclaus;Discussed on dev at
https://camel.465427.n5.nabble.com/DISCUSS-Camel-components-Information-about-stability-and-native-compilation-td5863063.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support to disable the stream caching in camel-servlet from the camel context - once more,CAMEL-14823,13295494,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,vojtechfried,vojtechfried,2020/4/1 10:20,2020/8/29 12:13,2021/3/6 6:31,,2.25.0,3.1.0,,,,3.x,,camel-servlet,,,,,,,0,,,,,,"Current camel-servlet doesn't support to disable the stream caching from the camel context, it just check the exchange property for it. The cloned CAMEL-8821 Jira tried to fix it, but the fix does not work. As the last comment there says, readRequestBodyFromServletRequest calls a wrong method (""readResponse..."" instead of ""readRequest..."", only the latter contains the fix). Either those two methods could be merged into one (with the body of ""readRequest..."") or readRequestBodyFromServletRequest  should call ""readRequest..."".",,,,,,,,,,,,,,,,,,CAMEL-8821,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,36:01.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Apr 01 10:36:01 UTC 2020,,,,,,,,0|z0d5rk:,9.22337E+18,,,,,,,,,,,,,,,"01/Apr/20 10:36;davsclaus;Reported on user forum
https://camel.465427.n5.nabble.com/stream-caching-not-configurable-for-rest-consumer-tp5862335.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend Camel Context functionnalities through the Extension mechanism ,CAMEL-14824,13295501,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/4/1 10:54,2020/4/1 10:54,2021/3/6 6:31,,,,,,,3.x,,camel-core-engine,,,,,,,0,,,,,,"[This commit |https://github.com/apache/camel/commit/0f8ad1a3a42f1f50e863a8b2ff092cd6df3df43b] introduces some new API to the ExtendedCamelContext which is fine but in order to reduce the APIs we could evaluate to extend the functionalities of the context  through the extension mechanism, i.e. the same functionality of the commit could be implemented as:

{code:java}
    context.getExtension(RestBindingJaxbDataFormatFactory.class)
        ifPresent(extensions -> extension.setupJaxb(...))
{code}

Extension can then be discovered through:

# internal-cache
# registry
# factory finder (file)

We can use a class name convention for the factory file:

{code}
     META-INF/services/org/apache/camel/services/RestBindingJaxbDataFormatFactory
{code}

or

{code}  
    META-INF/services/org/apache/camel/services/rest-binding-jaxb-dataormat-factory
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,54:18.0,,,,,,,,0|z0d5t4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Site Documentation Improvement within Camel ,CAMEL-14827,13295699,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,Aemie,Aemie,2020/4/2 6:23,2020/4/15 6:13,2021/3/6 6:31,,,,,,,,,documentation,,,,,,,1,,,,,,"Within the camel repository, I have observed that the code snippets aren't properly indentation and structured well. This is present for various documentation pages. This needs to be improved.

 

RESOLVED DOCUMENTATION PAGES 
 # Caffeine Cache Component
 # Cbor Dataformat
 # Chunk Component
 # HL7 Terser Language
 # OGNL Language",,"AemieJ commented on pull request #3704: CAMEL-14827: Site Documentation Improvement within Camel 
URL: https://github.com/apache/camel/pull/3704
 
 
   * I have observed that the code snippets aren't properly indentation and structured well. This is present for various documentation pages. Hence, I have resolved this issue by structuring the indentation and removing any redundant spaces for a few documentation pages.
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;02/Apr/20 07:35;githubbot;600","oscerd commented on pull request #3704: CAMEL-14827: Site Documentation Improvement within Camel 
URL: https://github.com/apache/camel/pull/3704
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;02/Apr/20 07:54;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,31:54.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Apr 15 06:13:28 UTC 2020,,,,,,,,0|z0d714:,9.22337E+18,,,,,,,,,,,,,,,"02/Apr/20 06:24;Aemie;I am currently working on this and will be making PR. Anyone who wants to help with this, please comment here.","14/Apr/20 00:31;arunmannuru;[~Aemie]I'm interested, Please let me know where you are now. I can share the work. ","15/Apr/20 06:13;Aemie;[~arunmannuru], currently I have made the changes to that 5 documentation as listed. If you're working on any, just mention it here to avoid any conflicts.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a Camel-rocketmq component,CAMEL-14831,13295731,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,acosentino,acosentino,2020/4/2 8:33,2020/5/20 12:24,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,[https://rocketmq.apache.org/],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,33:04.0,,,,,,,,0|z0d788:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data format for SWIFT financial message conversion support,CAMEL-14832,13295748,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,dmvolod,dmvolod,2020/4/2 9:49,2020/4/2 9:49,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Able to support SWIFT financial message conversion with {color:#24292e}Prowide Core{color} library

This library has Apache License 2.0

[https://github.com/prowide/prowide-core]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,49:44.0,,,,,,,,0|z0d7c0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improvement in the nav-bar menu appearance,CAMEL-14836,13295859,,Improvement,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Aemie,Aemie,2020/4/2 17:58,2020/6/1 7:50,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,,,,,,"Problem: 

The current design of the navbar menu seems very plain and basic and improvement to the designs can be performed. 

 

Design Alternative: 
 * Instead of hover color change on each menu item in the navbar, I believe it will look more consistent to have a border-bottom on hover of the navbar menu item. 
 * The menu item with the dropdown doesn't have an up to the mark design according to my opinion. An alternative to that, the width of each dropdown box should be increased and instead of having a box shadow on over, just a bold highlighted effect on each dropdown item could bring a neat design yet perform the same operation. 

This is my design alternative, let me know your opinions on it as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,20:43.5,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Jun 01 07:50:01 UTC 2020,,,,,,,,0|z0d80o:,9.22337E+18,,,,,,,,,,,,,,,"02/Apr/20 17:59;Aemie;Currently, working on the improvement in design by taking other website design into consideration and performing it.","28/May/20 22:20;zregvart;I don't see any work done on this, has this been resolved by accident?","29/May/20 03:34;Aemie;No, it hasn't. I wanted some discussion on this one. ","30/May/20 11:33;zregvart;[~Aemie] we should reopen this issue then, can you provide the description of the problem and outline a solution (if you have one to propose)?","30/May/20 13:53;Aemie;[~zregvart] I have provided a design alternative, let me know your views on it.",01/Jun/20 07:50;zregvart;Linking to the pull request https://github.com/apache/camel-website/pull/310,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a camel-jq component,CAMEL-14847,13296352,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2020/4/5 10:59,2020/4/5 10:59,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,1,,,,,,"[https://github.com/arakelian/java-jq]

We can use this library, it's MIT licensed, so it is ok.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,59:36.0,,,,,,,,0|z0daiw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
making nav panel explore context content more visible,CAMEL-14857,13296712,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,siyubu,siyubu,2020/4/7 2:50,2020/4/7 6:23,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,,,,,,nav panel explore is hardly distinguishable from nav panel menu,,,,,,,,,,,,,,,,,,,,CAMEL-14855,CAMEL-14856,CAMEL-14858,,,,,,,,,,07/Apr/20 02:50;siyubu;nav1.JPG;https://issues.apache.org/jira/secure/attachment/12999186/nav1.JPG,07/Apr/20 05:09;siyubu;nav3.JPG;https://issues.apache.org/jira/secure/attachment/12999195/nav3.JPG,,,,2,,,,,,,,,,,,,,,,,,,,21:36.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Apr 07 06:21:36 UTC 2020,,,,,,,,0|z0dchs:,9.22337E+18,,,,,,,,,,,,,,,07/Apr/20 05:09;siyubu;nav panel explore after changing its color !nav3.JPG! ,"07/Apr/20 06:21;dmvolod;[~siyubu], please don't forget to mark related component as website",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a camel-couchdb3 component,CAMEL-14880,13297441,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,aldettinger,aldettinger,2020/4/9 17:27,2020/4/10 6:18,2021/3/6 6:31,,3.2.0,,,,,3.x,,,,,,,,,0,,,,,,"As per the context of [CAMEL-14822|https://issues.apache.org/jira/browse/CAMEL-14822], the camel-couchdb component is exposed to the de-facto end of life of the underlying couchdb library. As such, camel currently offers no support to couchdb 3.x.

A way of dealing with such situation would be to create a camel-couchdb3 component on top of [java-cloudant|https://github.com/cloudant/java-cloudant].",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,27:50.0,,,,,,,,0|z0dh00:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-elytron component needs attention,CAMEL-14889,13298134,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,djencks,djencks,2020/4/13 21:33,2020/4/14 4:46,2021/3/6 6:31,,,,,,,,,documentation,,,,,,,0,,,,,,"I believe the camel-elytron component needs some attention.  It appears to be actually a component, but the java source has no annotations, there is no json file describing it, and none of the .adoc file is generated.  The text also appears somewhat self contradictory to me.

If all is correct about the current documentation, perhaps a note should be included indicating that it does not participate in normal component documentation generation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,33:30.0,,,,,,,,0|z0dla0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consider changes to properties-component location or documentation location.,CAMEL-14890,13298135,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,djencks,djencks,2020/4/13 21:39,2020/4/14 4:49,2021/3/6 6:31,,,,,,,,,camel-properties,,,,,,,0,,,,,,"The properties component is highly anomalous among camel components.

- is it really only present since camel 2.3?
- Does the code need to be in core or could it actually be moved into components?
- The description indicates it isn't really a component.  What is it? Data format? Language? Miscellaneous?  Lets move the main page to the correct category and, if appropriate, add a stub page in the current location indicating it's moved.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,49:43.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Apr 14 04:49:43 UTC 2020,,,,,,,,0|z0dla8:,9.22337E+18,,,,,,,,,,,,,,,"14/Apr/20 04:49;davsclaus;1) yes
2) yes its merged into core in 3.x onwards, and need to be as-is
3) its for property placeholders - in 2.x it could also be used as a regular camel component but that was not frequently used and hence that was removed in 3.x

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""responsive"" table settings make it impossible to set reasonable column sizes.",CAMEL-14905,13298439,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,djencks,djencks,2020/4/15 3:12,2020/5/18 19:37,2021/3/6 6:31,,3.2.0,,,,,,,website,,,,,,,0,,,,,,"I noticed that the column sizes for the new indexer generated tables on the various components component module index pages did not respond to my specifications of column size.  Disabling the first two extensions in the playbook allowed me to specify reasonable sizes.  The auto generated sizes were pretty ugly, and all these tables need to have the same layout as they are all related.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,12:57.0,,,,,,,,0|z0dn6g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decide what to do with bindy component(s) doc page(s),CAMEL-14909,13298450,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,djencks,djencks,2020/4/15 3:40,2020/4/15 3:40,2021/3/6 6:31,,3.2.0,,,,,,,website,,,,,,,0,,,,,,"CAMEL-14874  turned the 3 bindy links to the exact same page into only one. Here are some possible actions:
 * do nothing.  Is the current state unclear or unuseful in any way?
 * Put a small TOC at the top of the bindy page pointing to the sections specific to each ""component""
 * Create 3 actual pages using some include magic so the actual material relevant to each form of the component is featured.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:12.0,,,,,,,,0|z0dn8w:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decide if component summary pages are a good idea,CAMEL-14910,13298452,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,djencks,djencks,2020/4/15 3:47,2020/6/9 16:32,2021/3/6 6:31,,3.2.0,,,,,,,website,,,,,,,0,,,,,,"I discovered some component summary pages while working on CAMEL-14874

and included them in the nav pane and index table.  Claus suggested that the Spring one was useful and the others should be dropped.  The Kubernetes summary page is heavily linked back and forth to the individual Kubernetes components.

 

In general, due to the extremely long components list, I'm inclined to think that any possible kind of grouping is a good idea. If there are going to be summary pages, then they should all be similar in some way.
 * Should there be summary pages for groups of related components?
 * What should their structure and appearance be?
 * Should the nav pane indent the components in a group?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,26/May/20 06:13;Aemie;aws2.png;https://issues.apache.org/jira/secure/attachment/13004006/aws2.png,26/May/20 06:11;Aemie;getting-started.png;https://issues.apache.org/jira/secure/attachment/13004005/getting-started.png,,,,2,,,,,,,,,,,,,,,,,,,,13:58.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue May 26 17:29:49 UTC 2020,,,,,,,,0|z0dn9c:,9.22337E+18,,,,,,,,,,,,,,,"26/May/20 06:13;Aemie;I have observed that there are various related components including AWS2, AWS, Hazelnut, Spring, and various others as well & listing all on the nav panel creates messiness, entropy & redundancy. However, I also observed that are few components including Hazelnut that describe the summary of its related component. Hence, I thought we could achieve this by bundling all related components in their parent unit as shown below and the indentation would be similar to as shown in the example.

!getting-started.png|width=159,height=72!   We could perform the bundling as similar to this.

 

All the AWS related components listed as it creates high entropy and makes searching for a user quite heavy job.

!aws2.png!  ","26/May/20 15:56;djencks;This nav list is generated. I was hoping to generate it in Antora with the index extension that generates the summary tables, but the needed change didn't get into Antora 2.3.1.

One way to provide the information necessary to generate the nested list would be to put the nesting depth in the page as an attribute: normally depth 1 but for the pages in a summary depth 2. It would be best if this could be calculated as the attributes are being inserted, but I haven't thought of a way to do that.

Does anyone else have an idea how to provide the information needed to calculate the nesting?","26/May/20 16:53;Aemie;See, in the *gulpfile.js*, we have included all the *summary.adoc* files, now the files with summary have the initial name such as *ignite-* and all it's similarly related components have the same structure with *ignite-* , so we could find a way to extract the name before the summary and include all the components with the similar name with the summary depth of 2.","26/May/20 17:23;djencks;This issue is closed, lets discuss on the PR.","26/May/20 17:29;Aemie;Okay, sure thing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Maven JDK9+ profile should be redcuded/removed when building the source,CAMEL-14917,13298700,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/4/16 5:21,2020/4/16 7:06,2021/3/6 6:31,,,,,,,3.x,,build system,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Apr 16 07:06:49 UTC 2020,,,,,,,,0|z0dosg:,9.22337E+18,,,,,,,,,,,,,,,16/Apr/20 07:06;davsclaus;We should wait until when we drop JDK8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce nativeSupported on BaseModel,CAMEL-14924,13298991,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ppalaga,ppalaga,2020/4/17 7:05,2020/4/17 8:51,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"As discussed on the dev list [1] we need a new boolean attribute on org.apache.camel.tooling.model.BaseModel to carry the information if the given part supports native compilation.

[1] https://www.mail-archive.com/dev@camel.apache.org/msg50572.html
",,"ppalaga commented on pull request #3755: CAMEL-14924: Introduce nativeSupported on BaseModel
URL: https://github.com/apache/camel/pull/3755
 
 
   https://issues.apache.org/jira/browse/CAMEL-14924
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;17/Apr/20 07:51;githubbot;600","ppalaga commented on pull request #3755: CAMEL-14924: Introduce nativeSupported on BaseModel
URL: https://github.com/apache/camel/pull/3755
 
 
   
 
----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on to GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org
;17/Apr/20 08:51;githubbot;600",,,,,,,,0,1200,,,0,1200,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:12.0,,,,,,,,0|z0dql4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support OAuth in Slack component,CAMEL-14949,13300207,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,zregvart,zregvart,2020/4/22 8:42,2020/10/12 17:10,2021/3/6 6:31,,2.25.1,3.2.0,,,,,,camel-slack,,,,,,,0,,,,,,"Slack is deprecating the [""legacy"" token authentication|https://api.slack.com/legacy/custom-integrations/legacy-tokens]. We should migrate from that to [OAuth|https://api.slack.com/legacy/oauth] for authentication. Note there are several [types of tokens|https://api.slack.com/authentication/token-types] at Slack.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,42:45.0,,,,,,,,0|z0dxq8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistent behavior of default charset in StringEntity and IOHelper.getCharsetFromContentType,CAMEL-14959,13300553,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,saksham.verma,saksham.verma,2020/4/23 12:28,2020/5/17 11:21,2021/3/6 6:31,,2.23.1,,,,,,,camel-http,camel-http4,,,,,,0,,,,,,"In our product, we invoke the Odata endpoint of a different service, it uses an CSRF nonce. 

So in one post requset, two thing happen, Fetch the CSRF nonce and Post the actual request. 

Here on processing the response of Fetch, it sets the charset from IOHelper.getCharsetFromContentType. If there is no charset in the response header Content-Type, then UTF-8 is set to default. 
 Thus this charset gets put on the exchange object. and used further in the post request. 

But when we are creating a request entity. in HttpProducer.createRequestEntity
 The default charset it uses is ISO-8859-1 which is correct as per HTTP 1.1 standard. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,17/May/20 07:39;saksham.verma;apache-camel-consume.zip;https://issues.apache.org/jira/secure/attachment/13003175/apache-camel-consume.zip,17/May/20 07:39;saksham.verma;echoServer.zip;https://issues.apache.org/jira/secure/attachment/13003176/echoServer.zip,,,,2,,,,,,,,,,,,,,,,,,,,25:14.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun May 17 11:21:50 UTC 2020,,,,,,,,0|z0dzv4:,9.22337E+18,,,,,,,,,,,,,,,"23/Apr/20 12:30;saksham.verma;The problem is because there are other requests which do no require the CSRF nonce, and in that case the encoding is used as ISO-8859-1 which is fine by us. 
But why while handling the response, the default charset is used as UTF-8. The default charset should be the same in both the cases. ","25/Apr/20 07:25;davsclaus;Can you maybe better explain this with a sample that reproduces this and with instructions how to run, and try it out, then we can take a look.
Also try with latest Camel 2.x version.","17/May/20 07:48;saksham.verma;Hi [~davsclaus]

Please find the attached projects for reproducing the issue. And below is how to use them:

1. Echo server (echoServer.zip): contains a nodejs based web server. It only has one end point ""/echo"".
     This endpoint returns the body it receives. It sets the response header ""content-type"" as ""text/plain"". No charset
      Note, this server starts on default http port : 80.

2. apache-camel-consume.zip : contains a maven project for invoking the echo endpoint of echoserver. 
     It sends a text/plain content-type with body: *HÃLLO*. It does not set any charset in the content-type. 
     But the body it receives is: *H?LLO*.

Root cause:
 If you check the org.apache.http.entity.StringEntity, it uses the default charset, if none is provided. And the default is ISO-8859-1.
 But the while handling the response , the default charset that is used in IOHelper.getCharsetFromContentType is UTF-8.

Thus, there is this difference in the message sent and received.

we expect the ISO-8859-1 to be used whenever the charset is not present as it is the default charset as per HTTP 1.1 standards.

Also note, I tried to send the charset as utf-8 in the request, then the sent and received body is same as expected. 
 But we want the default charset to be uniform everywhere.

 

Behavior is the same with latest 2.24.x release.

 ",17/May/20 11:21;acosentino;This is a minor priority issue.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement camel-javascript component,CAMEL-14970,13301070,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,bedla,bedla,2020/4/26 10:58,2020/4/27 7:09,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"camel-script is removed in 3.x with CAMEL-13113 because of Nashorn Engine deprecation in JDK11. We should implement camel-javascript based on some supported engine (possibly graaljs?).

Some users are missing Javascript language in 3.x:

[https://camel.465427.n5.nabble.com/Re-Camel-script-eip-JavaScript-deprecated-tt5857880.html]

[https://stackoverflow.com/questions/61435521/camel-3-2-and-javascript]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,58:56.0,,,,,,,,0|z0e320:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"camel-karaf - HTTP producer NTLM auth shows ""Cannot locate default realm"" WARN",CAMEL-14971,13301085,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,catshout,catshout,2020/4/26 12:52,2020/11/3 8:07,2021/3/6 6:31,,3.0.1,,,,,,,camel-http,karaf,,,,,,0,,,,,,"See below a route that calls an endpoint with NTLM auth.
{code:java}
<blueprint xmlns=""http://www.osgi.org/xmlns/blueprint/v1.0.0""
           xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
           xsi:schemaLocation=""http://www.osgi.org/xmlns/blueprint/v1.0.0  https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd""
           xmlns:ext=""http://aries.apache.org/blueprint/xmlns/blueprint-ext/v1.0.0"">

   <camelContext xmlns=""http://camel.apache.org/schema/blueprint"">

      <route>
         <from uri=""timer:default?period=0&amp;repeatCount=1"" />
         <setHeader name=""CamelHttpMethod"">
            <constant>GET</constant>
         </setHeader>
         <to uri=""http://host?authMethod=NTLM&amp;authDomain=xxx&amp;authHost=xxx&amp;authUsername=xxx&amp;authPassword=xxx&amp;throwExceptionOnFailure=false"" />
      </route>

   </camelContext>

</blueprint>
{code}
 

When starting the route than I'm getting an error (Camel WARN)
{code:java}
2020-04-23T22:36:31,980 | WARN  | qtp711860658-153 | HttpAuthenticator                | 164 - org.apache.httpcomponents.httpclient - 4.5.10 | NEGOTIATE authentication error: Invalid name provided (Mechanism level: KrbException: Cannot locate default realm){code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,12:00.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Jun 19 13:12:28 UTC 2020,,,,,,,,0|z0e35c:,9.22337E+18,,,,,,,,,,,,,,,"27/Apr/20 07:12;davsclaus;Try to trace what HTTP headers are sent over to the HTTP server in the 2 situations and compare/show us. As you are bridging then in one situation the HTTP url is different that with  the timer. And search on the internet what the kerboes error may mean.

","27/Apr/20 09:16;catshout;I was executing a couple more tests. First of all I was seen the same error (Camel WARN) as well when using the Timer Consumer. So far the ticket is misleading and I changed the title and description accordingly.

The error refers to the point that either the krb5.conf file isn't found or contains the wrong configuration. See for that

[https://docs.oracle.com/javase/8/docs/technotes/guides/security/jgss/tutorials/KerberosReq.html]

If you're going to provide both, realm and kdc in the system.properties file like
{code:java}
java.security.krb5.realm=EXAMPLE.COM
java.security.krb5.kdc=example.com
{code}
than an other error (Camel WARN) occurs
{code:java}
2020-04-27T09:07:31,480 | WARN  | Camel thread #9 - timer://default | HttpAuthenticator                | 164 - org.apache.httpcomponents.httpclient - 4.5.10 | NEGOTIATE authentication error: No valid credentials provided (Mechanism level: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt))
{code}
The content will be properly shown while testing against an IIS instance.

I'll proceed with the tests against other targets.","19/Jun/20 13:12;davsclaus;Try outside OSGi in just a basing public static void main class, or from unit test etc.
It smell of OSGi classloading and whatnot.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka - SerializationException - consumer keeps leaving and rejoining the group,CAMEL-14980,13301708,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,ramu11,cless91,cless91,2020/4/29 5:23,2021/2/1 13:55,2021/3/6 6:30,,3.2.0,,,,,3.9.0,,camel-kafka,,,,,,,3,,,,,,"Hello everyone,

 

I found out i few days ago that if a `SerializationException` is thrown when the consumer tries to poll messages, it will keep leaving and joining the consumer-group indefinitely and without any informative log.
 The exception cannot either be handled by any camel exception handler.

After some searching in the code i found out the culprit:
{code:java}
// org.apache.camel.component.kafka.KafkaConsumer (ligns 406-415):
catch (KafkaException e) {
  // some kind of error in kafka, it may happen during
  // unsubscribing or during normal processing
  if (unsubscribing){             
    getExceptionHandler().handleException(""Error unsubscribing "" + threadId + "" from kafka topic "" + topicName, e);   
  }else {
    LOG.debug(""KafkaException consuming {} from topic {} causedby {}. Will attempt to re-connect on next run"", threadId, topicName, e.getMessage());
    reConnect = true;
  }
}
{code}
 

`SerializationException` extends from `KafkaException`, but it is definitely not a recoverable exception.

It logs with debug level, which makes it hard to track, there are SO many things logging in debug.

It it cannot be handled by any camel exception handling mechanism.

I think it would be better to either:
 - change that catch so that it pinpoints the subclasses of `KafkaException` that are actually recoverable from rejoining (maybe `WakeupException` and a couple others)
 - add a `catch` block for `SerializationException` and maybe `ConfigException` and `OAuthBearerConfigException` before, with a log error andallow the user to handle those exceptions
 - remove that catch block entirely and let users handle any KafkaException however they see fit.

Thank you",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,04/May/20 15:22;cless91;camel-kafka-errors.txt;https://issues.apache.org/jira/secure/attachment/13002010/camel-kafka-errors.txt,04/May/20 16:29;cless91;poc_camel_kafka.tar.gz;https://issues.apache.org/jira/secure/attachment/13002012/poc_camel_kafka.tar.gz,,,,2,,,,,,,,,,,,,,,,,,,,39:07.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Dec 15 23:28:33 UTC 2020,,,,,,,,0|z0e6zk:,9.22337E+18,,,,,,,,,,,,,,,30/Apr/20 03:39;ramu11;[~cless91] Thanks for reporting.   It would be good to have multiple catch blocks to understand better about the error. I would look into it,"02/May/20 07:07;davsclaus;The serialization error is that due to a posion message in kafka, that you cannot deseerialize? And is it the key or the value? And can you maybe post the stacktrace or some more details of this exception?","04/May/20 15:13;cless91;Hi.

Indeed the serialization error is due to an avro message that the consumer cannot deserialize and it is the value.

Here are the logs from Camel :

 
{code:java}
2020-05-04 16:55:18.768  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Member consumer-1-3ce58863-302b-4be3-9b86-43a963ffe327 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483646 rack: null)
2020-05-04 16:55:18.866  INFO 13972 --- [umer[cont_hist]] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [http://localhost:9092]
	
	[...]

2020-05-04 16:55:18.925  WARN 13972 --- [umer[cont_hist]] o.a.k.clients.consumer.ConsumerConfig    : The configuration 'sasl.kerberos.principal.to.local.rules' was supplied but isn't a known config.
2020-05-04 16:55:18.925  INFO 13972 --- [umer[cont_hist]] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.3.1
2020-05-04 16:55:18.925  INFO 13972 --- [umer[cont_hist]] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 18a913733fb71c01
2020-05-04 16:55:18.925  INFO 13972 --- [umer[cont_hist]] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1588604118925
2020-05-04 16:55:18.927  INFO 13972 --- [umer[cont_hist]] o.a.camel.component.kafka.KafkaConsumer  : Reconnecting cont_hist-Thread 0 to topic cont_hist after 5000 ms
2020-05-04 16:55:23.928  INFO 13972 --- [umer[cont_hist]] o.a.camel.component.kafka.KafkaConsumer  : Subscribing cont_hist-Thread 0 to topic cont_hist
2020-05-04 16:55:23.928  INFO 13972 --- [umer[cont_hist]] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Subscribed to topic(s): cont_hist
2020-05-04 16:55:23.934  INFO 13972 --- [umer[cont_hist]] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Cluster ID: RN9Osn1cTTONG3zaT0LtOg
2020-05-04 16:55:23.936  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2020-05-04 16:55:23.937  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Revoking previously assigned partitions []
2020-05-04 16:55:23.937  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] (Re-)joining group
2020-05-04 16:55:23.943  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] (Re-)joining group
2020-05-04 16:55:23.949  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Successfully joined group with generation 3
2020-05-04 16:55:23.949  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Setting newly assigned partitions: cont_hist-0
2020-05-04 16:55:23.954  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Setting offset for partition cont_hist-0 to the committed offset FetchPosition{offset=2, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=localhost:9092 (id: 1 rack: null), epoch=0}}
2020-05-04 16:55:23.978  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Member consumer-2-54cba12d-1a38-4a5d-8b50-26f2a6b3868a sending LeaveGroup request to coordinator localhost:9092 (id: 2147483646 rack: null)
2020-05-04 16:55:23.998  INFO 13972 --- [umer[cont_hist]] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [http://localhost:9092]
	
	[...]

2020-05-04 16:55:24.014  WARN 13972 --- [umer[cont_hist]] o.a.k.clients.consumer.ConsumerConfig    : The configuration 'sasl.kerberos.principal.to.local.rules' was supplied but isn't a known config.
2020-05-04 16:55:24.014  INFO 13972 --- [umer[cont_hist]] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.3.1
2020-05-04 16:55:24.014  INFO 13972 --- [umer[cont_hist]] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 18a913733fb71c01
2020-05-04 16:55:24.015  INFO 13972 --- [umer[cont_hist]] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1588604124014
2020-05-04 16:55:24.015  INFO 13972 --- [umer[cont_hist]] o.a.camel.component.kafka.KafkaConsumer  : Reconnecting cont_hist-Thread 0 to topic cont_hist after 5000 ms
2020-05-04 16:55:29.015  INFO 13972 --- [umer[cont_hist]] o.a.camel.component.kafka.KafkaConsumer  : Subscribing cont_hist-Thread 0 to topic cont_hist
2020-05-04 16:55:29.016  INFO 13972 --- [umer[cont_hist]] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Subscribed to topic(s): cont_hist
2020-05-04 16:55:29.032  INFO 13972 --- [umer[cont_hist]] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Cluster ID: RN9Osn1cTTONG3zaT0LtOg
2020-05-04 16:55:29.032  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2020-05-04 16:55:29.033  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Revoking previously assigned partitions []
2020-05-04 16:55:29.034  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] (Re-)joining group
2020-05-04 16:55:29.039  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] (Re-)joining group
2020-05-04 16:55:29.048  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Successfully joined group with generation 5
2020-05-04 16:55:29.048  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Setting newly assigned partitions: cont_hist-0
2020-05-04 16:55:29.050  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Setting offset for partition cont_hist-0 to the committed offset FetchPosition{offset=2, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=localhost:9092 (id: 1 rack: null), epoch=0}}
2020-05-04 16:55:29.066  INFO 13972 --- [umer[cont_hist]] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-3, groupId=6dde7e33-87c6-4ea7-a173-49e903d549e6] Member consumer-3-3da59636-0a83-4abc-9293-a7e456d65574 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483646 rack: null)
2020-05-04 16:55:29.090  INFO 13972 --- [umer[cont_hist]] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true{code}
 

 

There are no stack trace, it just keep leaving and joining the group.

But here is the message when i place a breakpoint in org.apache.camel.component.kafka.KafkaConsumer, lign 409, then in the debugger, evaluate `e.printStackTrace` :
{code:java}
org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition cont_hist-0 at offset 4. If needed, please seek past the record to continue consumption.
 Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id 2
 Caused by: org.apache.kafka.common.errors.SerializationException: Could not find class fr.ing.payment.cardeventnotifier.secure3d.generated.avro.PocContHist2 specified in writer's schema whilst finding reader's schema for a SpecificRecord.{code}
In my re-creation of the error, I deliberately changed the name of the schema avro of the producer.

Another case: when i send garbage through the console-producer. Here is what i get when i evaluate `e.printStackTrace()` on the breakpoint:

 
{code:java}
org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition cont_hist-0 at offset 5. If needed, please seek past the record to continue consumption.
 Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id -1
 Caused by: org.apache.kafka.common.errors.SerializationException: Unknown magic byte!{code}
In any case, this error is not printed, the consumer doesn't fail, the exception cannot be handled by an exceptionHandler, and the consumer leaves and joins the group indefinitely without any informative message.

Is that enough or do you need any other information ?

EDIT:
 I added a .txt file with some logs.

EDIT2:
 I added a executable example if necessary",05/May/20 06:10;ramu11;Thanks for the logs and example. i will look in to it,"29/Jun/20 03:15;ramu11;we can get rid of these type of issues by implementing deadletterqueue for kafka .

we can implement a failure-strategy  similar to kafka-connect

failure-strategy  : Specify the failure strategy to apply when a message produced from a record is nacked. Values can be fail (default), ignore, or dead-letter-queue

Type: string

supports 3 strategies:

fail - fail the application, no more records will be processed. (default) The offset of the record that has not been processed correctly is not committed.

ignore - the failure is logged, but the processing continue. The offset of the record that has not been processed correctly is committed.

dead-letter-queue - the offset of the record that has not been processed correctly is committed, but the record is written to a (Kafka) dead letter topic.

The strategy is selected using the failure-strategy attribute.

In the case of dead-letter-queue, you can configure the following attributes:

dead-letter-queue.topic: the topic to use to write the records not processed correctly, default is dead-letter-topic-$channel, with $channel being the name of the channel.

dead-letter-queue.key.serializer: the serializer used to write the record key on the dead letter queue. By default, it deduces the serializer from the key deserializer.

dead-letter-queue.value.serializer: the serializer used to write the record value on the dead letter queue. By default, it deduces the serializer from the value deserializer.

The record written on the dead letter queue contains the dead-letter-reason header with the nack reason (message from the exception passed to the nack method). It may also contain the dead-letter-cause with the message from the cause, if any.

your comments welcome","15/Oct/20 22:39;bedla;I think something like failture strategy is overcomplicating things. It is IMO not needed as Camel already have similar strategies implemented as errorHandler and user can use that with `bridgeErrorHandler=true`.

First step is fixing that catch block. Reconnect should be attempted only for instances of `RetriableException`. All other types of `KafkaException` should be delegated to `ExceptionHandler`. There is another user with same problem https://stackoverflow.com/questions/64366380/apache-camel-kafka-bridgeerrorhandler-not-working","16/Oct/20 05:16;cless91;That's also my thought, and something i put in my original post",05/Dec/20 14:13;davsclaus;There is a new camel-kafka-vertx in 3.7 that rely on vertx-kafka client which should have more roboustness out of the box,"15/Dec/20 23:28;maroos;I hit a very similar problem with that `catch` block under different conditions.

If I provide invalid credentials (so not a recoverable situation) then SaslAuthenticationException is thrown by 'consumer.poll` and hits this problematic `catch` clause. Reconnect is attempted, fails again and we get into an infinite loop situation.

The big problem is that there is no way for the application to know about this problem. I'd like to write a custom Spring Boot Health Indicator that would return Health.down() in such a situation, but I don't see it possible as no information about the problem bubbles outside of that infinite loop.

Attempting to reconnect only for RetriableExceptions sounds reasonable, other error situations should be handed back to Camel and made visible.

 ",,,,,,,,,,,,,,,,,,,,,,,,,
[CAMEL-K] generate traits table using Antora,CAMEL-14993,13302153,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,djencks,djencks,djencks,2020/4/30 16:47,2020/6/27 19:02,2021/3/6 6:31,,3.2.0,,,,,,,camel-k,website,,,,,,0,,,,,,"I propose moving traits to a 'traits' module and generating the list of traits on 'traits.adoc' using antora rather than go.

I believe there is a problem with traits doc generation; the pages for threescale and main are not generated locally.  I'll open a separate issue to discuss this",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,02:01.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jun 27 19:02:01 UTC 2020,,,,,,,,0|z0e9qg:,9.22337E+18,,,,,,,,,,,,,,,"30/Apr/20 17:18;djencks;As a follow up, are there any attributes of the traits that would be useful displayed in an index table? Perhaps planning for the future, ""since"".",27/Jun/20 19:02;zregvart;[~nferraro] perhaps you're not aware of this issue. Should we keep the go generator or should we go (excuse the pun) with a Antora + indexTable plugin instead? We have the indexTable for the [Camel components|https://github.com/apache/camel/blob/d917e1c2209965b5d49af34ce7c9aa4b098c9421/docs/components/modules/ROOT/pages/index.adoc#L14-L18] and it's data comes from [Asciidoc attributes|https://github.com/apache/camel/blob/d917e1c2209965b5d49af34ce7c9aa4b098c9421/docs/components/modules/ROOT/pages/activemq-component.adoc#L5-L9].,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AWS2 components: support async mode,CAMEL-15011,13302797,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/5/5 6:34,2020/5/5 6:34,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"The AWS SDK v2 supports asynchronous mode [1] so it would be nice if our aws2 component would support that model. We  should also investigate if and how we can share the event loop between camel and the aws2 sdk for an end2end reactive story.


[1] https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/basics-async.html
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,34:30.0,,,,,,,,0|z0edpk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka - Add support for Kafka transactions,CAMEL-15016,13302967,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/5/5 20:30,2020/5/20 1:42,2021/3/6 6:31,,,,,,,3.x,,camel-kafka,,,,,,,4,,,,,,"Lets look at if we can add some support for kafka transactions in the consumer and producer. But mind this is Kafka specific and not for XA transactions etc.

But it can benefit to be able to rollback sending to kafka in the producer if for example you consume from X and send to kafka and then send to something else and that fails and then you want to rollback sending to kafka.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,42:15.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed May 20 01:42:15 UTC 2020,,,,,,,,0|z0eerk:,9.22337E+18,,,,,,,,,,,,,,,"05/May/20 20:30;davsclaus;A guide for kafka transactions
https://www.baeldung.com/kafka-exactly-once","20/May/20 01:42;zhfeng;It looks interesting and I wonder how to control the kafka transactions in the camel ? Is it possible to introduce the kafka-tx component to do such things, just like ""kafka-tx:begin"", ""kafka-tx:commit"", ""kafka-tx:rollback"" ?

Or we can use the *LAST RESOURCE COMMIT OPTIMIZATION (LRCO)* to add it in the XA transaction ? we can introduce a bridge from the kafka transaction to the xa and implement the LRCO.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-resteasy: in tests swap Arquallian with another implementation ,CAMEL-15038,13303970,12485724,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,onders,onders,2020/5/11 0:05,2020/5/11 0:05,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:52.0,,,,,,,,0|z0ekmo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-resteasy: support inputstream and byte[] in ResteasyProducer,CAMEL-15039,13303971,12485724,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,onders,onders,2020/5/11 0:07,2020/7/23 14:24,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,07:22.0,,,,,,,,0|z0ekmw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-resteasy: get rid of reflections in ResteasyProducer,CAMEL-15040,13303972,12485724,Sub-task,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,onders,onders,2020/5/11 0:08,2020/7/23 14:25,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 23 14:25:20 UTC 2020,,,,,,,,0|z0ekn4:,9.22337E+18,,,,,,,,,,,,,,,23/Jul/20 14:22;onders;httpbinding removed and now relying on camel-http-common,"23/Jul/20 14:25;onders;sorry it is now gone into 
ResteasyProducer, reopening to follow up possibly",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-resteasy: could resteasyfilter be swapped and stream caching feature be used instead of stream copy,CAMEL-15042,13303974,12485724,Sub-task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,onders,onders,onders,2020/5/11 0:10,2020/7/23 14:19,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 23 14:19:57 UTC 2020,,,,,,,,0|z0eknk:,9.22337E+18,,,,,,,,,,,,,,,"23/Jul/20 14:19;onders;1- did a refactoring to remove ResteasyHttpBinding and DefaultResteasyHttpBinding. so it is now basically relying on httpBinding from camel-http-common unless any custom implementation is provided.

2- rather than plain streams, streamcache kind of streams are used while copying HttpServletRequest and HttpServletResponse.

3- as far as i can see, copying streams are needed via filtering..it may require a little bit of more exploration on how that could be done without filtering which i have not found a way yet.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-spring-boot - Starter website use BOM if possible,CAMEL-15083,13305724,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/5/18 17:32,2020/6/12 7:51,2021/3/6 6:31,,,,,,,3.x,,camel-spring-boot,,,,,,,0,,,,,,"See tweet for issue
https://twitter.com/snicoll/status/1262396233034928128?s=20

On the start.spring.io we should see if we can use BOM for camel spring boot dependencies instead so its like the examples with 2 BOMs for spring-boot and another for camel.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,32:22.0,,,,,,,,0|z0evg8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a dapr component,CAMEL-15088,13305948,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/5/19 15:05,2020/5/19 15:05,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"We should create a darp component to interact with dapr APIs: https://github.com/dapr/docs/tree/master/reference/api so we can as example

{code:java}
from(""dapr:pubsub/topic"")
   .to(""dapr:invoke/${appName}/${appMethod}"")
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:28.0,,,,,,,,0|z0ewu8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review if the camel-elasticsearch-rest component can be rewritten using the low-level client,CAMEL-15092,13306267,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,valdar,valdar,2020/5/20 17:57,2020/5/21 11:05,2021/3/6 6:31,,3.3.0,,,,,,,camel-elasticsearch-rest,,,,,,,0,,,,,,"To keep the dependencies to a minimum (that would help in subprojects like {{camel-kafka-connector}} and {{camel-quarkus}}) would be good to investigate if is possible to rewrite the {{camel-elasticsearch-rest}} component just depending on: 

{code:xml}
        <dependency>
            <groupId>org.elasticsearch.client</groupId>
            <artifactId>elasticsearch-rest-client</artifactId>
        </dependency>
{code}

instead of:

{code:xml}
        <dependency>
            <groupId>org.elasticsearch.client</groupId>
            <artifactId>elasticsearch-rest-high-level-client</artifactId>
        </dependency>
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,57:55.0,,,,,,,,0|z0eyt4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Extension or getter/setter on ExtendedCamelContext,CAMEL-15105,13307028,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/5/24 8:24,2021/1/21 14:43,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"We should revisit the way we access plugins in CamelContext via either Extension or getter/setter on ExtendedCamelContext.

They are currently separated, and could be uniform and consistent.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,07:13.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Dec 08 07:07:13 UTC 2020,,,,,,,,0|z0f3i8:,9.22337E+18,,,,,,,,,,,,,,,"08/Dec/20 07:07;Mahas_M;Hi,

I'm Mohammadu Milhar Mahas, a second year undergraduate in Computer Science at the University of Jaffna, Sri Lanka,

I would like to work with this project 

please help me to start up this project for Gsoc 2021",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-as2 component failed to parse entity content for encrypted or compressed data,CAMEL-15111,13307407,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,mrsafi,mrsafi,2020/5/26 10:32,2020/5/26 10:46,2021/3/6 6:31,,3.3.0,,,,,,,,,,,,,,0,AS2,"encrypted,",receive,server,,"AS2 component can receive only messages that has the following content-type: 
 * application/edifact
 * application/edi-x12
 * application/edi-consent

in case of a PLAIN interchange it works fine, however when i try to receive an ENCRYPTED/SIGNED/COMPRESSED messages camel don't recognize the content type of the interchange.

Here is the message sent by my trading partner : 


{code:java}
AS2-From: ESALINK
AS2-To: YSF2
AS2-Version: 1.2
Date: Mon, 25 May 2020 22:04:47 GMT
Disposition-Notification-Options: signed-receipt-protocol=optional,pkcs7-signature;signed-receipt-micalg=optional,md5
Disposition-Notification-To: ediint-sync-mdn
EDIINT-Features: multiple-attachments
Message-ID: <20200525220447.3200.111@DESKTOP-OT6I4JG>
Subject: message from YSF
Content-Type: multipart/signed; protocol=""application/pkcs7-signature""; micalg=md5; boundary=""------15ECC40FF5D299411590444287BC801""
--------15ECC40FF5D299411590444287BC801
Content-Transfer-Encoding: binary
Content-Disposition: attachment; filename=""smime.p7m""
Content-Type: application/pkcs7-mime; smime-type=compressed-data; name=""smime.p7m""0?†H†?
		 ??*†H†?
	0?*†H†?
 ?€‚îxrÎÏ+IÍ+Ñ
)JÌ+NK-ÒuÍKÎOÉÌK- RHÊÌK,ªäår?qÉ,.È/Î,ÉÌÏ³RH,)ILÎÈjµVHËÌIÍKÌMµU*ÎÍÌMÕ+0ÏUBh©,Hª/(ÈÉLNiÖ/ÈN.6×)µVëÐ-ª±MÍ+KÍÉ/HMÑMI,I´VÀ4'—?‰©€S«Í£í;/#;ó?¦D P,#ƒaãqƒ&ÆÃ@¦Aã*ƒÆ%†ÜœlÌ¡,lÂLnA†ü??›Ð§É©†|< vaÖ€Ä¢ÌbC1ŸK˜×=5/µ(³BÁ½(¿´ÀPÆ@
$Î-,ìšö»0¨RR#
ŠR‹?

øA²ÌÂ‰E%@}F†Úšpr2ŠÉ""?W€?¤CŒN™¬—œŸr",/\5##+K#ƒYOú¿¥Šw6ßíiJ(»œqÉj­ã±_bE§fýÖas®XµxÚ'Ï™|,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-rabbitmq creates its own queue when properties do not match,CAMEL-15123,13307758,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sburkard,sburkard,2020/5/27 14:21,2020/5/27 14:22,2021/3/6 6:31,,3.3.0,,,,,,,camel-rabbitmq,,,,,,,0,,,,,,"According to [this question and answer on StackOverflow|https://stackoverflow.com/a/26509746/8035582], camel-rabbitmq creates its own queue instead of using an existing one when the queue properties and the connection string properties do not match.

This is especially confusing when the {{queue}} property is provided, but the consumer does not consume or produce to/from the predefined queue.

And it can be tricky too: *differences can be hidden in default values of the Camel consumer*. In the mentioned SO answer, the property {{autoDelete}} was the difference (by default {{true}} in Camel, but {{false}} on the predefined queue).

From a user perspective, camel-rabbitmq should always connect to the predefined queue if the queue name and the rabbitmq exchange match an existing exchange/queue. Even if some other properties do not match. It could perhaps warn in the logs about any differences in properties.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,21:21.0,,,,,,,,0|z0f800:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel health - Discover custom health checks from classpath,CAMEL-15133,13308277,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/5/29 8:46,2020/5/29 8:46,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"We can look at making writing custom HealthCheck be discoverable from classpath, so they can be automatic installed.

You can then build checks for Camel components (check ala spring boot actuators) that can be registered in health check registry.

And then if you run on spring boot, they can become adapted to spring boot actuators.
And for camel-main and camel-quarkus then we can look at using microprofile-health.

This need some more thought at first. Also this should be configurable to turn on|off, and maybe a way to configure each health checks. And have some tool that can generate documentation about the checks and their options. And then we need reflection free configuration (via configurer classes) and so on.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,46:13.0,,,,,,,,0|z0fb5c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build a Documentation Under Constructions handlebar,CAMEL-15142,13308649,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Aemie,Aemie,2020/6/1 7:14,2020/6/5 20:20,2021/3/6 6:31,,,,,,,,,,,,,,,,0,outreachy2020,,,,,"* I observed that for certain pages including [https://camel.apache.org/camel-spring-boot/latest/spring-cloud-zookeeper.html] & [https://camel.apache.org/camel-spring-boot/latest/spring-cloud-consul.html], the documentation is yet not written however published on the website. So in such cases, I believe it is a good practice to include a construction page handlebar as a user would be informed about if documentation is yet to be made or not. 
 * What are your opinions on this, [~zregvart]?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,08:36.9,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Jun 05 20:20:28 UTC 2020,,,,,,,,0|z0fdfk:,9.22337E+18,,,,,,,,,,,,,,,"02/Jun/20 07:08;zregvart;How did you reach those pages? If we link to those pages either they’re no longer relevant and links need do be removed, and in that case the broken link checker should have failed to find them so we need to fix the link checker as well.","02/Jun/20 10:03;Aemie;They are easy to navigate through the camel spring documentation and it was just completely empty. Yea, if those pages are not meant to be found, it must be fixed but if that's the case why are they existing within the nav.adoc file? ","05/Jun/20 20:20;zregvart;[~Aemie] I think we had those documents before, not sure if the code generation overwritten them or they should not be linked to. Perhaps [~acosentino] might know.

In any case we're going to have work in progress documents, that might appear empty, not sure how to handle that other than to find all those documents and put a notice in them. It's a bit unclear to me what ""construction page handlebar"" would be and how would it be implemented.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a gRPC component based on vert.x,CAMEL-15145,13308732,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jamesnetherton,jamesnetherton,2020/6/1 14:10,2020/6/2 6:22,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"It'd be good for Quarkus integration if the the gRPC component could support vertx-grpc (for both producer & consumer).

Not sure if it's feasible or correct to modify the existing camel-grpc component to support this. Hence I propose a new component.

[~dmvolod] what do you think?

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,03:49.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Jun 02 06:22:48 UTC 2020,,,,,,,,0|z0fdy0:,9.22337E+18,,,,,,,,,,,,,,,"01/Jun/20 16:03;dmvolod;[~jamesnetherton], yes, sounds good, but I would like to try investigate is it possible to migrate current implementation to the vertx-grpc

I would be nice to have just one implementation for gRPC rather than more one. Otherwise, I think it possible to extend vertx-grpc for unsupported features if needed.","02/Jun/20 06:22;jamesnetherton;Ok, that makes sense. Let me know if you find whether its possible to update the current component.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-openapi-java - Support Description of Request and Response Bodies,CAMEL-15158,13310050,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dschulten,dschulten,2020/6/8 8:04,2020/7/4 7:21,2021/3/6 6:31,,3.3.0,,,,,3.x,,camel-openapi-java,,,,,,,2,,,,,,"Currently the OpenAPI generator does not produce descriptions of request or response bodies.

Request to provide a mechanism to describe bodies based on reflection upon pojo types and/or examples provided by the developer. Possibly as schema references.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,04:42.0,,,,,,,,0|z0fm2g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Component - Use doInit for wiring instead of doStart (part 2),CAMEL-15176,13310873,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/6/11 8:56,2021/2/1 13:55,2021/3/6 6:30,,,,,,,3.9.0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,57:50.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 06 15:25:52 UTC 2020,,,,,,,,0|z0fr4w:,9.22337E+18,,,,,,,,,,,,,,,"19/Aug/20 16:34;davsclaus;There is a file that tracks the status at
https://github.com/apache/camel/blob/master/components/components-init-work-in-progress.md","06/Nov/20 13:57;omarsmak;Hey [~davsclaus], 

I have a question in regards to this, as far as I understood any client creation operations should be moved to {{doInit}} instead of {{doStart}} only for static stuff as long that it does not create threads, runtime depending operating ... etc, isn't? What if for example the client would create its own threads to interact with the service, for example [EventHub client|https://github.com/apache/camel/blob/4ea9e6c357371682b855d2d79655b41120331b7a/components/camel-azure-eventhubs/src/main/java/org/apache/camel/component/azure/eventhubs/EventHubsConsumer.java#L47], I'd assume in this case we just leave it under {{doStart}}? Or at least create the client in the {{doInit}} and start it under {{doStart}} ?","06/Nov/20 15:11;davsclaus;Yes exactly. 

init is most useable for dependecy injection, loading resources from classpath, creating basic objects etc.

And yes if a client as you talk about have a start method that creates threads, then that should be in doStart.
But creating the client via new XXX may sometimes be possible in init, unless it starts threads etc in its constrcutor. So a good thing is to look inside the source of the client what it does to be sure.
","06/Nov/20 15:25;omarsmak;Thanks for the tip, will keep it in mind (y)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-k - The generate traits navigation should be titled nicely,CAMEL-15179,13310917,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2020/6/11 13:01,2020/6/27 18:57,2021/3/6 6:31,,,,,,,3.x,,website,,,,,,,0,,,,,,"If you see the traits navigation on the left side
 [https://camel.apache.org/camel-k/latest/traits/gc.html]

Then the items are displayed as first letter upper cased and rest lower.
 This makes some of the items ""ugly""

Gc -> GC
 Jvm -> JVM
 3scale -> 3Scale

In the camel 3 repo we have tooling that allows us to specify a title and override the generate named, so we can say title = ""JVM"".

I wonder if we could get something for the camel-k tooling that generates this navigation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,16:17.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jun 27 18:57:46 UTC 2020,,,,,,,,0|z0freo:,9.22337E+18,,,,,,,,,,,,,,,"12/Jun/20 13:16;Aemie;[~davsclaus] you want the autogeneration of traits navigation similar to that of component nav autogeneration in camel, right? ","13/Jun/20 07:20;davsclaus;Yeah (if its auto generated, which I assume)","20/Jun/20 15:37;Aemie;[~davsclaus] in the nav.adoc the traits are autogenerated, where is the code written to generate the traits index within *nav.adoc* [[https://github.com/apache/camel-k/blob/master/docs/modules/ROOT/nav.adoc]] . Also, I thought if I were to create an adoc file with all the traits, it's best to create a separate adoc within *ROOT* as *nav-traits.adoc* and then include that within the a*ntora.yml*",27/Jun/20 18:57;zregvart;I think the issue is caused by calling {{strings.Title}} on this line [https://github.com/apache/camel-k/blob/cdbb25cca61e9df62e8442c310afe4f4f029561c/cmd/util/doc-gen/generators/traitdocgen.go#L156]. Perhaps [~nferraro] can help us understand the need for that. [~nferraro] can {{strings.Title}} be removed?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-salesforce - Camel looses subscription when Invalid Replay ID is trown by SFDC,CAMEL-15203,13311955,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,Thadir,Thadir,2020/6/17 12:31,2020/6/17 16:13,2021/3/6 6:31,,3.3.0,3.4.0,,,,,,camel-salesforce,,,,,,,0,,,,,,"SFDC has several errors documetned: [https://developer.salesforce.com/docs/atlas.en-us.api_streaming.meta/api_streaming/streaming_error_codes.htm]

 

There are several problems: How the `SubscriptionHelper` is handling connection errors. At the moment it has a hardcoded 401 and 403 handling. But there are several valid  errors as in the specication above disibed.

 

Atm if we hit these errors, in example the {{400}} with the message body message {{The replayId \{replay_id} you provided was invalid. Please provide a valid ID, -2 to replay all events, or -1 to replay only new events.. }}You would expect that when we get this error, appache camel tries to retrieve it with a replay_id with -2 or -1. At the moment if you get this error you loose subscription total to the channel.

I sugest a generic error handler:

Psudo code:
{code:java}
public class SalesForceStreamingErrorHandler {
    APIversionMandatory(""400"", ""API version in the URI is mandatory""),
    UnsupportedAPIversion(""400"", ""Unsupported API version""),
    InvalidConnectionType(""400"", "" Invalid connection type""),
    ChannelNotExists(""400"", ""The channel you requested to subscribe to does not exis""),
    ChannelNameMissing(""400"", ""Channel name not specified""),
    IncorrectChannelName(""400"", ""Channel subscriptions must start with a leading '/'""),
    QueryFieldsDoNotExist(""400"", ""Query fields {query_fields} do not exist on the topic entity""),
    CookieMissing(""400"", ""Client client_name has established a session, but no cookie_name cookie present""),
    InvalidReplayID(""400"", ""The replayId {replay_id} you provided was invalid. Please provide a valid ID, -2 to replay all events, or -1 to replay only new events.""),
    AuthenticationInvalid(""401"", ""Authentication invalid"",true,false),
    RequestRequiresAuthentication(""401"", ""Request requires authentication"", true,false),
    CannotCreateChannel(""403"", ""Cannot create channel""),
    AccessToTopic(""403"", ""Subscriber does not have access to the entity in this topic""),
    AccessToField(""403"", ""Subscriber does not have access to all fields referenced in the where clause of the PushTopic""),
    HandshakeDenied(""403"", ""Handshake denied""),
    IncompleteHandshake(""403"", ""Client has not completed handshake""),
    OrganisationConcurendUser(""403"", ""Organization concurrent user limit exceeded""),
    OrganisationDailyLimit(""403"", ""Organization total events daily limit exceeded""),
    RestrictedChannel(""403"", ""Restricted channel""),
    UserNotEnabled(""403"", ""User not enabled for streaming""),
    UserNotAllowed(""403"", ""User not allowed to subscribe CDC without View All Data permissions""),
    SubscriptionLimit(""403"", ""Subscription limit exceeded for this topic""),
    UnknownClient(""403"", ""Unknown client""),
    DDOS_PROTECTION(""403"",
            ""To protect all customers from excessive use and Denial of Service attacks, we limit the number of simultaneous connections per server. Your request has been denied because this limit has been exceeded. Please try your request again later.""),
    MaxRequstSize(""413"", ""Maximum Request Size Exceeded""),
    ServerBusY(""503"", ""Server is too busy. Please try your request again later."");
{code}
With a new configuration option:
{code:java}
// Streaming API properties
@UriParam
private Optional<Long> fallbackReplayId;
{code}

With new logic in the SubscriptionHelper to reconnect with the fallback replayID when set. This way we can also improve the eventually the robustness of how error msges are handled in this component. At the moment we have a lot of problems with the replayID bc they can expire afhter 72 hours on the buss and if you had downtime with the bayeux buss, having this missed is a problem.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,49:51.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Jun 17 16:01:34 UTC 2020,,,,,,,,0|z0fxs0:,9.22337E+18,,,,,,,,,,,,,,,17/Jun/20 12:49;davsclaus;Try Camel 3.4 as there has been some salesforce fixes and improvements,17/Jun/20 16:01;Thadir;This does not fix this problem let me explain it better sorry.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-tika: enhance TikaProducer to use TikaParserProducer interface for better usage ,CAMEL-15207,13312126,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,jondruse,jondruse,jondruse,2020/6/18 7:38,2020/6/18 7:38,2021/3/6 6:31,,3.3.0,,,,,,,camel-tika,,,,,,,0,,,,,,"Issue https://issues.apache.org/jira/browse/CAMEL-14833 brought a possibility to define different parser (instead of autodetect one). This solution should be refactored to more suitable (usable) way, by introducing the TikaParserProducer. (it should eliminate the need of of the extension of the TikaComponent)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,38:06.0,,,,,,,,0|z0fyu8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-main - Allow to configure SSL context parameters,CAMEL-15211,13312142,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/6/18 8:22,2020/10/9 12:39,2021/3/6 6:31,,,,,,,3.x,,camel-main,,,,,,,0,,,,,,"Would be great if we can make configuring Camels SSL security parameters via camel.main.ssl. parameters.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,22:21.0,,,,,,,,0|z0fyxs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup and refactore Camel Karaf,CAMEL-15226,13312815,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,jbonofre,jbonofre,2020/6/22 11:26,2020/9/30 18:25,2021/3/6 6:31,,,,,,,3.x,,karaf,,,,,,,0,,,,,,"Now that camel-karaf is its own repo, we can do a cleanup and better shape. I'm working on it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,26:20.0,,,,,,,,0|z0g33c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove camel-osgi-activator to use an improved whiteboard as part of camel-core,CAMEL-15227,13312816,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,jbonofre,jbonofre,2020/6/22 11:27,2020/9/30 18:25,2021/3/6 6:31,,,,,,,3.x,,karaf,osgi,,,,,,0,,,,,,"Instead of having a component camel-osgi-activator, we can use a better whiteboard directly part of camel-core-osgi.

We can also support several camel context using a service property and provide a new interface CamelContextConfigurer allowing to create and configure CamelContext smoothly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,27:52.0,,,,,,,,0|z0g33k:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Drop Java 8 support,CAMEL-15234,13313176,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/6/24 7:23,2020/7/4 7:19,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Camel 3.4 LTS is the last release to support Java 1.8.

We should drop this in 3.5 onwards and then shift to focus on JDK 11 and 14 as supported.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jul 04 07:19:04 UTC 2020,,,,,,,,0|z0g5ao:,9.22337E+18,,,,,,,,,,,,,,,04/Jul/20 07:19;davsclaus;Moved til start of 2021,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Google Pubsub Component manual acknowledgement mode,CAMEL-15252,13313851,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,rvenk,rvenk,2020/6/28 12:15,2020/6/29 11:41,2021/3/6 6:31,,3.4.0,,,,,,,camel-google-pubsub,,,,,,,0,,,,,,"The camel documentation states that there are two ways to acknowledge a Google pubsub message. They are ""ackMode=AUTO"" and ""ackMode=NONE"". If the mode is set to NONE, the document states that the ""downstream process has to acknowledge explicitly"". However there are no examples, or pointers on how to do that.

The unit tests also do not reflect this scenario. The [AckModeNoneTest.java|https://github.com/apache/camel/blob/master/components/camel-google-pubsub/src/test/java/org/apache/camel/component/google/pubsub/integration/AckModeNoneTest.java] sets the ackMode to NONE, and checks if the message is redelivered, but it doesn't test how to acknowledge the message. This file [AcknowledgeSync.java|https://github.com/apache/camel/blob/master/components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/consumer/AcknowledgeSync.java] has the steps to acknowledge, but it's not clear how to do that within a Camel route. It seems to need an class called com.google.cloud.pubsub.v1.stub.SubscriberStub that is passed into it.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,15:17.0,,,,,,,,0|z0g9g8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CamelContext - Logging custom features in use,CAMEL-15254,13313963,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/6/29 7:35,2020/6/29 7:35,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"In AbstractCamelContext we log if custom features has been detected and are in use, such as when they can be installed via classpath.

We could maybe use the extension mechanism and make them as custom extensions. And then which extensions are in use

Camel extensions: xxx, yyy, zzz

Similar to what Quarkus does by logging which extensions that are enabled.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,35:58.0,,,,,,,,0|z0ga54:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Scheduled Thread pool in EIP - Allow to use external provider,CAMEL-15256,13314016,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/6/29 11:52,2020/9/18 15:31,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"Some EIPs have scheduled background tasks that periodically check for stuff, like timeouts in aggregator, and whatnot.

We could look at having a way for a 3rd party SPI to plugin via ThreadPoolFactory a way for using a custom scheduler instead of a ScheduledThreadPoolExecutor.
",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15197,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 18 15:31:14 UTC 2020,,,,,,,,0|z0gagw:,9.22337E+18,,,,,,,,,,,,,,,18/Sep/20 15:31;davsclaus;Currently its only non scheduled thread pool we have a SPI and pluggable system for.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel XML XSD - EIPs have route as possible choices,CAMEL-15263,13314412,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/7/1 5:49,2020/7/3 14:02,2021/3/6 6:31,,,,,,,3.x,,camel-blueprint,camel-spring,,,,,,0,,,,,,"EIPs with outputs have route as a possible choice due to how JAXB generates the schema.
We can amend the file afterwards and remove it. And also now routeTemplate.",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-14963,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,49:43.0,,,,,,,,0|z0gcww:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create camel-knative component in main Camel components based on camel-knative for camel-k ,CAMEL-15275,13315402,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,omarsmak,omarsmak,2020/7/7 13:05,2020/7/9 11:40,2021/3/6 6:31,,3.4.0,,,,,,,,,,,,,,0,,,,,,"Currently we have [{{camel-knative}} component|https://github.com/apache/camel-k-runtime/tree/master/camel-knative] in camel-k that enables camel routes deployed in with camel-k to interact with knative components like eventing. However, currently it is only exclusive to camel-k, hence it will make sense to bring/create this component as part of the main Camel components in order in order to enable non-camel-k routes that deployed with knative (e.g: camel-quarkus, camel-spring-boot) to utilize and interact in kantive. 

FYI [~davsclaus] [~lb]] thoughts on this? I recall there was some discussion on brining this component to main Camel components.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,22:25.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jul 09 11:39:04 UTC 2020,,,,,,,,0|z0givs:,9.22337E+18,,,,,,,,,,,,,,,08/Jul/20 06:22;lburgazzoli;[~omarsmak] it is planned but may take a while as we need to consolidate some bits before moving in the main camel repo,"09/Jul/20 11:39;omarsmak;[~lburgazzoli] sure, no problems. But in case, I can ship in to help as well here as I think this is very valuable :) ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-AS2 - mdn message handling and also Receipt-Delivery-Option header,CAMEL-15279,13315545,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,bchankl,bchankl,2020/7/8 4:38,2020/7/8 4:38,2021/3/6 6:31,,3.4.0,,,,,,,camel-as2,,,,,,,0,,,,,,"# add an option to allow as2 producer to set the ""Receipt-Delivery-Option"" header
 ## both in routing and also when using AS2ClientManager.send methods
 # when receiving a MDN message, the HttpMessageUtils.extractEdiPayload will throw an exception saying invalid content type 'multipart/report'

!image-2020-07-08-12-37-58-469.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,08/Jul/20 04:36;bchankl;image-2020-07-08-12-36-50-232.png;https://issues.apache.org/jira/secure/attachment/13007252/image-2020-07-08-12-36-50-232.png,,,,,1,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,38:17.0,,,,,,,,0|z0gjrc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickfix uses unrecognized xerces property,CAMEL-15281,13315638,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,tdiesler,tdiesler,2020/7/8 14:02,2020/12/22 11:48,2021/3/6 6:31,,,,,,,3.x,,camel-quickfix,,,,,,,0,,,,,,"The recent update to quickfix-2.2.0 may lead to ...

{code}
Caused by: quickfix.ConfigError: FIX42.xml: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.
	at quickfix.DataDictionary.read(DataDictionary.java:871)
	at quickfix.DataDictionary.<init>(DataDictionary.java:104)
	at quickfix.DefaultSessionFactory.lambda$static$0(DefaultSessionFactory.java:42)
	at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660)
	at org.quickfixj.SimpleCache.computeIfAbsent(SimpleCache.java:41)
	at quickfix.DefaultSessionFactory.getDataDictionary(DefaultSessionFactory.java:366)
	at quickfix.DefaultSessionFactory.createDataDictionary(DefaultSessionFactory.java:269)
	at quickfix.DefaultSessionFactory.processPreFixtDataDictionary(DefaultSessionFactory.java:259)
	at quickfix.DefaultSessionFactory.create(DefaultSessionFactory.java:154)
	at quickfix.mina.acceptor.AbstractSocketAcceptor.createSessions(AbstractSocketAcceptor.java:235)
	at quickfix.mina.acceptor.AbstractSocketAcceptor.startAcceptingConnections(AbstractSocketAcceptor.java:96)
	... 163 more
Caused by: java.lang.IllegalArgumentException: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.
	at org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.setAttribute(DocumentBuilderFactoryImpl.java:144)
	at __redirected.__DocumentBuilderFactory.setAttribute(__DocumentBuilderFactory.java:125)
	at quickfix.DataDictionary.load(DataDictionary.java:883)
	at quickfix.DataDictionary.read(DataDictionary.java:869)
	... 173 more
{code}

This happens when we run on WildFly-20.0.0 with xerces-2.12.0.SP02",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,34:05.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Dec 22 11:48:30 UTC 2020,,,,,,,,0|z0gkb4:,9.22337E+18,,,,,,,,,,,,,,,"29/Jul/20 14:34;davsclaus;Can you try to report this at quickfix
https://github.com/quickfix-j/quickfixj

","22/Dec/20 11:48;davsclaus;Reported at quickfix at
https://github.com/quickfix-j/quickfixj/issues/346",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-salesforce: make it possible to provide login options as uri param,CAMEL-15286,13315875,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,dhirajsb,lb,lb,2020/7/9 12:00,2021/2/1 13:55,2021/3/6 6:30,,,,,,,3.x,,camel-salesforce,,,,,,,0,,,,,,"Configuring the Salesforce is quite complex compared to other complex as it requires to write some java beans:

{code:java}
SalesforceComponent component = new SalesforceComponent();
SalesforceEndpointConfig config = new SalesforceEndpointConfig();
SalesforceLoginConfig loginConfig = new SalesforceLoginConfig();

loginConfig.setType(AuthenticationType.REFRESH_TOKEN);
loginConfig.setClientId(properties.getProperty(""clientId""));
loginConfig.setClientSecret(properties.getProperty(""clientSecret""));
loginConfig.setRefreshToken(properties.getProperty(""refreshToken""));

component.setPackages(""org.apache.camel.example.salesforce"");
component.setConfig(config);
component.setLoginConfig(loginConfig);
{code}

It would be nice if most of the configuration could be done with uri params only and to require to write beans only for really advanced options.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,13:51.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Nov 25 17:13:51 UTC 2020,,,,,,,,0|z0glr4:,9.22337E+18,,,,,,,,,,,,,,,"25/Nov/20 17:13;jeremyross;[~dhirajsb] What runtime are you using? In my typical spring boot projects I don't have to create any beans. The application.properties file will contain this:

{code}
camel.component.salesforce.clientId=
camel.component.salesforce.clientSecret=
camel.component.salesforce.userName=
camel.component.salesforce.password=
camel.component.salesforce.loginUrl=
camel.component.salesforce.packages=
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Non-uniform way to handle nulls in http clients,CAMEL-15287,13315887,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,nferraro,nferraro,2020/7/9 12:49,2020/7/28 5:22,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Suppose you have an external Quarkus service that replies always with null.

 

When calling it from a camel route via:
{code:java}
.to(""http://quarkus-service/null-api"") {code}
Then the body of the exchange is null.
 
But if we use:
 
{code:java}
 .to(""netty-http:http://quarkus-service/null-api""){code}
 
Then the body becomes an empty InputStream, which is not null.
 
I don't know what's the correct way to handle such cases, but we should try to uniform them.
 
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,49:04.0,,,,,,,,0|z0glts:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel OSGi: Allow for defining the Bean resolution order,CAMEL-15288,13315986,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,lichtin,lichtin,2020/7/9 20:40,2020/7/10 4:30,2021/3/6 6:31,,2.24.3,,,,,,,camel-osgi,,,,,,,0,,,,,,"Currently OsgiDefaultCamelContext updates the registry and inserts OsgiServiceRegistry as the _first_ registry into the list.

This can lead to undesirable behaviour, so an option to define the resolution order will be helpful.

For example, it can be more appropriate to lookup local beans first, only go to lookup an OSGi service if no local bean is found. Or it could be desired to not lookup OSGi services at all.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:59.0,,,,,,,,0|z0gmfs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide various type converters for camel-xchange,CAMEL-15301,13316723,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,tdiesler,tdiesler,tdiesler,2020/7/14 15:18,2020/7/19 8:56,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"There is currently no auto conversion for 

* String <=> Currency
* String <=> CurrencyPair

and perhaps other common types",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,18:28.0,,,,,,,,0|z0gqzk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve website documentation on testing with SpringBoot & JUnit5,CAMEL-15401,13322252,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,bertkoor,bertkoor,2020/8/12 12:26,2020/8/12 13:39,2021/3/6 6:31,,3.4.2,,,,,,,camel-spring-boot,camel-test,,,,,,0,,,,,,"When searching online for strategies to test a fragment of a Camel route with JUnit5 in the context of a Spring Boot application, the returned documentation seems somewhat outdated (favouring xml instead of java config for both Spring and Camel related aspects) and missing a major point.

Some top google hits for ""apache camel test spring boot"" are:
 * [https://camel.apache.org/manual/latest/testing.html] 
 One (at least me) gets drawn to the ""Spring Test With Java Config"" example. When rebuilding from that example in a SpringBoot app, it won't ever work because the {{ProducerTemplate}} and {{MockEndpoint}} instances remain {{null}}. 
 I happened to have an old working example of a project built with Camel v2.20 which had the annotation {{@ContextConfiguration(loader = CamelSpringDelegatingTestContextLoader.class)}}. Adding that (and a dependency on {{camel-test-spring}} on top of {{camel-test-spring-junit5}}) made the injections work but caused an NPE at {{org.apache.camel.test.spring.CamelAnnotationsHandler.handleDisableJmx(CamelAnnotationsHandler.java:90)}} which gets fixed by adding a static method that sets a dummy test class in {{CamelSpringTestHelper}}.
 After asking for assistance on gitter it was suggested to try to annotate the test class with {{@CamelSpring*Boot*Test}} instead of {{@CamelSpringTest}} as the example showed. As always with annotations: that ""_magically_"" solved all issues. There was no way I could have known it existed.
 * [https://camel.apache.org/manual/latest/spring-testing.html]
 Using CamelSpringTestSupport and rolling your own implementation of an AbstractApplicationContext does not sound very attractive.
 The list of examples goes further with ""Plain Spring tests"" but only supported by JUnit4. It is uncertain whether this has any chance to work with JUnit5.
 * [https://camel.apache.org/components/latest/others/test-spring.html] 
 As already stated on the page: old and needs updating. Won't comment further. This looks like the original example I built my Camel v2.20 project with, using the  {{CamelSpringDelegatingTestContextLoader}}
 * [https://camel.apache.org/components/latest/others/test-spring-junit5.html] 
 It first suggests to extend CamelSpringTestSupport, but writing only my test config in xml does not sound appealing.
 Next comes an example again using {{@CamelSpringTest}} which has identical issues as brought up in my first bullet.","Spring Boot 2.3.2, JUnit5 that comes with the former, Java 11, Maven 3.6

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,26:03.0,,,,,,,,0|z0hozc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Box Endpoint DSL missing options for most api methods,CAMEL-15404,13322362,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,mgenereu,mgenereu,2020/8/12 20:25,2021/2/1 13:55,2021/3/6 6:30,,3.4.2,,,,,3.9.0,,camel-box,tooling,,,,,,0,,,,,,"Looking in [https://github.com/apache/camel/blob/master/components/camel-box/camel-box-component/src/generated/resources/org/apache/camel/component/box/box.json], none of the URI options for the different box API methods are available to the Endpoint DSL generator.  I don't know if there's an ""escape valve"" to allow me to apply non-typesafe options if the typesafe one is not available. Maybe it's a bug if the options are just not there.

Here's the endpoint I expected to write:
{code:scala}
object BoxRouteBuilder extends RouteBuilder() {

  override def configure(): Unit = {
    from(timer(""box_start"").repeatCount(1))
    .to(box(""folders/getFolderItems"").folderId(""12345678"")
    .to(kafka(""box_file_list"")
  }

}{code}
but instead I had to write this working code:
{code:scala}
object BoxRouteBuilder extends RouteBuilder() {

  override def configure(): Unit = {
    from(timer(""box_start"").repeatCount(1))
    .to(""box:folders/getFolderItems?folderId=12345678"")
    .to(kafka(""box_file_list"")
  }

}{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15478,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,21:29.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Aug 26 12:22:11 UTC 2020,,,,,,,,0|z0hpns:,9.22337E+18,,,,,,,,,,,,,,,13/Aug/20 16:48;mgenereu;[~cibsen@e-ma.net] is this a softball issue?  I'm new to Camel but can I help?,"26/Aug/20 12:21;davsclaus;Michael thanks for the offer, unfortunately its a bit more complex as it involves source code generation and whatnot",26/Aug/20 12:22;davsclaus;This may also apply for some of the other api components with extended configuration classes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
REST endpoint has inconsistent URL Encoding ,CAMEL-15410,13322572,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,kris.boutilier@gmail.com,kris.boutilier@gmail.com,2020/8/13 16:07,2020/8/13 16:38,2021/3/6 6:31,,3.4.2,,,,,,,rest,,,,,,,0,,,,,,"When passing query parameters to a REST producer the encoding behavior is inconsistent. Consider the following:
{code:java}
.to(""rest:get:bw-web-api/v1/objects/employees?host=agresso&companyId=RD&select=personId,personName&disconnect=true"")
{code}
The resulting request payload, as observed with Wireshark, is:
{code:java}
GET /bw-web-api/v1/objects/employees?companyId=RD&disconnect=true&select=personId%252CpersonName HTTP/1.1\r\n{code}
Note that the comma has been double-encoded resulting in transmission of %252C instead of the expected %2C.

If instead the problem string is passed as a parameter via a header, the comma is correctly encoded:
{code:java}
.setHeader(""select"", simple(""personId,personName""))
.to(""rest:get:bw-web-api/v1/objects/employees?host=agresso&companyId=RD&select={select}&disconnect=true"") {code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Aug 13 16:25:36 UTC 2020,,,,,,,,0|z0hqxk:,9.22337E+18,,,,,,,,,,,,,,,"13/Aug/20 16:25;kris.boutilier@gmail.com;It's not immediately clear if it's related to the above, but I'm also having issues with + vs %20 encoding of spaces when passed in via headers and, because the target server is pedantic, requests that use application/x-www-form-urlencoded style encoding are failing.

For example, this:
{code:java}
.setHeader(""filter"", simple(""date(time/date) ge 2020-06-01 and personId eq 'R10019'""))
.to(""rest:get:bw-web-api/v1/objects/timesheets?host=agresso&companyId=RD&select={select}&filter={filter}&onWorkFlow=true&noWorkflow=true"") 
{code}
results in a payload of:
{code:java}
GET /bw-web-api/v1/objects/timesheets?companyId=RD&filter=date%28time%2Fdate%29+ge+2020-06-01+and+personId+eq+%27R10019%27&noWorkflow=true&onWorkFlow=true&select=personId%2Cperiod%2Ctime%28*%29 HTTP/1.1\r\n{code}
however the server is expecting to see this encoding:
{code:java}
GET /bw-web-api/v1/objects/timesheets?companyId=RD&filter=date%28time%2Fdate%29%20ge%202020-06-01%20and%20personId%20eq%20%27R10019%27&onWorkflow=true&noWorkflow=true&select=personId%2Cperiod%2Ctime%28*%29 HTTP/1.1\r\n{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-box - No way to set OutputStream option,CAMEL-15412,13322658,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,mgenereu,mgenereu,2020/8/14 4:21,2020/8/14 20:00,2021/3/6 6:31,,3.4.2,,,,,,,camel-box,,,,,,,0,,,,,,"I want to download a file from Box and the setHeader doesn't accept objects when setting the header.  The required output parameter is a OutputStream. The integration tests use the component directly as opposed to the URLs or setHeader methods. I would have expected the outputstream payload to be in the Message coming out of the endpoint.  The REST component documentation looks more like what I was expecting.

My variation of the example from the docs that doesn't work:
{code:java}
from(""timer:test?period=3600"")
    .setHeader(""CamelBox.fileId"", constant(""12345678"")
    .setHeader(""CamelBox.output"", new ByteArrayOutputStream())
    .to(""box://files/download"")
    .to(""file://out"");
{code}

Using Camel thinking, I tried this code first but I understand if this component wants to be special with its headers and stuff.
{code:java}
from(""timer:test?period=3600"")
   .to(""box://files/download?fileId=123456789"") 
   .to(""file://out"");  
{code}

Again, please let me know what I can do to help.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Aug 14 20:00:50 UTC 2020,,,,,,,,0|z0hrgo:,9.22337E+18,,,,,,,,,,,,,,,"14/Aug/20 20:00;mgenereu;Here's the workaround. I hope it's right.
{code:scala}
object BoxRouteBuilder extends RouteBuilder() {

  override def configure(): Unit = {
    from(timer(""box_start"")
    .process(new Processor {
      override def process(exchange: Exchange): Unit = {
        val message = exchange.getMessage()
        message
          .setHeader(""CamelBox.fileId"", ""12345678"")
        exchange.getMessage()
          .setHeader(""CamelBox.output"", stream)
      }
    })
    .to(""box:files/download"")
    .to(kafka(""box_file_list"")
  }

}
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Kafka 2.6,CAMEL-15416,13322704,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/8/14 8:32,2020/8/14 8:32,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Spring Boot, Quarkus and Karaf etc may need a bit time to be ready for Kafka 2.6.x",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,32:41.0,,,,,,,,0|z0hrqw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
route coverage report - May report 0 for doCatch even if its in use,CAMEL-15462,13324416,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2020/8/25 8:30,2020/8/25 8:30,2021/3/6 6:31,,,,,,,3.x,,tooling,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Aug 25 08:30:45 UTC 2020,,,,,,,,0|z0i2b4:,9.22337E+18,,,,,,,,,,,,,,,"25/Aug/20 08:30;davsclaus;{code}
[INFO] Discovered 2 routes
[INFO] Route coverage summary:

File:	spring/camelContext.xml
Route:	save_data

  Line #      Count   Route
  ------      -----   -----
      65          3   from
      68          3     log
      70          3     convertBodyTo
      71          3     doTry
      73          3       to
      75          3       to
      78          2       log
      80          2       log
      81          2       setBody
      84          0       doCatch
      88          1         log
      89          1         setBody

Coverage: 11 out of 12 (91.7%)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-jetty: incompatible HttpReturnDataNotInputStreamConvertableTest behavior,CAMEL-15475,13324819,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,orpiske,orpiske,2020/8/27 11:16,2020/8/27 11:16,2021/3/6 6:31,,3.5.0,,,,,,,,,,,,,,0,,,,,,"Changing the [HttpReturnDataNotInputStreamConvertableTest|https://github.com/apache/camel/blob/17fc35d195268a433c843de815400a17e9229587/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpReturnDataNotInputStreamConvertableTest.java] test case in order to remove the deprecate the usage of getOut causes the test to fail.

 
 * Replacing it with getMessage() causes: `... <This is the response> but was: <>`
 * Replacing it with getIn() causes: `... <This is the response> but was: <>`

 

This test likely needs more comprehensive changes.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,16:44.0,,,,,,,,0|z0i4s8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel ActiveMQ component documentation needs improvement,CAMEL-15491,13325452,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jwwallin,jwwallin,2020/9/1 5:24,2020/9/1 5:24,2021/3/6 6:31,,,,,,,,,camel-activemq,,,,,,,0,Documentation,,,,,"I was working on a Camel Karaf to Quarkus integration migration and the way to use the built-in auto-configurations in those two is very different. I haven't worked much with either combination as I'm a subcontractor. 

In the documentation for this component there was no clear indication as to how the configuration worked in the Quarkus environment. After creating an issue about this on the quarkus-camel github repo, the eventual fix for this was to manually instantiate the component with the configuration I needed.

I was then asked to open an issue here. To me the biggest problem was that the information I needed wasn't available in the context it needed to be ie. the documentation on component configuration options. I'm not very familiar with either Camel or Quarkus. This information really needs to be clearer, since there are many new people like me coming in to these technologies.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:30.0,,,,,,,,0|z0i8ow:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document Http/2 protocol configuration for camel-undertow component,CAMEL-15494,13325600,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,gforde,gforde,2020/9/1 19:55,2020/10/6 13:09,2021/3/6 6:31,,,,,,,,,camel-undertow,,,,,,,0,,,,,,Please document how to add Http/2 Protocol to the camel-undertow component.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,55:41.0,,,,,,,,0|z0i9lk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Apache Camel camel-openapi-java Schema Definitions not generating correctly,CAMEL-15503,13326156,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,vrlgohel,KateHennessy,KateHennessy,2020/9/5 15:42,2021/2/1 14:09,2021/3/6 6:30,,3.4.3,,,,,3.9.0,,camel-openapi-java,,,,,,,4,,,,,,"Classes defined in RestDefinition _type_ and _outType_ are not generating correctly in openapi schema. This worked in the older older camel-swagger-java component, the schema was generating with all object definitions correctly. 

 

Please see this question on stack overflow for more details. 

[https://stackoverflow.com/questions/63691670/apache-camel-camel-openapi-java-schema-definitions-not-generating-correctly]

 

Sample project with the issue happening is attached. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,05/Sep/20 15:41;KateHennessy;camelOpenAPITest.zip;https://issues.apache.org/jira/secure/attachment/13011100/camelOpenAPITest.zip,,,,,1,,,,,,,,,,,,,,,,,,,,02:38.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Oct 13 07:52:47 UTC 2020,,,,,,,,0|z0id14:,9.22337E+18,,,,,,,,,,,,,,,06/Sep/20 06:02;vrlgohel;I will take a look into this.,16/Sep/20 23:41;Bassett;Is this the same as CAMEL-15158?,"17/Sep/20 17:12;KateHennessy;Hi Stephen, this might be the same issue; the other Jira is a little vague so I'm not 100% sure they are talking about the component schema definitions here.","13/Oct/20 07:44;davsclaus;This can also be seen by comparing camel-swagger-java and camel-openapi-java in the unit test RestOpenApiReaderModelBookOrderTest


swagger outputs:
{code}
{
  ""swagger"" : ""2.0"",
  ""host"" : ""localhost:8080"",
  ""basePath"" : ""/api"",
  ""tags"" : [ {
    ""name"" : ""dude"",
    ""description"" : ""Book order service""
  } ],
  ""schemes"" : [ ""http"" ],
  ""paths"" : {
    ""/books/{id}"" : {
      ""get"" : {
        ""tags"" : [ ""dude"" ],
        ""summary"" : ""Find order by id"",
        ""operationId"" : ""verb1"",
        ""consumes"" : [ ""application/json"" ],
        ""produces"" : [ ""application/json"" ],
        ""parameters"" : [ {
          ""name"" : ""id"",
          ""in"" : ""path"",
          ""description"" : ""The id of the order to get"",
          ""required"" : true,
          ""type"" : ""integer""
        } ],
        ""responses"" : {
          ""200"" : {
            ""description"" : ""The order returned"",
            ""responseSchema"" : {
              ""originalRef"" : ""BookOrder"",
              ""$ref"" : ""#/definitions/BookOrder""
            },
            ""schema"" : {
              ""originalRef"" : ""BookOrder"",
              ""$ref"" : ""#/definitions/BookOrder""
            }
          }
        },
        ""x-camelContextId"" : ""camel-1"",
        ""x-routeId"" : ""route1""
      }
    },
    ""/books/books/{id}/line/{lineNum}"" : {
      ""get"" : {
        ""tags"" : [ ""dude"" ],
        ""operationId"" : ""verb2"",
        ""consumes"" : [ ""application/json"" ],
        ""produces"" : [ ""application/json"" ],
        ""parameters"" : [ {
          ""name"" : ""id"",
          ""in"" : ""path"",
          ""required"" : true,
          ""type"" : ""string""
        }, {
          ""name"" : ""lineNum"",
          ""in"" : ""path"",
          ""required"" : true,
          ""type"" : ""string""
        } ],
        ""responses"" : {
          ""200"" : {
            ""description"" : ""Output type"",
            ""responseSchema"" : {
              ""originalRef"" : ""LineItem"",
              ""$ref"" : ""#/definitions/LineItem""
            },
            ""schema"" : {
              ""originalRef"" : ""LineItem"",
              ""$ref"" : ""#/definitions/LineItem""
            }
          }
        },
        ""x-camelContextId"" : ""camel-1"",
        ""x-routeId"" : ""route2""
      }
    }
  },
  ""definitions"" : {
    ""LineItem"" : {
      ""type"" : ""object"",
      ""required"" : [ ""isbn"", ""name"" ],
      ""properties"" : {
        ""isbn"" : {
          ""type"" : ""string"",
          ""description"" : ""ISBN of the book""
        },
        ""name"" : {
          ""type"" : ""string"",
          ""description"" : ""Name of the book""
        }
      },
      ""description"" : ""Order line"",
      ""x-className"" : {
        ""type"" : ""string"",
        ""format"" : ""org.apache.camel.swagger.LineItem""
      }
    },
    ""BookOrder"" : {
      ""type"" : ""object"",
      ""required"" : [ ""id"", ""items"" ],
      ""properties"" : {
        ""id"" : {
          ""type"" : ""string"",
          ""description"" : ""The id of the order""
        },
        ""items"" : {
          ""type"" : ""array"",
          ""description"" : ""The books ordered"",
          ""items"" : {
            ""originalRef"" : ""LineItem"",
            ""$ref"" : ""#/definitions/LineItem""
          }
        }
      },
      ""description"" : ""Represents a book order"",
      ""x-className"" : {
        ""type"" : ""string"",
        ""format"" : ""org.apache.camel.swagger.BookOrder""
      }
    }
  }
}
{code}

openapi outputs
{code}
{
  ""swagger"" : ""2.0"",
  ""host"" : ""localhost:8080"",
  ""basePath"" : ""/api"",
  ""schemes"" : [ ""http"" ],
  ""paths"" : {
    ""/books/{id}"" : {
      ""get"" : {
        ""consumes"" : [ ""application/json"" ],
        ""produces"" : [ ""application/json"" ],
        ""tags"" : [ ""dude"" ],
        ""parameters"" : [ {
          ""name"" : ""id"",
          ""description"" : ""The id of the order to get"",
          ""in"" : ""path"",
          ""required"" : true,
          ""type"" : ""integer""
        } ],
        ""responses"" : {
          ""200"" : {
            ""description"" : ""The order returned"",
            ""schema"" : {
              ""$ref"" : ""#/definitions/BookOrder""
            }
          }
        },
        ""operationId"" : ""verb1"",
        ""summary"" : ""Find order by id"",
        ""x-camelContextId"" : ""camel-1"",
        ""x-routeId"" : ""route1""
      }
    },
    ""/books/books/{id}/line/{lineNum}"" : {
      ""get"" : {
        ""consumes"" : [ ""application/json"" ],
        ""produces"" : [ ""application/json"" ],
        ""tags"" : [ ""dude"" ],
        ""parameters"" : [ {
          ""name"" : ""id"",
          ""in"" : ""path"",
          ""required"" : true,
          ""type"" : ""string""
        }, {
          ""name"" : ""lineNum"",
          ""in"" : ""path"",
          ""required"" : true,
          ""type"" : ""string""
        } ],
        ""responses"" : {
          ""200"" : {
            ""description"" : ""Output type"",
            ""schema"" : {
              ""$ref"" : ""#/definitions/LineItem""
            }
          }
        },
        ""operationId"" : ""verb2"",
        ""x-camelContextId"" : ""camel-1"",
        ""x-routeId"" : ""route2""
      }
    }
  },
  ""definitions"" : {
    ""BookOrder"" : {
      ""type"" : ""BookOrder"",
      ""x-className"" : {
        ""format"" : ""org.apache.camel.openapi.BookOrder"",
        ""type"" : ""string""
      }
    },
    ""LineItem"" : {
      ""type"" : ""LineItem"",
      ""x-className"" : {
        ""format"" : ""org.apache.camel.openapi.LineItem"",
        ""type"" : ""string""
      }
    }
  },
  ""tags"" : [ {
    ""name"" : ""dude"",
    ""description"" : ""Book order service""
  } ]
}
{code}
",13/Oct/20 07:51;davsclaus;This requires that openapi-java has something like annotations etc we can use to markup the model classes and that we can then use some api to parse to get that detailed information.,13/Oct/20 07:52;davsclaus;I suggest to get in touch with the apicurio team about what they offer,13/Oct/20 07:52;davsclaus;Its the readClass methods in RestModelConverters that needs to have such feature. Compare this with the camel-swagger etc.,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup deprecation warnings,CAMEL-15520,13326846,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,orpiske,orpiske,orpiske,2020/9/10 11:11,2020/9/10 11:31,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"Creating a task to map, discuss and clean the warnings about usage of deprecated methods, classes and types on the code. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Sep 10 11:31:17 UTC 2020,,,,,,,,0|z0ih9s:,9.22337E+18,,,,,,,,,,,,,,,"10/Sep/20 11:31;orpiske;Changing from getOut to getMessage or getIn cause change of behavior: 

camel-reactor: ReactorStreamsServiceTest.java:[220,29]
camel-rxjava: RxJavaStreamsServiceTest.java:[195,13]


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-Influxdb: Add testcontainers tests,CAMEL-15523,13327008,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2020/9/11 5:47,2021/2/1 13:55,2021/3/6 6:30,,,,,,,3.x,,camel-influxdb,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,47:19.0,,,,,,,,0|z0ii9s:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Provide a ""Qiskit IBM Quantum Provider"" Connector",CAMEL-15538,13327876,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,apupier,apupier,2020/9/16 15:04,2021/1/28 15:35,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,"it will allow to use computing power of a Quantum computer.

- to launch job on a Quantum Computer
- to listen to result from the job on a Quantum computer

https://qiskit.org/documentation/apidoc/ibmq-provider.html

available library is written in Python so migth be quite some work https://github.com/Qiskit/qiskit-ibmq-provider

or maybe it can be rewritten using directly the REST API for IBM Quantum https://api.quantum-computing.ibm.com/v2/documentation.html?_ga=2.200951015.870923672.1604673144-1500770967.1598614684
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jan 28 15:35:35 UTC 2021,,,,,,,,0|z0inm8:,9.22337E+18,,,,,,,,,,,,,,,28/Jan/21 15:35;apupier;there is also a REST API now https://quantum-computing.ibm.com/docs/new/#september-2020 https://api.quantum-computing.ibm.com/v2/explorer/?tagsSorter=order&operationsSorter=order#/Run%20Job/Run%20Job.getJobUploadUrl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using parameter tempFileName or tempPrefix with relative location in parent directory will fail,CAMEL-15544,13328065,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,oklimberg,oklimberg,2020/9/17 14:22,2020/9/17 15:23,2021/3/6 6:31,,3.5.0,3.6.0,,,,,,camel-ftp,,,,,,,0,,,,,,"When using either parameter tempFileName or tempPrefix with a relative path, the component will not create the final target directory and moving/renaming the file from the temp location will fail.

Both tests below will fail when placing them in FtpProducerTempPrefixTest
{code:java}
@Test
public void testWriteUsingRelativeTempPrefix() throws Exception {
    sendFile(""ftp://admin@localhost:"" + getPort() + ""/upload/user/claus?binary=false&password=admin"" + ""&tempPrefix=../tmp/tmp_"", ""Hello World"", ""claus.txt"");

    Thread.sleep(500);

    File file = new File(FTP_ROOT_DIR + ""/upload/user/claus/claus.txt"");
    assertTrue(file.exists(), ""The uploaded file should exists"");
    assertEquals(""Hello World"", IOConverter.toString(file, null));
}

@Test
public void testWriteUsingRelativeTempFileName() throws Exception {
    sendFile(""ftp://admin@localhost:"" + getPort() + ""/upload/user/claus?binary=false&password=admin"" + ""&tempFileName=../tmp/${file:name.noext}.tmp"", ""Hello World"", ""claus.txt"");

    Thread.sleep(500);

    File file = new File(FTP_ROOT_DIR + ""/upload/user/claus/claus.txt"");
    assertTrue(file.exists(), ""The uploaded file should exists"");
    assertEquals(""Hello World"", IOConverter.toString(file, null));
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,45:12.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Sep 17 15:23:27 UTC 2020,,,,,,,,0|z0iors:,9.22337E+18,,,,,,,,,,,,,,,"17/Sep/20 14:45;bedla;Option jailStartingDirectory is true by default, preventing you from writing outside of starting path. Please test with `jailStartingDirectory=false` and if it works, please close this issue as this is desirable behavior.","17/Sep/20 15:00;oklimberg;I am not navigating outside of the starting path. I understand starting path at the users FTP directory or in this case FTP_ROOT_DIR.

 However, I just tried with the additional Parameter and both tests still fail
{code:java}
// code placeholder
org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]
 at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45) at org.apache.camel.support.ExchangeHelper.extractResultBody(ExchangeHelper.java:692) at org.apache.camel.impl.engine.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:594) at org.apache.camel.impl.engine.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:590) at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:220) at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:212) at org.apache.camel.component.file.remote.FtpServerTestSupport.sendFile(FtpServerTestSupport.java:145) at org.apache.camel.component.file.remote.FtpProducerTempPrefixTest.testWriteUsingRelativeTempFileName(FtpProducerTempPrefixTest.java:59) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688) at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149) at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140) at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84) at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115) at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105) at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104) at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98) at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210) at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206) at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131) at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139) at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) at java.base/java.util.ArrayList.forEach(ArrayList.java:1540) at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) at java.base/java.util.ArrayList.forEach(ArrayList.java:1540) at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108) at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96) at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75) at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)Caused by: org.apache.camel.component.file.GenericFileOperationFailedException: Cannot rename file from: upload/user/tmp/claus.tmp to: upload/user/claus/claus.txt at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:211) at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:59) at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:217) at org.apache.camel.processor.SharedCamelInternalProcessor$1.process(SharedCamelInternalProcessor.java:111) at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:108) at org.apache.camel.impl.engine.DefaultProducerCache.send(DefaultProducerCache.java:189) at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:175) at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:171) at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:152) at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:218) ... 68 more{code}","17/Sep/20 15:10;bedla;Your starting directory is `/upload/user/claus` and your temp files are saved in `/upload/user/tmp` so yes, you are navigating outside of starting path. Thanks for testing with `jailStartingDirectory=false`.","17/Sep/20 15:20;oklimberg;Thanks for clarification about the definition of starting path.
But if `jailStartingDirectory` is true by default, should the creation of the temporary file already fail?
Executing the tests shows the temporary file is created outside of the starting path and the starting path itself i not created.","17/Sep/20 15:23;bedla;Yes, this should probably also fail earlier. Lets keep this issue open to analyze.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Doc] SSH component to mention EdDSA security provider,CAMEL-15550,13328211,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,squakez,squakez,squakez,2020/9/18 9:31,2020/9/18 10:49,2021/3/6 6:31,,,,,,,,,camel-ssh,,,,,,,0,,,,,,While working on [camel-quarkus extension for ssh component|https://github.com/apache/camel-quarkus/issues/798] I realized that there is no documentation mentioning that the SSH component is based on SSHD-core library with BouncyCastle security provider. This provider is explicitly chose by the camel-ssh component versus the EdDSA which would be the alternative. We should add a little mention so the user know behind the hood the security provider used is going to be BouncyCastle.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 18 10:49:20 UTC 2020,,,,,,,,0|z0ipo8:,9.22337E+18,,,,,,,,,,,,,,,18/Sep/20 10:49;squakez;Will be closed by https://github.com/apache/camel/pull/4246,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dirty tree check step in Github Action should report more details,CAMEL-15552,13328249,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,bedla,bedla,bedla,2020/9/18 13:27,2020/9/18 17:44,2021/3/6 6:31,,,,,,,,,build system,,,,,,,0,,,,,,"If this step fails, it should report the modified files to make it easier to fix. Upgrade UnicornGlobal/has-changes-action if [has-changes-action#2|https://github.com/UnicornGlobal/has-changes-action/pull/2] gets merged or find alternative approach otherwise.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Sep 18 17:44:44 UTC 2020,,,,,,,,0|z0ipwo:,9.22337E+18,,,,,,,,,,,,,,,"18/Sep/20 17:44;bedla;Switched to fork bedlaj/has-changes-action temporarilly with [4c1e3cdf4ccd64a66cc0ff8a86fbd6e7f6e82670|https://github.com/apache/camel/commit/4c1e3cdf4ccd64a66cc0ff8a86fbd6e7f6e82670]. I am keeping this issue open to do not forget to change back to upstream, if [has-changes-action#2|https://github.com/UnicornGlobal/has-changes-action/pull/2] gets merged.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RouteTemplates creating in CDI are configured out-of-order,CAMEL-15555,13328349,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,kemitix,kemitix,2020/9/19 11:06,2021/2/3 13:00,2021/3/6 6:31,,3.5.0,,,,,3.9.0,,camel-cdi,,,,,,,0,,,,,,"When:
 * using Camel with CDI
 * having routes defined in multiple beans 
 * one bean defines the route template
 * another bean attempts to create a route from that template

I would expect that the route templates are configured before any routes that build from them.

What happens is non-deterministic based on the order the RoutesBuilder instances are provided by the CDI runtime. In a good case, the template bean is processed first and all is as-expected. However, when the template bean is provided after any bean that attempts to build from it we get the error:

{{Caused by: java.lang.IllegalArgumentException: Cannot find RouteTemplate with id ListProcess}}
{{ at org.apache.camel.quarkus.core.BaseModel.addRouteFromTemplate(BaseModel.java:167)}}
{{ at org.apache.camel.quarkus.core.FastCamelContext.addRouteFromTemplate(FastCamelContext.java:188)}}
{{ at org.apache.camel.builder.TemplatedRouteBuilder.add(TemplatedRouteBuilder.java:104)}}

Attempted a workaround by annotating the template bean with @Priority(1), however this had no effect.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,09:54.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 03 13:00:14 UTC 2021,,,,,,,,0|z0iqiw:,9.22337E+18,,,,,,,,,,,,,,,19/Sep/20 15:09;davsclaus;Thanks for reporting. You are welcome to dive into the lovely code of camel-cdi to see if something can be improved.,17/Dec/20 15:07;davsclaus;Are you able to put together a reproducer sample application that can run standalone we can use to help track down and find a solution?,"03/Feb/21 13:00;davsclaus;Is there not some way in cdi annotations to specify that a bean depends-on another bean, so you can say that your routes depend on the template.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
repository & strategy to store and retrieve the latest state of a consumer and allow to resume upon restart,CAMEL-15562,13328620,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lb,lb,2020/9/21 18:45,2021/2/15 10:00,2021/3/6 6:30,,,,,,,,,camel-core-api,camel-core-engine,,,,,,1,,,,,,"A number of component support resuming operation from a given point in time or index but each component implement its own logic and it is currently not possible to use an external system to store such information.

Because of that, even if the source support resuming from a point, we sometime still need to use an idempotent consumer which is ok but inefficient because the consumer may need to re-process events from the source as it lacks a way to retrieve from where it left.

We should provide a generic mechanism to implement such logic so that:
# it should be possible to restart a camel application without having to re-process events from the source even without the need of an idempotent repository (for sources that support resuming)
# in case of sources that support partitioning, it should be possible to consume data from an elastic pool of camel consumers as the information about the consumer state is stored in an external repository so the system can rebalance the load anc new consumer can start where others have left

*InProgressRepository*

This repository is similar to the IndempotentRepository except it should allow to query the status of the entries.

*InProgressStrategy*

A simple strategy that automatically update the InProgressRepository according to some headers like:
# _CamelInProgressID_: the key of the event
# _CamelInProgressValue_: the value (opaque)
# _CamelInProgressStatus_: the status of the consumer for the given key (i.e. could be InProgress when the consumer is processing a file and become Done when the file is fully processed)

We should also implement a mechanism to be able to consistently determine the ""partition key"" according to the active consumers.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,38:12.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Feb 15 10:00:47 UTC 2021,,,,,,,,0|z0is74:,9.22337E+18,,,,,,,,,,,,,,,15/Feb/21 09:38;davsclaus;There is another similar JIRA ticket about this which CKC requires,"15/Feb/21 10:00;lb;I guess you are talking about https://issues.apache.org/jira/browse/CAMEL-15955 so yes you are right, by mine is older :P",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a AWS Cloudtrail component,CAMEL-15566,13328706,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2020/9/22 7:05,2020/9/23 16:36,2021/3/6 6:31,,,,,,,3.x,,camel-aws2,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:34.0,,,,,,,,0|z0isq8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-jte - Template Engine component,CAMEL-15570,13328942,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/9/23 8:15,2020/9/23 8:15,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"Add template based component (like camel-velocity, freemarker etc) using this new library
https://github.com/casid/jte",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,15:07.0,,,,,,,,0|z0iu6o:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
List of built-in Type Converters,CAMEL-15582,13329440,,Wish,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,sreejeshraj,sreejeshraj,2020/9/25 16:15,2020/9/28 18:29,2021/3/6 6:31,,2.25.2,,,,,3.x,,came-core,,,,,,,0,,,,,,"Apache Camel has over 300+ type converters available for use out of the box. As a developer, I can add more type converters as well. But is there any way where I can find the full list of Camel Type converters available out of the box? I searched in Camel source in GitHub, however could not get a list. This would help me in taking a decision whether I should provide an implementation or I can use the one already available in Camel.

I know many components can add Type Converters when we add them to class path. I just wanted to know the ones already available with Camel core (or the most useful ones).

 

It would be helpful if you publish this information in your website.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,https://stackoverflow.com/questions/64059119/apache-camel-type-converter-list,,,,,,,,,,9.22337E+18,,,15:02.0,,,,,,,,0|z0ix94:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend math operators in Simple language,CAMEL-15595,13330008,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lucamaf,lucamaf,2020/9/29 18:19,2020/9/29 19:05,2021/3/6 6:31,,,,,,,,,came-core,,,,,,,0,,,,,,"at the moment simple calculations with maths operators like:
 * addition
 * multiplication
 * division
 * subtraction
 * modulus

are not supported in simple language. It is true that you could use groovy or javascript, but given simple syntax overall prevalence in camel it would make it easier to support this directly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,19:25.0,,,,,,,,0|z0j0r4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-servicenow: consider replacing cxf with vert.x web client,CAMEL-15597,13330092,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/9/30 5:25,2020/9/30 15:07,2021/3/6 6:31,,,,,,,,,camel-servicenow,,,,,,,0,,,,,,As today we use CXF behind the scenes but we can explore a replacement with a modern reactive web client such as Vert.x HTTP,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,25:29.0,,,,,,,,0|z0j19s:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka - Add option for Apicurio schema registry url,CAMEL-15599,13330156,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/9/30 11:49,2021/2/1 13:54,2021/3/6 6:30,,,,,,,3.9.0,,camel-kafka,,,,,,,0,,,,,,"So you can integrate with external schema registry Apicurio
https://www.apicur.io/registry/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Oct 08 06:46:53 UTC 2020,,,,,,,,0|z0j1o0:,9.22337E+18,,,,,,,,,,,,,,,"30/Sep/20 11:50;davsclaus;See this example
https://github.com/Apicurio/apicurio-registry-demo/blob/master/src/main/java/io/apicurio/registry/demo/simple/avro/SimpleAvroConsumerApp.java","30/Sep/20 12:27;davsclaus;The apicurio options will be put in a single class and documented
https://github.com/Apicurio/apicurio-registry/issues/886",08/Oct/20 06:46;davsclaus;https://github.com/Apicurio/apicurio-registry/blob/2.0.x/utils/serde/src/main/java/io/apicurio/registry/utils/serde/SerdeConfig.java,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-saxon - Upgrade to Saxon 10.x,CAMEL-15616,13330432,,Improvement,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,ramu11,davsclaus,davsclaus,2020/10/1 19:17,2021/1/21 14:42,2021/3/6 6:30,,,,,,,3.x,,camel-saxon,,,,,,,0,,,,,,We are using 9.9.x but there is a 10.x release out,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,42:10.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Oct 09 11:45:15 UTC 2020,,,,,,,,0|z0j3d4:,9.22337E+18,,,,,,,,,,,,,,,06/Oct/20 06:42;acosentino;Please look at the Karaf feature too [~ramu11],"09/Oct/20 11:45;davsclaus;Had to revert this as this causes camel-xj to fail (it has a number of test failures). It seems now that it genearates wrong output when it does xml to json transformation.

https://github.com/apache/camel/commit/7738cc3e4541a8fd8dfd5a99b4f794bc5ffa1416",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kubernetes - Add support for HTTPS to Kubernetes API server,CAMEL-15618,13330510,,Improvement,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,emmerson,emmerson,2020/10/2 8:54,2020/12/17 19:40,2021/3/6 6:30,,3.4.3,,,,,3.x,,camel-kubernetes,,,,,,,0,,,,,,"Hi,

I am trying to use the kubernetes component to an https-kubernetes-master but the component is doing only HTTP requests, is there a way to force the component to do HTTPS?

Below stacktrace:

 

io.fabric8.kubernetes.client.KubernetesClientException: Failure executing: POST at: [http://kubernetes.default/k8s/clusters/c-9rw6k/apis/batch/v1/namespaces/withoutistio/jobs]. Message: Client sent an HTTP request to an HTTPS server.

.

 

Message History (complete message history is disabled)

---------------------------------------------------------------------------------------------------------------------------------------

RouteId              ProcessorId          Processor                                                                        Elapsed (ms)

[journey.sftcontrol] [journey.sftcontrol] [from[[http://0.0.0.0:8080/myms/public/task?httpMethodRestrict=POST%2]] [      1198]

              ...

[kubernetes-jobcrea] [to1               ] [kubernetes-job:///kubernetes.default/k8s/clusters/c-9rw6k?oauthToken=kube] [         0]

 

Stacktrace

---------------------------------------------------------------------------------------------------------------------------------------

io.fabric8.kubernetes.client.KubernetesClientException: Failure executing: POST at: [http://kubernetes.default/k8s/clusters/c-9rw6k/apis/batch/v1/namespaces/withoutistio/jobs]. Message: Client sent an HTTP request to an HTTPS server.

.

              at io.fabric8.kubernetes.client.dsl.base.OperationSupport.requestFailure(OperationSupport.java:568)

              at io.fabric8.kubernetes.client.dsl.base.OperationSupport.assertResponseCode(OperationSupport.java:507)

              at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:471)

              at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:430)

              at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleCreate(OperationSupport.java:251)

              at io.fabric8.kubernetes.client.dsl.base.BaseOperation.handleCreate(BaseOperation.java:848)

              at io.fabric8.kubernetes.client.dsl.base.BaseOperation.create(BaseOperation.java:368)

              at org.apache.camel.component.kubernetes.job.KubernetesJobProducer.doCreateJob(KubernetesJobProducer.java:149)

              at org.apache.camel.component.kubernetes.job.KubernetesJobProducer.process(KubernetesJobProducer.java:76)

              at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)

              at org.apache.camel.processor.SendProcessor.lambda$process$2(SendProcessor.java:186)

              at org.apache.camel.impl.engine.DefaultProducerCache.doInAsyncProducer(DefaultProducerCache.java:309)

              at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:186)

              at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:395)

              at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:148)

              at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:60)

              at org.apache.camel.processor.Pipeline.process(Pipeline.java:147)

              at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:286)

              at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)

              at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:40)

              at org.apache.camel.component.undertow.UndertowConsumer.handleRequest(UndertowConsumer.java:230)

              at io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)

              at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)

              at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)

              at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)

              at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)

              at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)

              at java.lang.Thread.run(Thread.java:748)","linux

kubernetes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,56:44.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Oct 02 09:17:31 UTC 2020,,,,,,,,0|z0j3ug:,9.22337E+18,,,,,,,,,,,,,,,02/Oct/20 08:56;acosentino;This seems more a request for the user or dev mailing list,"02/Oct/20 09:00;emmerson;Hi, the component can not speak with https server, I think this can be cosidered and issue.",02/Oct/20 09:09;acosentino;The title seems more like a question. Let's leave this open then. Please add a reproducer.,"02/Oct/20 09:17;emmerson;Thank you,

 

1) You need to have a kubernetes cluster where masters will exposing the API via HTTPS.

2) you can use this example [https://github.com/Emmerson-Miranda/camel/tree/master/camel3-cdi/cdi-k8s-pocs]

3) replace src/main/resources/application.properties master-url and token with the ones for your cluster.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-main - Capture startup events and report time in a report for humans,CAMEL-15625,13330653,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/10/3 5:59,2020/10/3 5:59,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"Maybe something we can do ala
https://twitter.com/maciejwalkowiak/status/1312169318155653121?s=20

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,59:07.0,,,,,,,,0|z0j4q0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Geocoder - upgrade Google API version,CAMEL-15633,13333694,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,zbendhiba,zbendhiba,zbendhiba,2020/10/5 11:06,2020/10/5 11:06,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,upgrade from 0.10.1 to 0.15.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,06:05.0,,,,,,,,0|z0jezk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Partition component/EIP,CAMEL-15640,13333805,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,bedla,bedla,bedla,2020/10/5 22:11,2020/10/5 22:11,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"Sometimes you need to process messages in parallel and also ensure order of messages per key. Kafka is great for this with its partitioning and ActiveMQ with message groups, but in small single instance project may be broker overkill.

I needed that feature in one project and solved it with something what doesnt look nice, similar to this pseudo code:
{code:java}
final int consumers = 10;
from(""direct:source"")
    .process(exchange ->
            exchange.getMessage().setHeader(""partition"",
                    exchange.getMessage().getHeader(""partition_key"")
                            .hashCode() % consumers)
    )
    .toD(""seda:partition_${header.partition}"");

for (int i = 0; i < consumers; i++) {
    from(""seda:partition_"" + i)
            .to(""direct:target"");
}
{code}
It would be great to have something like Partition component (*or maybe better Partition EIP?*)

It can be similar to seda, but with following features.
 * Pluggable PartitionStrategy with pluggable Expression for partition key. Default can be HashPartitionStrategy.
 * Message will be assigned to Thread based on following algorithm: _target_thread_id = hash % concurrentConsumers_

 

 

*Community feedback/discussion about this feature welcomed.*",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,11:04.0,,,,,,,,0|z0jfo8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-websocket-jsr356 - test failure,CAMEL-15645,13334041,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/10/6 18:14,2020/10/6 18:14,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"This component has test failures. And it looks like that meecrowave is not compatible or dont work with newer tomcat versions or junit 5 or something.

Its a pain to maintain and if it keeps being bad, then we will deprecate it asap and remove it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,14:37.0,,,,,,,,0|z0jgow:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to apache spark 3.x,CAMEL-15650,13334196,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,vrlgohel,davsclaus,davsclaus,2020/10/7 13:57,2020/10/26 11:10,2021/3/6 6:31,,,,,,,3.x,,camel-spark,,,,,,,0,,,,,,"The camel-spark is using older version of spark. We should upgrade to 3.x and this also uses hadoop 3.x so we can get rid of the last hadoop 2.x dependency.

There is no apache karaf problem as spark and hadoop are not there as features (dont work in osgi anyway)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,11:58.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Oct 26 11:10:56 UTC 2020,,,,,,,,0|z0jhnc:,9.22337E+18,,,,,,,,,,,,,,,"15/Oct/20 16:11;ppalaga;+1 for upgrading. 

Spark 2.x does not seem to support Java 11. I am getting errors similar to https://stackoverflow.com/questions/53583199/spark-error-unsupported-class-file-major-version",15/Oct/20 19:59;ppalaga;See also CAMEL-15696,26/Oct/20 11:10;ppalaga;Blocks https://github.com/apache/camel-quarkus/issues/1955,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create camel-azure-cosmosdb component,CAMEL-15655,13334369,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,omarsmak,omarsmak,omarsmak,2020/10/8 8:19,2020/10/8 8:23,2021/3/6 6:31,,,,,,,3.x,,camel-azure,,,,,,,0,,,,,,"A placeholder for potential camel-azure-cosmodb component, here is important info:
* https://docs.microsoft.com/en-us/azure/cosmos-db/introduction
* https://github.com/Azure/azure-sdk-for-java/tree/master/sdk/cosmos/azure-cosmos",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,19:16.0,,,,,,,,0|z0jips:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JDK biased locking to be removed in Java 17,CAMEL-15657,13334382,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/10/8 9:12,2020/10/15 15:06,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"jdk15 initiated the process of removing *biased locking* from the JVM as
per JEP 374 (https://openjdk.java.net/jeps/374). That release switched
the default setting from enabled to disabled. The plan is to see if any
users squeal and, if not, proceed to remove it in jdk16 or jdk17. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Oct 08 09:16:23 UTC 2020,,,,,,,,0|z0jiso:,9.22337E+18,,,,,,,,,,,,,,,"08/Oct/20 09:13;davsclaus;Lets look at whether we use any synchronized (lock) { } or synchronized methods that may be affected. First priority is around runtime routing of messages via the routing engine.

The bootstrap with initializating Camel is not a problem as there is a single thread doing this work.

Old collection classes like Vector or Hashtable is not in use. ","08/Oct/20 09:16;davsclaus;For fast performance tests we only have a set of jmh tests that tests specific pieces of camel like its type converter, simple language etc.
We could add a little bit bigger test that does some more extensive routing and let it be concurrent with seda/aggregator and whatnot.
And then run the test with with biased locking on or off (there should be a JVM switch for that).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-json-validator should return full error message by default,CAMEL-15663,13334625,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,catshout,catshout,2020/10/9 10:55,2020/10/9 10:55,2021/3/6 6:31,,3.4.4,,,,,,,,,,,,,,0,,,,,,"When the camel-json-validator throws an error occurs it shows only in log
 
""JSON validation error with 1 errors. Exchange[ID-700bc59e90f0-1601310667823-12-4]""
 
${exception.message} shows no details as well. The following
 
${exception.getErrors()}
 
shows all details what is wrong in the JSON structure.
 
For convenience it would be helpfull when the error message itself contains these details. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,55:35.0,,,,,,,,0|z0jka8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-AWS2-Translate: Support batch translation job,CAMEL-15672,13334973,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2020/10/12 9:53,2020/10/12 9:53,2021/3/6 6:31,,,,,,,3.x,,camel-aws2,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,53:04.0,,,,,,,,0|z0jmfk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-mm7 - Component for sending MMS cellular messages,CAMEL-15683,13335241,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/10/13 15:06,2020/10/13 15:06,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"It would be good to have a camel component for being able to send cellular text messages (SMS and MMS) via the mm7 protocol.

This protocol is SOAP based (yeah old world) send to mm7 server via HTTP.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,06:25.0,,,,,,,,0|z0jo34:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Spark tests fail with CAMEL_SPARK_HIVE_TESTS=true,CAMEL-15696,13335665,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,ppalaga,ppalaga,2020/10/15 19:58,2020/10/26 11:10,2021/3/6 6:31,,3.5.0,,,,,,,camel-spark,,,,,,,0,,,,,,"Steps to reproduce:

{code}
git checkout camel-3.5.0
cd components/spark
export CAMEL_SPARK_HIVE_TESTS=true
mvn clean test
...
[ERROR] org.apache.camel.component.spark.SparkProducerTest.shouldExecuteConditionalFrameCount  Time elapsed: 0.012 s  <<< ERROR!
java.util.ServiceConfigurationError: org.apache.spark.sql.sources.DataSourceRegister: Provider org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat could not be instantiated
        at java.util.ServiceLoader.fail(ServiceLoader.java:232)
        at java.util.ServiceLoader.access$100(ServiceLoader.java:185)
        at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:384)
        at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404)
        at java.util.ServiceLoader$1.next(ServiceLoader.java:480)
        at scala.collection.convert.Wrappers$JIteratorWrapper.next(Wrappers.scala:43)
        at scala.collection.Iterator$class.foreach(Iterator.scala:742)
        at scala.collection.AbstractIterator.foreach(Iterator.scala:1194)
        at scala.collection.IterableLike$class.foreach(IterableLike.scala:72)
        at scala.collection.AbstractIterable.foreach(Iterable.scala:54)
        at scala.collection.TraversableLike$class.filterImpl(TraversableLike.scala:258)
        at scala.collection.TraversableLike$class.filter(TraversableLike.scala:270)
        at scala.collection.AbstractTraversable.filter(Traversable.scala:104)
        at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSource(DataSource.scala:630)
        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:194)
        at org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:392)
        at org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:326)
        at org.apache.camel.component.spark.SparkProducerTest.createCamelRegistry(SparkProducerTest.java:80)
        at org.apache.camel.test.junit5.CamelTestSupport.createCamelContext(CamelTestSupport.java:730)
        at org.apache.camel.test.junit5.CamelTestSupport.doSetUp(CamelTestSupport.java:412)
        at org.apache.camel.test.junit5.CamelTestSupport.setUp(CamelTestSupport.java:367)
        at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)
        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)
        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:76)
        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:481)
        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$18(ClassBasedTestDescriptor.java:466)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$2(TestMethodTestDescriptor.java:169)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$5(TestMethodTestDescriptor.java:197)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:197)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:166)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
        at java.util.ArrayList.forEach(ArrayList.java:1259)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
        at java.util.ArrayList.forEach(ArrayList.java:1259)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)
        at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)
        at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)
        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)
        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:165)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:127)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:377)
        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:138)
        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:465)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:451)
Caused by: java.lang.NoClassDefFoundError: org/slf4j/bridge/SLF4JBridgeHandler
        at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat.<init>(ParquetFileFormat.scala:65)
        at sun.reflect.GeneratedConstructorAccessor28.newInstance(Unknown Source)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
        at java.lang.Class.newInstance(Class.java:442)
        at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:380)
        ... 86 more
Caused by: java.lang.ClassNotFoundException: org.slf4j.bridge.SLF4JBridgeHandler
        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)
        ... 92 more
{code}",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15650,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Oct 26 11:10:27 UTC 2020,,,,,,,,0|z0jqp4:,9.22337E+18,,,,,,,,,,,,,,,"16/Oct/20 08:52;ppalaga;Oh, forgot to mention `export CAMEL_SPARK_HIVE_TESTS=true`. Added to the steps to reproduce now.",26/Oct/20 11:10;ppalaga;Blocks https://github.com/apache/camel-quarkus/issues/1956,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Optional API on Exchange / Message,CAMEL-15703,13335922,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/10/18 8:30,2020/10/18 8:30,2021/3/6 6:31,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"I wonder if we should add methods to Exchange and Message that uses java.util.Option as return value.

Optional getOptionalProperty(String name)
Optional<T> getOptionalProperty(String name, Class<T> type)

And ditto for Message with its header and body (although a null body is much more rare)

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,30:39.0,,,,,,,,0|z0jsa0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Component for azure loganalytics similar to splunk,CAMEL-15709,13336152,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zycon,zycon,2020/10/19 21:53,2020/10/20 10:02,2021/3/6 6:31,,,,,,,3.x,,camel-azure,,,,,,,0,,,,,,"A producer for azure log analytics for forwarding the logs, similar to what we have for splunk HEC",,,,,,,,,,604800,604800,,0%,604800,604800,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,32:30.9,,,FALSE,,,,,Moderate,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Oct 20 10:02:03 UTC 2020,,,,,,,,0|z0jtp4:,9.22337E+18,,,,,,,,,,,,,,,"20/Oct/20 09:32;davsclaus;Anyone is welcome to work on this
https://camel.apache.org/manual/latest/contributing.html","20/Oct/20 10:02;zycon;Yes, i will contribute as my first commit to amazing camel project",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add camel-aws-s3 feature,CAMEL-15714,13336313,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,jbonofre,jbonofre,2020/10/20 15:20,2020/10/20 15:22,2021/3/6 6:31,,,,,,,,,karaf,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,22:18.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Oct 20 15:22:18 UTC 2020,,,,,,,,0|z0juoo:,9.22337E+18,,,,,,,,,,,,,,,"20/Oct/20 15:22;acosentino;Do you mean aws2-s3? or only aws-s3? It doesn't make sense for aws-s3, it will be deprecated soon.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Skip archetype integration tests in deploy profile,CAMEL-15717,13336365,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,bedla,bedla,bedla,2020/10/20 20:06,2021/2/1 14:10,2021/3/6 6:30,,,,,,,3.x,,build system,,,,,,,0,,,,,,See problems during latest release http://camel.465427.n5.nabble.com/Apache-Camel-3-6-this-October-tp5887752p5889984.html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,06:49.0,,,,,,,,0|z0jv08:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Optimize calling bean with noarg method,CAMEL-15720,13336418,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2020/10/21 6:51,2021/2/1 13:54,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"When using bean language, method call, ref etc and a method name is specified and its a noarg method (or args is hardcoded) then we can optimize to do less discovery on each invocation and reuse last discovery.",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15704,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Nov 20 10:24:08 UTC 2020,,,,,,,,0|z0jvc0:,9.22337E+18,,,,,,,,,,,,,,,"20/Nov/20 10:24;davsclaus;This is a bit tougher to implement. Wonder if we should revisit this with the compiled simple language effort, so we could do something similar to source code generate and compile the bean parameter mapping, which then would be optimized and fast.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decouple camel-cdi from JTA,CAMEL-15724,13336461,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,romain.manni-bucau,romain.manni-bucau,2020/10/21 11:59,2020/12/24 7:43,2021/3/6 6:31,,,,,,,3.x,,camel-cdi,,,,,,,0,,,,,,JTA is fully optional and when undesired it makes camel-cdi module unusable. Would be great to keep camel-cdi only depending on CDI and have a jta integration either in a new module or in a jta module.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,19:23.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Dec 24 07:43:03 UTC 2020,,,,,,,,0|z0jvlk:,9.22337E+18,,,,,,,,,,,,,,,"24/Dec/20 00:19;zhfeng;Hi [~romain.manni-bucau], It looks like we have resolved it with CAMEL-15108","24/Dec/20 07:43;romain.manni-bucau;Hi [~zhfeng], not really, it just moved part of it but camel-cdi still depends on JTA which is the issue of this module. With CDI this dependency is not needed at all since when importing JTA module you can override/add/enrich CDI module beans. So to solve that ticket [https://github.com/apache/camel/blob/master/components/camel-cdi/pom.xml#L120] must be removed (as well as all javax.transaction imports).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Simplify camel-cdi dependencies,CAMEL-15727,13336465,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,romain.manni-bucau,romain.manni-bucau,2020/10/21 12:12,2020/10/22 5:50,2021/3/6 6:31,,,,,,,3.x,,camel-cdi,,,,,,,0,,,,,,seems mock and main dependencies should be dropped in favor of camel-core-languages (and camel-core-engine but it is transitive from language one). Other ones can be added in a camel-cdi-main module or so but are undesired for main deployments IMHO.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,12:21.0,,,,,,,,0|z0jvmg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Graphql integration does not allow for TLS using private CAs,CAMEL-15729,13336496,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,kaczynsk,kaczynsk,2020/10/21 14:29,2020/10/21 14:29,2021/3/6 6:31,,3.6.0,,,,,,,camel-graphql,,,,,,,0,,,,,,"This enhancement request was generated from a question on zulipchat:
[https://camel.zulipchat.com/#narrow/stream/257298-camel/topic/Adding.20a.20trustStore.20for.20graphql/near/213944005]

We are writing an integration that needs to produce messages to a graphql server.  The graphql server is using TLS and its certificate was generated by an internal CA.  There does not appear to be a way to provide a trust store to the graphql producer, like there is for say the Kafka integrations.  Connections to graphql fail due to the inability to build a trusted certificate chain.

Possible non-trivial solutions include assuming the graphql integration is using the apache HTTP client, and setting up a new protocol that uses a custom trust store.  Also (using camel-k) using the JVM taint to alter the JSSE configuration / java properties, adding a trust store containing the CA.  However both of these solutions require assumptions about the implementation that may not always be true (and we have not tested them yet).  Could also use the HTTP[4] integration directly to talk to graphql but this requires coding the REST request manually.

If there were a parameter on the graphql integration where we could input a trust store, type, and password, that would be an ideal solution.  Or perhaps some other way of modifying the default trust store using camel-k (this would benefit all integrations).","OCP 4.5 on X using Apache Camel Operator 1.2.0, but other environments apply as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,29:45.0,,,,,,,,0|z0jvtc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-joor - Add function for header and exchange property with default value,CAMEL-15741,13336776,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2020/10/22 17:11,2021/2/1 13:53,2021/3/6 6:31,,,,,,,3.9.0,,camel-joor,,,,,,,0,,,,,,"I forgot to add the default value as a parameter in the headerAs and exchangePropertyAs. So add new functions for those.

https://camel.apache.org/components/latest/languages/joor-language.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,11:24.0,,,,,,,,0|z0jxjc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-micrometer: add ability to get micrometer metrics from Kafka Client,CAMEL-15744,13336876,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,stefan.stus,stefan.stus,2020/10/23 8:32,2020/10/26 8:03,2021/3/6 6:31,,,,,,,,,camel-kafka,camel-micrometer,,,,,,0,,,,,," 

In Mirometer introduces an ability to get technical metrics from Kafka's consumers and producers.

It seems to be production-ready since 1.5.4 based on our production experience and available since 1.4.0.

See: [Micrometer implementation|https://github.com/micrometer-metrics/micrometer/blob/master/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/kafka/KafkaClientMetrics.java]  

I tried to add a custom implementation to my project to extract those metrics from Camel. I found out that I'm unable to do it for the Kafka Consumer since the actual Kafka Consumer hides [deeply inside|https://github.com/apache/camel/blob/master/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConsumer.java#L174-L176] KafkaConsumer Camel class.

At the same time, I'm able to get KafkaProducer from Camel class [here. |https://github.com/apache/camel/blob/master/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaProducer.java#L83] 

*Desired Solution:*

Add additional CamelKafkaMicrometerRoutePolicy to extract Kafka technical metrics.

Add the ability to inject CamelKafkaMicrometerRoutePolicy into Consumer and Producer components.

 

Will this feature be welcomed in Camel?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,32:46.0,,,,,,,,0|z0jy5c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
json-path - Add support for jsonsurfer for streaming splitting,CAMEL-15746,13336951,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,mmelko,davsclaus,davsclaus,2020/10/23 16:04,2020/11/2 8:34,2021/3/6 6:30,,,,,,,3.x,,camel-jsonpath,,,,,,,0,,,,,,"It would be good to add support for
https://github.com/jsurfer/JsonSurfer

So we can plug that into camel-jsonpath (and others) and then you can use that in streaming mode, such as splitting big json files (GB sizes).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,04:39.0,,,,,,,,0|z0jym0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Spring Boot tests broken when using TestInstance.Lifecycle.PER_CLASS,CAMEL-15755,13337089,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,alex.arana,alex.arana,2020/10/25 12:37,2020/10/25 12:44,2021/3/6 6:31,,3.6.0,,,,,3.x,,camel-spring,camel-test,,,,,,0,,,,,,"After upgrading to {{3.6.0}} existing Spring Boot tests in my codebase started to fail. After some investigation I discovered that this is due to my unit tests having a single instance per class as configured using JUnit's 

{{@TestInstance(TestInstance.Lifecycle.PER_CLASS)}}

Some changes were introduced in a recent commit that affected the existing behaviour in CamelSpringBootExecutionListener: [https://github.com/apache/camel/commit/efc34ab2b98f3697ebb482cf1645fda6f0794797]

I have remediated my tests by running the following code in a JUnit BeforeEach method within a base test class:
{code:java}
// Kotlin
@BeforeEach
fun init() {
    SpringCamelContext.setNoStart(false)
    camelContext.start()
}
{code}
I am currently looking for a more permanent solution to this issue that properly supports single instance JUnit5 Test classes.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,44:08.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Oct 25 12:44:08 UTC 2020,,,,,,,,0|z0jzgo:,9.22337E+18,,,,,,,,,,,,,,,25/Oct/20 12:44;davsclaus;You are welcome to dive into the code and see if you can help improve this.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Move constants on Exchange to its own class,CAMEL-15762,13337268,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/10/26 18:54,2020/10/26 19:26,2021/3/6 6:30,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"We have many constants on the Exchange interface. But its discouraged to have that on interfaces. 

If we have a constant class instead to keep those on that would be better. But the Exchange have had these for a long time, os its maybe a Camel 4 change.

This also helps reduce the object size of Exchange instances in memory as they dont have reference to those 100+ constants. Today they take up space, and an empty exchange is around 1000-1500 bytes. Its actuall the class instance that takes up extra memory. So not sure if the instances of DefaultExchange will reduce memory, but constant fields on interface is regarded as anti pattern by Java experts.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,54:56.0,,,,,,,,0|z0k0kg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-aws - Allow dynamically built routes for accounts with more than 1k queues,CAMEL-15777,13338070,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,daconde,daconde,2020/10/30 12:21,2020/11/26 7:51,2021/3/6 6:30,,,,,,,3.x,,camel-aws-sqs,,,,,,,0,,,,,,"[https://github.com/apache/camel/blob/master/components/camel-aws-sqs/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java#L161]

AWS AmazonSQS client has a method called {{listQueues()}} which only returns the first 1000 queues (alphabetically sorted). If the AWS account has more than 1k queues, camel would not find the queue/route. AmazonSQS allows pagination in order to get the full list of queues.
[https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ListQueues.html]

I think it would be useful to implement the pagination for dynamically built routes.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:57.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Nov 26 07:51:57 UTC 2020,,,,,,,,0|z0k5io:,9.22337E+18,,,,,,,,,,,,,,,"26/Nov/20 07:51;acosentino;By the way this can only be for aws2-sqs, we won't change the aws v1 components.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make camel-openapi-java use Jsonb instead of Jackson,CAMEL-15780,13338110,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,romain.manni-bucau,romain.manni-bucau,2020/10/30 16:28,2020/11/21 22:41,2021/3/6 6:30,,3.6.0,,,,,,,rest,,,,,,,1,,,,,,"Goal are:
 # Ensure user can rely on its JSON-Java mapper implementation
 # Reduce the size of the dependency tree for that concern (openapi generation) but still use camel integration with the rest DSL

If it helps we can extract the model from [https://github.com/apache/geronimo-openapi/tree/master/geronimo-openapi-impl/src/main/java/org/apache/geronimo/microprofile/openapi/impl/model] in its own jar",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,41:01.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Nov 21 22:41:01 UTC 2020,,,,,,,,0|z0k5rk:,9.22337E+18,,,,,,,,,,,,,,,"21/Nov/20 22:41;Mahas_M;Hi,

I'm Mohammadu Milhar Mahas, a second year undergraduate in Computer science at the University of Jaffna, Srilanka. i would like to do this priject for GSoC  2021.  I'm familiar in Java language . please help me get started.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Netty in client mode (with pool) recreate sockets every 5 minutes,CAMEL-15787,13338340,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,VovkaSOL,VovkaSOL,2020/11/2 5:58,2020/11/11 12:09,2021/3/6 6:31,,3.4.4,3.6.0,,,,,,camel-netty,,,,,,,0,,,,,,"When using netty in client mode (create pool of connections). And do not send any requests, all sockets in pool recreate every 5 minutes.

It is strange  private long producerPoolMinEvictableIdle = 5 * 60 * 1000L config for apache common pool. Default value must be bigger and do not recreate all sockets every 5 minutes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,01:23.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Nov 02 07:25:05 UTC 2020,,,,,,,,0|z0k76g:,9.22337E+18,,,,,,,,,,,,,,,"02/Nov/20 06:01;davsclaus;No why do you think that, they are idle for 5 min and gets re-created. You can configure a higher value if you want.","02/Nov/20 06:39;VovkaSOL;But keepAlive mode is enabled, sockets wait data. I see keeAlive timers in system, but sockets close and recreate. When i create sockets from route and then send data with Channed.write from processors, sockets recreate every 5 minutes. I lost data, this is problem.",02/Nov/20 07:25;VovkaSOL;https://github.com/apache/camel/pull/4548/commits/4d45fda928b67bc731bce289b0e2d3130955bcd5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Point to commits of repositories that go into the website,CAMEL-15816,13338980,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,zregvart,zregvart,2020/11/5 9:42,2020/11/5 9:42,2021/3/6 6:30,,,,,,,,,website,,,,,,,0,,,,,,"When we build the website we pull in files from several git repositories and several branches within them. The result of the website build is pushed to the asf-site branch on the camel-website repository and it is now squashed to conserve storage space in git. The commit message in the asf-site branch points to the commit on main branch of the camel-website repository that was the source of the build.

It would be useful to have that commit message point to all of the repositories (branches?) that contributed to the website at that point.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,42:30.0,,,,,,,,0|z0kb4g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hazelcast : improve search or create HazelcastInstance,CAMEL-15820,13339035,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,zbendhiba,zbendhiba,zbendhiba,2020/11/5 15:00,2021/1/7 14:02,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"Improve some code in the component, to compile in native mode for camel-quarkus.

* The 2 methods *getOrCreateHzInstance* and *getOrCreateHzClientInstance* in the class *HazelcastDefaultComponent*. vs parameters within the Endpoint.

Main point : Use parameters instead of reflection ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,00:09.0,,,,,,,,0|z0kbgg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support microprofile openapi,CAMEL-15838,13339693,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,romain.manni-bucau,romain.manni-bucau,2020/11/10 9:13,2020/11/10 9:28,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,"Goal is to use microprofile openapi (therefore + jsonb) instead of 
io.apicurio.datamodels and jackson. This enables MP applications using camel to not rely on undesired 3rd party libraries.
MP OpenAPI provides a factory for its component (model) so this can be portable.
Code is likely more or less the same than the existing one but with a fully different stack.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,13:39.0,,,,,,,,0|z0kfio:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-cdi - Drop 1.x workarounds,CAMEL-15842,13339894,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/11/11 6:06,2020/11/11 6:18,2021/3/6 6:30,,,,,,,3.x,,camel-cdi,,,,,,,0,,,,,,"camel-cdi has dropped CDI 1.x support but there are some leftovers for 1.x and 2.0 workarounds from the past. We should cleanup this module.

See talks at
https://github.com/apache/camel/pull/4562",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,06:12.0,,,,,,,,0|z0kgrc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to karaf 4.3,CAMEL-15850,13340435,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,davsclaus,davsclaus,2020/11/13 6:14,2021/2/2 10:50,2021/3/6 6:30,,,,,,,3.9.0,,karaf,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,18:08.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Jan 09 15:13:24 UTC 2021,,,,,,,,0|z0kk3k:,9.22337E+18,,,,,,,,,,,,,,,13/Nov/20 06:18;acosentino;We are using jetty feature in some of our karaf feature and it's not available in the new release of Karaf. I think we need to wait for an alias on 4.3.1,13/Nov/20 06:18;davsclaus;There are about 10 features that dont validate,16/Nov/20 21:29;davsclaus;Okay so the karaf team knows about this and works on a fix for 4.3.1 ?,04/Dec/20 12:03;davsclaus;Is there a new karaf release soon?,"09/Jan/21 15:13;jbonofre;Yes, I'm preparing 4.3.1 that will work fine.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-elasticsearch - Support SearchTemplateRequest,CAMEL-15853,13340528,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,owulff,owulff,2020/11/13 14:25,2020/11/13 14:35,2021/3/6 6:31,,,,,,,,,camel-elasticsearch-rest,,,,,,,0,,,,,,"The ElasticsearchProducer doesn't support the SearchTemplateRequest of the high level REST client.

[https://github.com/apache/camel/blob/master/components/camel-elasticsearch-rest/src/main/java/org/apache/camel/component/elasticsearch/ElasticsearchProducer.java]

 

The SearchTemplateRequest allows to execute a search by using an Elasticsearch Search Template as described here:

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/java-rest-high-search-template.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,25:47.0,,,,,,,,0|z0kko8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reading done files along with the data files,CAMEL-15857,13340788,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,rajuparashar,rajuparashar,2020/11/16 9:20,2020/11/17 6:42,2021/3/6 6:31,,,,,,,,,camel-core,,,,,,,0,,,,,,"Currently, there is no out of the box support for reading done files while consuming data files.

Often done files contain record count or other valuable information, which are good candidates for validation.

So, there should be support for reading done files and populate exchange headers",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Nov 16 09:24:33 UTC 2020,,,,,,,,0|z0kma0:,9.22337E+18,,,,,,,,,,,,,,,"16/Nov/20 09:24;rajuparashar;Hello [~davsclaus],

As discussed in developers group, please consider this requirement in your release pipeline.

Thank you,

Raju Parashar",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need way to dynamically set graphql variables,CAMEL-15864,13341348,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,makandre,makandre,2020/11/18 13:57,2020/11/18 13:57,2021/3/6 6:30,,,,,,,,,camel-graphql,,,,,,,0,,,,,,"When passing variable to graphQL query, the docs says to reference a bean in the registry using {{variables=#beanName}} syntax.  But the contents of this bean is static; there doesn't appear to be a good way to set the values of this bean in a dynamic way, which kind of defeats the purpose to having query variables",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,57:24.0,,,,,,,,0|z0kpqg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pagination to JPA component,CAMEL-15869,13341644,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,nemanjaz,nemanjaz,2020/11/19 18:23,2020/11/19 21:43,2021/3/6 6:31,,3.6.0,,,,,,,camel-jpa,,,,,,,0,features,,,,,"I would like to do a select query with pagination using JPA component. 
I don't see existing support for something like that while it's a common feature of JPA lib.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,20:35.8,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Nov 19 19:29:14 UTC 2020,,,,,,,,0|z0krk0:,9.22337E+18,,,,,,,,,,,,,,,"19/Nov/20 19:20;davsclaus;camel-jpa is not a jpa lib. Its used for data exchange from a database via jpa.

Can you describe more what your use-case is and how that would look like in camel-jpa world ?","19/Nov/20 19:29;nemanjaz;I would like to fetch records from the DB table, for example, 5 at a time. Without removing the records in the database.
 In the same way that you can fetch pages of data using jpa lib - specify page size, page number, query and you get the data.  
 Sounds like a pretty basic use-case but I can't think of the solution with the current jpa component.

I managed to do it only with sql component by writing specific query that allows me to fetch data in that way. 
 But I would rather use jpa component because I get data as entity objects which is really handy.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Every endpoint using RabbitMQ creates a new connection instead of using only one connection,CAMEL-15874,13341812,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,pmontesano,pmontesano,2020/11/20 16:01,2021/1/12 15:50,2021/3/6 6:30,,3.4.4,,,,,3.x,,camel-rabbitmq,,,,,,,0,,,,,,"Consuming AMQP messages from RabbitMQ like the following results in multiple physical connections being set up and used. Instead of using one single connection and multiple channels per connection, as RabbitMQ [suggests|https://www.rabbitmq.com/channels.html].

{code:xml}
<route id=""fooRoute"">
    <!-- ... -->
    <from uri=""rabbitmq:?queue=foo.queue&amp;skipQueueBind=true""/>
    <!-- ... -->
</route>

<route id=""barRoute"">
    <!-- ... -->
    <from uri=""rabbitmq:?queue=bar.queue&amp;skipQueueBind=true""/>
    <!-- ... -->
</route>
{code}

Also using the following configuration ...

{code:yaml}
camel:
  component:
    rabbitmq:
      autoDetectConnectionFactory: true
      skip-exchange-declare: true
      connection-factory: cachedConnectionFactory
{code}

{code:java}
@Configuration
public class Config{

    private final org.springframework.amqp.rabbit.connection.CachingConnectionFactory rabbitConnectionFactory;

    // ...

    @Bean
    com.rabbitmq.client.ConnectionFactory cachedConnectionFactory() {
        return rabbitConnectionFactory.getRabbitConnectionFactory();
    }
}
{code}

... results in the following log output:

{code}
2020-11-20 16:35:13.854 DEBUG 17625 --- [           main] o.a.c.c.rabbitmq.RabbitMQConsumer        : Using executor org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@4cd6f08b[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0][rabbitmq://?queue=foo.queue&skipQueueBind=true]
2020-11-20 16:35:13.881 DEBUG 17625 --- [           main] o.a.c.c.rabbitmq.RabbitMQConsumer        : Created connection: amqp://ebb-client@10.131.67.XXX:5672/
2020-11-20 16:35:13.892 DEBUG 17625 --- [           main] o.a.c.component.rabbitmq.RabbitConsumer  : Created channel: AMQChannel(amqp://ebb-client@10.131.67.XXX:5672/,1)
2020-11-20 16:35:13.903  INFO 17625 --- [           main] o.a.c.i.e.InternalRouteStartupManager    : Route: foo_distributorRoute started and consuming from: rabbitmq://

...

2020-11-20 16:35:13.905 DEBUG 17625 --- [           main] o.a.c.c.rabbitmq.RabbitMQConsumer        : Using executor org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@58835bba[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0][rabbitmq://?queue=bar.queue&skipQueueBind=true]
2020-11-20 16:35:13.914 DEBUG 17625 --- [           main] o.a.c.c.rabbitmq.RabbitMQConsumer        : Created connection: amqp://ebb-client@10.131.67.XXX:5672/
2020-11-20 16:35:13.918 DEBUG 17625 --- [           main] o.a.c.component.rabbitmq.RabbitConsumer  : Created channel: AMQChannel(amqp://ebb-client@10.131.67.XXX:5672/,1)
2020-11-20 16:35:13.925  INFO 17625 --- [           main] o.a.c.i.e.InternalRouteStartupManager    : Route: bar_distributorRoute started and consuming from: rabbitmq://
{code}

See the attached screenshots from the RabbitMQ management dashboard.","OS Client: Linux 18.04
OS Server: Linux 18.04
Java: OpenJDK 11

Camel: 3.4.4
SpringBoot: 2.2.0",,,,,,,,,,,,,,,,,,,,,,,CAMEL-16002,,,,CAMEL-16003,,,,20/Nov/20 15:57;pmontesano;2020-11-20 16_56_05-RabbitMQ Management.png;https://issues.apache.org/jira/secure/attachment/13015730/2020-11-20+16_56_05-RabbitMQ+Management.png,20/Nov/20 15:57;pmontesano;2020-11-20 16_57_16-RabbitMQ Management.png;https://issues.apache.org/jira/secure/attachment/13015729/2020-11-20+16_57_16-RabbitMQ+Management.png,,,,2,,,,,,,,,,,,,,,,,,,,51:06.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Jan 12 15:50:15 UTC 2021,,,,,,,,0|z0kslc:,9.22337E+18,,,,,,,,,,,,,,,"26/Nov/20 07:46;pmontesano;I increased the severity because when connection errors occur, the above described behavior results in:

* Hundreds of connections are created and canceled instead of only one
* This does not only increase a huge overhead but also spams the management dashboard ""connections"" view and the logs of the RabbitMQ",26/Nov/20 08:51;davsclaus;You have configured both autoDetectConnectionFactory: true and an explicit CF. I would assume you only set one of them.,"01/Dec/20 15:35;jgonschior;Working with Philipp at the same project.

Tested both, but it ends up in multiple connections. The desired scenario of only one connection using multiple channels was not reached.

1.
{code:java}
autoDetectConnectionFactory: true
# connection-factory: cachedConnectionFactory  #inactive
{code}
{code:java}
pom.xml does not contain: spring-boot-starter-amqp
{code}
{code:java}
above Configuration class is not present
{code}
Result:

Instead of one connection 2 are added. Both connections are created from the <from uri expression.

 
||Name||username||...||
|{{10.131.65.XXX:60427}}
 {{~?~}}|{{rabbit-admin}}| |
|{{10.131.65.XXX:60425}}
 {{~?~}}|{{rabbit-admin}}| |
|...| | |

(ASCII art from Rabbit console)

 

2.
{code:java}
autoDetectConnectionFactory: false
connection-factory: cachedConnectionFactory  #active
{code}
{code:java}
pom.xml contains: spring-boot-starter-amqp
{code}
{code:java}
above Configuration class is present
{code}
Result:

Instead of one connection 3 are added. 2 connections with the name ""?"" are created from the <from uri expression. The third one comes from the dependency spring-boot-starter-amqp. This dependency is needed to be able to use the class org.springframework.amqp.rabbit.connection.CachingConnectionFactory in the config class.

Adding this we have to configure the rabbitMQ connection for Spring additionally using the properties: 
{code:java}
spring:
  rabbitmq:
    host: my-simulation-server
    port: 5672
    username: rabbit-admin
    password: xxx

{code}
||Name||username||...||
|{{10.131.65.XXX:60420}}
 {{~rabbitConnectionFactory#3b57dba4:0~}}|{{rabbit-admin}}| |
|{{10.131.65.XXX:60427}}
 {{~?~}}|{{rabbit-admin}}| |
|{{10.131.65.XXX:60425}}
 {{~?~}}|{{rabbit-admin}}| |
|...| | |

(ASCII art from Rabbit console)

 

 ","09/Dec/20 07:45;pmontesano;Hey altogether and [~davsclaus], is there any news for this?
As [~jgonschior] pointed out, this is a somehow urgent topic for our project.
If there is currently no solution it's pretty fine but it would just be good to know.

Thanks in advance and stay home, stay safe (y)","11/Dec/20 12:31;davsclaus;Try to dive into camel-rabbitmq source code and see where the Connection is obtained, and if possible to see what is wrong / happens.","07/Jan/21 09:08;davsclaus;The RabbitMQ client now have built-in automatic recovery out of the box of connection failures, and therefore all the ""hacky"" code in camel-rabbitmq is not really needed. So we can cleanup this ""mess"".

The code can then use a plain connectionFactory.newConnection() to obtain the connection. And since a connection can multiplex many channels, we could consider having camel-rabbitmq house keep this so consumers can share the same connection when they are connected to the same host. Then you dont need to use a pooled connection factory from spring project.","12/Jan/21 15:50;davsclaus;There is a new camel-spring-rabbitmq component that uses spring client where you can use the caching connection factory.

The SB example has been updated too
https://github.com/apache/camel-spring-boot-examples/tree/master/camel-example-spring-boot-rabbitmq",,,,,,,,,,,,,,,,,,,,,,,,,,,
Able to run multiple gRPC services on single endpoint (host:port),CAMEL-15883,13342189,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dmvolod,dmvolod,2020/11/23 18:07,2020/11/23 18:07,2021/3/6 6:30,,,,,,,Future,,camel-grpc,,,,,,,0,,,,,,"There was a question on SO about this function
https://stackoverflow.com/questions/64972954/using-apache-camel-for-routing-grpc-traffic-using-the-same-port-per-route#new-answer",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,07:31.0,,,,,,,,0|z0kuwo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AWS KINESIS component not de-aggregating producer side aggregated msgs,CAMEL-15885,13342330,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,cmlnecting,cmlnecting,2020/11/24 10:24,2020/11/24 10:48,2021/3/6 6:31,,,,,,,,,camel-aws,,,,,,,0,,,,,,"{code:java}
<quarkus-plugin.version>1.8.1.Final</quarkus-plugin.version>
<dependency>
   <groupId>org.apache.camel.quarkus</groupId>
   <artifactId>camel-quarkus-aws-kinesis</artifactId>
</dependency>{code}
 
 Our producer sends zipped messages. When reading those about 1/4 of all msgs cannot be unzipped. When digging into the message blob it became clear that one message contains multiple data blobs. That's probably due to the producer side message aggregation ( [https://docs.aws.amazon.com/streams/latest/dev/kinesis-kpl-consumer-deaggregation.html]).
  
 Instead of a single message the data from the Record entity contains obviously several merged data blobs that I'm unable to read (zip error when trying to decompress). I'd expect to receive several msgs in my processor instead of several msgs merged into one msg blob.

 
{code:java}
 from(""aws-kinesis://""  lsc.getStreamName()  ""?amazonKinesisClient=client&bridgeErrorHandler=true&maxResultsPerRequest=500&greedy=true&delay=0&runLoggingLevel=TRACE&iteratorType=LATEST"")
                 .routeId(""vssKinesisStream"")
                 .log(""LSC message received."")
                 .onException(java.util.zip.ZipException.class).process(exchange -> 
{                     metrics.countInvalidPerSec();                 }
)
                 .stop()
                 .end()
                 .process(exchange -> 
{                         metrics.countReceivedPerSec();                         Record record = exchange.getIn().getBody(Record.class);                         String message = extractMessageFromRecord(record);                         exchange.getIn().setBody(message);                         metrics.countValidPerSec();                         LOG.info(""Extracted message: "" + message);                         lastReadMsgAge = Duration.between(record.getApproximateArrivalTimestamp().toInstant(), Instant.now());                 }
{code}
 
  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,26:29.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Nov 24 10:48:01 UTC 2020,,,,,,,,0|z0kvrk:,9.22337E+18,,,,,,,,,,,,,,,"24/Nov/20 10:26;acosentino;If this is related to camel-quarkus, report on https://github.com/apache/camel-quarkus",24/Nov/20 10:27;acosentino;By the way this is the expected behavior.,"24/Nov/20 10:32;acosentino;The component is using the synchronous portion of the AWS SDK, what you're talking about is kpl and kcl and they are not used in this component.","24/Nov/20 10:33;cmlnecting;Thanks for your reply. 

How can one de-aggregate such an aggregated-messages-blob stored in the Record body? Isn't that a missing feature when the KCL supports automatic de-aggregation of KPL user records. ","24/Nov/20 10:41;acosentino;I believe you'll have to manage this on the consumer side. By the way, to me, this is not a bug, it's a feature request.","24/Nov/20 10:42;acosentino;And no, it's not a missing feature, since we are focusing on camel-aws2-kinesis, based on v2 of SDK. So camel-aws-kinesis won't be changed or at least, not for new feature.",24/Nov/20 10:45;cmlnecting;How does aws2-kinesis behave different regarding that ?,"24/Nov/20 10:47;acosentino;This is a particular case, so I'm not sure if we have the same problem on aws2-kinesis too, but there we can add the feature or at least we can investigate how to do that and what is needed, for aws-kinesis it probably makes less sense.",24/Nov/20 10:48;acosentino;At some point we'll deprecate the camel-aws component in favor of camel-aws2,,,,,,,,,,,,,,,,,,,,,,,,,
camel-bean - Optimize bean parameter binding,CAMEL-15897,13342849,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/11/26 14:37,2021/1/22 6:30,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"Lets see if we can optimize camel-bean and the bean parameter binding, and method call resolution that happens at runtime.

There are situations where we have type information and can optimize for that, and also maybe have a source code generated way for optimal performance and overhead, something like we have with csimple language.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,37:00.0,,,,,,,,0|z0kyyg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GeoCoderNominatimProducer should not create a new HttpClient on processing each exchange,CAMEL-15900,13342978,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jamesnetherton,jamesnetherton,2020/11/27 11:48,2020/11/27 11:48,2021/3/6 6:31,,,,,,,3.x,,camel-geocoder,,,,,,,0,,,,,,"GeoCoderNominatimProducer can invoke 3rd party location apis via the serverUrl option. To do this, it creates an Apache HttpClient. However, the client is created on every invocation of process(), which is not very efficient. It should be possible to set up the client once, and reuse it.

Also none of the endpoint options for configuring a proxy server are passed to the HttpClient. It would be good if they were.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,48:40.0,,,,,,,,0|z0kzr4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Master component do not retry endpoint startup on failure,CAMEL-15903,13343002,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,edgarcher,edgarcher,2020/11/27 13:48,2021/2/1 14:10,2021/3/6 6:30,,,,,,,3.9.0,,camel-master,,,,,,,0,,,,,,"The cluster view implementations have a listener attribute where the master component hooks itself to receive leadership change events. 

When the app instance becomes leader the cluster view will mark that instance as leader then it will trigger the leadershipchangedevent, this will trigger the master component event handler and it will start the delegated consumer and endpoint.

The issue happens when the delegated consumer or endpoint fail to start. The exception throw by them will go up in the stack, however, this exception does not affect the leadership, i.e., once the app instance becomes leader it will stay so even if the delegated components fail to start.

Both KubernetesClusterView and FileLockClusterView have this issue.

KubernetesClusterView uses KubernetesLeadershipController to run the leadership check at an interval. When it acquires the leadership it updates the configmap with that info and call TimedLeaderNotifier refreshLeadership method to check if the leadership has changed. The issue here is that it will mark itself as leader before firing the leadership changed event. Another issue is that the event is fired in a separete thread, so, when the start of the delegated components fail the exception will ""die"" together with the thread. When the next scheduled leadership check runs the app instance is already the leader and it will not fire the leadership changed event and the delegated component will never start.

FileLockClusterView has a similar issue, it acquires the file lock prior to firing the event, even if the event processing fails it does not rollback the leader selection.

Other cluster view implementations might have the same issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,59:19.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Dec 10 12:27:11 UTC 2020,,,,,,,,0|z0kzwg:,9.22337E+18,,,,,,,,,,,,,,,"27/Nov/20 13:51;edgarcher;[~davsclaus] I wanted to fix this issue myself but I'm afraid I might fix it for my scenario and keep others uncovered, since I think this issue might be related with all cluster view implementations.

Would you mind giving some direction on how this could fixed ? 

I may try to submit a PR based on this direction then.","27/Nov/20 13:59;davsclaus;Edgar, I wonder if you have or can get a stacktrace of that error that is silently ignored. Or can pin point to where it happens in the current code.","27/Nov/20 14:12;edgarcher;I'm using camel to consume from SF streaming api and I got this error when trying to creating a push topic with a name with more than 25 characters. This is the stack trace using FileLockClusterView:

org.apache.camel.CamelException: Error creating Topic proposalOpportunityInjectionSync: {errors:[{""errorCode"":""STRING_TOO_LONG"",""message"":""Topic Name: data value too large: proposalOpportunityInjectionSync (max length=25)"",""fields"":[""Name""]}],statusCode:400}
	at org.apache.camel.component.salesforce.internal.streaming.PushTopicHelper.createTopic(PushTopicHelper.java:169)
	at org.apache.camel.component.salesforce.internal.streaming.PushTopicHelper.createOrUpdateTopic(PushTopicHelper.java:112)
	at org.apache.camel.component.salesforce.SalesforceConsumer.doStart(SalesforceConsumer.java:312)
	at org.apache.camel.support.service.BaseService.start(BaseService.java:115)
	at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:84)
	at org.apache.camel.component.master.MasterConsumer.onLeadershipTaken(MasterConsumer.java:133)
	at org.apache.camel.component.master.MasterConsumer.access$100(MasterConsumer.java:43)
	at org.apache.camel.component.master.MasterConsumer$LeadershipListener.leadershipChanged(MasterConsumer.java:160)
	at org.apache.camel.support.cluster.AbstractCamelClusterView.lambda$fireLeadershipChangedEvent$4(AbstractCamelClusterView.java:129)
	at org.apache.camel.support.cluster.AbstractCamelClusterView.lambda$doWithListener$3(AbstractCamelClusterView.java:119)
	at org.apache.camel.util.concurrent.LockHelper.doWithReadLock(LockHelper.java:34)
	at org.apache.camel.support.cluster.AbstractCamelClusterView.doWithListener(AbstractCamelClusterView.java:112)
	at org.apache.camel.support.cluster.AbstractCamelClusterView.fireLeadershipChangedEvent(AbstractCamelClusterView.java:127)
	at org.apache.camel.component.file.cluster.FileLockClusterView.tryLock(FileLockClusterView.java:146)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.camel.component.salesforce.api.SalesforceException: {errors:[{""errorCode"":""STRING_TOO_LONG"",""message"":""Topic Name: data value too large: proposalOpportunityInjectionSync (max length=25)"",""fields"":[""Name""]}],statusCode:400}
	at org.apache.camel.component.salesforce.internal.client.DefaultRestClient.createRestException(DefaultRestClient.java:113)
	at org.apache.camel.component.salesforce.internal.client.AbstractClientBase$1.onComplete(AbstractClientBase.java:231)
	at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)
	at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)
	at org.eclipse.jetty.client.ResponseNotifier.forwardSuccessComplete(ResponseNotifier.java:228)
	at org.apache.camel.component.salesforce.internal.client.SalesforceSecurityHandler$SecurityListener.forwardSuccessComplete(SalesforceSecurityHandler.java:269)
	at org.apache.camel.component.salesforce.internal.client.SalesforceSecurityHandler$SecurityListener.onComplete(SalesforceSecurityHandler.java:182)
	at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)
	at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)
	at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)
	at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:416)
	at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316)
	at org.eclipse.jetty.http.HttpParser.parseFields(HttpParser.java:1165)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1525)
	at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172)
	at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135)
	at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)
	at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)
	at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
	at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:411)
	at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:305)
	at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:159)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)
	... 1 more","04/Dec/20 09:03;lb;As far as I remember the idea was that there should be something on top of the master component to deal with routes failures and decide what to do as example, if there's a connectivity glitch and your route either don't even start or report failures, it should be up to the specific routes supervisor to decide to retry or to give up and release the leadership. 

But I think we should have some configuration option to configure the behaviour of the master component and i.e. auto release the leadership in case of failures.","04/Dec/20 18:00;edgarcher;I think I could have something monitoring the master component but I don't think it would help in this scenario actually. In all app instances the master component route is started (and the route it is in as well). The thing that is not started is the ""wrapped by master"" component/endpoint, that wrapped component starts when master component receives leadership changed events and trigger its start.

One thing that I was thinking is, what if the actual error surfaced to the exception handling mechanism (something similar to what bridgeErrorHandler does). This won't fix the issue of not retrying the startup of it on leadership changes but at least will give users visibility that something is going on (they might even be able to ""force"" the restart of the route on their own based on the exception that was thrown)",09/Dec/20 08:31;lb;Yes I know that the route is started but many things may fail so there should be something to supervise the routes so I guess the master policy should install a dedicate error handler or the reoute policy should provide an hook for error related to the route itself and the master component can hook there,"09/Dec/20 21:04;edgarcher;The Master Consumer does not have a try catch block on leadership taken event handler (https://github.com/apache/camel/blob/master/components/camel-master/src/main/java/org/apache/camel/component/master/MasterConsumer.java#L118).

would it be okay If I just added that and then call super.handleException in the catch block ? If the route has bridgeErrorHandler=true this should at least surface the exception for handling, right ?

This won't solve the issue by itself but at least end users will have an exception indicating that something is going on.","10/Dec/20 09:06;davsclaus;Yes Edgar lets add some logging details if there is an exception with the leader taken/lost situation.

","10/Dec/20 09:22;davsclaus;There is nothing today that can monitor and retry starting the consumer et all, as this is done internally in the master consumer itself (not via Camels route controller).

I think if starting the consumer fails, then we now do a logging of the exception. And I think we should then loose the leader - and it looks like for this to happen then we would need to restart, eg stop the view, and create the view again. Luca any thoughts?","10/Dec/20 09:36;lb;I think the clean solution would be to add a method to the CamelClusterView and/or CamelClusterMember interface to release the leadership, as workaround we may invoke clusterService.releaseView(view) directly or maybe using a custom exception handler ?",10/Dec/20 12:27;davsclaus;Yeah good idea with a release API (I was looking for that),,,,,,,,,,,,,,,,,,,,,,,
Camel AWS-KINESIS:  Add KMS support,CAMEL-15909,13343349,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,Maser,Maser,2020/11/30 16:04,2020/11/30 16:08,2021/3/6 6:30,,,,,,,,,camel-aws,camel-aws2,,,,,,0,AWS,,,,,"Like SQS, Kinesis also supports KMS.  Would be great to add options KmsMasterKeyId and KmsDataKeyReusePeriodSeconds support.

https://aws.amazon.com/blogs/big-data/encrypt-and-decrypt-amazon-kinesis-records-using-aws-kms/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,08:27.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Nov 30 16:08:27 UTC 2020,,,,,,,,0|z0l21c:,9.22337E+18,,,,,,,,,,,,,,,30/Nov/20 16:08;acosentino;Will do on aws2. Aws components will be deprecated soon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing release artifacts for Karaf and Spring Boot,CAMEL-15910,13343552,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,gzurowski,zregvart,zregvart,2020/12/1 12:37,2020/12/1 16:58,2021/3/6 6:30,,3.4.4,3.6.0,,,,,,distribution,,,,,,,0,,,,,,We [need to|https://www.apache.org/legal/release-policy.html#what-must-every-release-contain] include source packages for Camel Karaf and Camel Spring Boot as they are released with Camel core release. Since we split out Camel Karaf and Camel Spring Boot sources of those also need to be present with hashes and signatures in ASF distribution.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,37:03.0,,,,,,,,0|z0l3ag:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Able to load custom font from file in camel-pdf,CAMEL-15912,13343701,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,dmvolod,dmvolod,2020/12/2 7:13,2020/12/2 7:19,2021/3/6 6:31,,,,,,,Future,,camel-pdf,,,,,,,0,,,,,,"There are 14 standard fonts provided OOB and not able to load custom fonts from file in camel-pdf component
[Custom fonts with Apache PDFBox component|https://carbonrider.github.io/pdfbox_tutorial/pdf_embed_font.html]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,13:41.0,,,,,,,,0|z0l47k:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add link to the Spring Docs about mongodb client,CAMEL-15916,13344001,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,IronAlan,IronAlan,2020/12/3 11:53,2020/12/3 11:53,2021/3/6 6:31,,3.6.0,,,,,,,camel-mongodb,,,,,,,0,,,,,,"Docs [https://camel.apache.org/components/latest/mongodb-component.html] do not have step to add 
```

{color:#e8bf6a}<repositories>
{color}{color:#e8bf6a} <repository>
{color}{color:#e8bf6a} <id>{color}spring-milestone{color:#e8bf6a}</id>
{color}{color:#e8bf6a} <name>{color}Spring Maven MILESTONE Repository{color:#e8bf6a}</name>
{color}{color:#e8bf6a} <url>{color}https://repo.spring.io/libs-milestone{color:#e8bf6a}</url>
{color}{color:#e8bf6a} </repository>
{color}{color:#e8bf6a}</repositories>{color}

```
to pm.file in order to create mongoDB client according to [https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#reference] 
It's better to add direct link to spring to avoid this issue.

Stack-overflow issue [https://stackoverflow.com/questions/61313732/configuration-problem-unable-to-locate-spring-namespacehandler-for-xml-schema-n/65125398#65125398] 

Later I'll add pull request to docs",Ubuntu 20.04,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,53:28.0,,,,,,,,0|z0l628:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
/releases/ page incomplete for camel-k,CAMEL-15918,13344037,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,sebb,sebb,2020/12/3 15:09,2020/12/3 15:09,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,"The releases page is missing earlier releases for:
camel-k
camel-k runtime
Only a single release is currently listed for each, however there are many more:
https://archive.apache.org/dist/camel/camel-k/
https://archive.apache.org/dist/camel/camel-k-runtime/
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:22.0,,,,,,,,0|z0l6a8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Compiled simple support nested functions,CAMEL-15922,13344200,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/12/4 9:30,2021/1/21 14:44,2021/3/6 6:30,,3.7.0,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"The csimple language does not support the following feature in its first release

- nested functions (${xxx} inside existing ${xxx} functions))
- the null safe operator (?)

We need a smarter source code generator for this to support this, that supports building up multiple statements and assign to local variables, and branches for the null safe operator, and also to understand types of method calls for nested functions so its of the same type from the java compiler point of view.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,30:34.0,,,,,,,,0|z0l7ag:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[camel-vertx-kafka] Add the ability to commit the offsets manually,CAMEL-15924,13344574,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,omarsmak,omarsmak,2020/12/7 13:10,2021/3/4 13:19,2021/3/6 6:30,,3.7.0,,,,,3.9.0,,camel-vertx,,,,,,,0,,,,,,"The new camel-vertx-kafka does not yet support committing the offsets manually which allows *at least once* semantics. Similar to camel-kafka, by providing {{KafkaManualComit}} perhaps",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,10:23.0,,,,,,,,0|z0l9lk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-example - Remove camel-example- prefix in folder names,CAMEL-15927,13344779,,Task,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,metters,davsclaus,davsclaus,2020/12/8 10:27,2021/3/4 22:07,2021/3/6 6:30,,,,,,,3.x,,examples,,,,,,,0,,,,,,"Lets make the examples names shorter so they have a nicer name and overview in github and other places etc

https://github.com/apache/camel-spring-boot-examples
https://github.com/apache/camel-examples

See for example quarkus which has already done that
https://github.com/apache/camel-quarkus-examples",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,30:17.1,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Mar 04 22:07:16 UTC 2021,,,,,,,,0|z0lauw:,9.22337E+18,,,,,,,,,,,,,,,"03/Mar/21 16:30;metters;Same here, the subtasks are done. I am closing the ticket","04/Mar/21 22:07;metters;I am going to remove spring-boot as a prefix, too",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-website - Remove old FAQs,CAMEL-15939,13345672,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,davsclaus,davsclaus,davsclaus,2020/12/12 10:12,2021/2/1 9:17,2021/3/6 6:31,,,,,,,3.x,,documentation,website,,,,,,0,,,,,,Lets cleanup the FAQ section of the docs as it has many old FAQs that are no longer relevant.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,12:01.0,,,,,,,,0|z0lgco:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Support ""oneOf"" requirements of attributes inside the Catalog",CAMEL-15943,13345809,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,apupier,apupier,2020/12/14 9:33,2020/12/14 10:57,2021/3/6 6:31,,3.7.0,,,,,,,camel-catalog,,,,,,,0,,,,,,"There are some components that allow to configure an option on either component or endpoint that would be required.

For instance the ""operation"" parameter for aws2-iam",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15938,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,44:35.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Dec 14 10:57:03 UTC 2020,,,,,,,,0|z0lh74:,9.22337E+18,,,,,,,,,,,,,,,"14/Dec/20 09:44;lb;We may think to use json schema to describe components, similar to what we did for the YAML DSL in camel-k however I'm curious to know how tools should validate ""oneOf"" as the parameter can be set in completely unrelated file, using an environment variable or with a custom component set-up.","14/Dec/20 09:51;apupier;{quote}From tooling point of view, we can consider adding a boolean flag that indicates when this is the case - but what should the name be?{quote}

using just a boolean won't allow to know with which other properties it is linked to.I do not think that it will provide more information than setting the attribute required to false and just mentioning in documentation that ""one of"" attributes must be set.

With yaml spec, it is expressed by a ""required -> ""oneOf"" attribute at a higher level listing the required properties https://json-schema.org/understanding-json-schema/reference/combining.html#oneof
","14/Dec/20 09:59;lb;My question was more about validation, so you don't expect to have the IDE to validate the URI then, right ?","14/Dec/20 10:00;apupier;{quote}I'm curious to know how tools should validate ""oneOf"" as the parameter can be set in completely unrelated file, using an environment variable or with a custom component set-up.{quote}

there is the same problem for normal ""required"" properties. It is not specific to this case. Currently, tooling is assuming that everything is declared in the same file. There was no issues/enhancements reported for several years (it is also part of Eclipse Fuse Tooling validation).

Maybe the use case will occur more often with Camel K/Camel Kafka connector? it would mean that we cannot validate anymore requirements of properties.","14/Dec/20 10:02;apupier;{quote}My question was more about validation, so you don't expect to have the IDE to validate the URI then, right ?{quote}

My goal of having a way to specify that ""one of attributes is required"" in the catalog is to provide validation at design time, so in the IDE.","14/Dec/20 10:12;lb;Maybe it would be better to flatten the properties and have an option to determine where they applies so if they are marked as mandatory, it is explicit that setting at component or endpoint level is equivalent (otherwhise you need to apply the oneOf to both the definitions) but still, I'm curious how the validation can be performed ad design time :) given that the property may exists only at runtime","14/Dec/20 10:14;lb;> Maybe the use case will occur more often with Camel K/Camel Kafka connector? it would mean that we cannot validate anymore requirements of properties.

I don't think so, on spring-boot configuring component using properties is quite a common ","14/Dec/20 10:32;apupier;{quote}flatten the properties and have an option to determine where they applies so if they are marked as mandatory, it is explicit that setting at component or endpoint level is equivalent{quote}

this requires that it is a property with the same name.
it doesn't cover the case for instance of having ""homeAddress"" and ""officeAddress"" and requires to have one of the 2.

But I don't know if it happens currently or if we want to have it happening. If it doesn't, it sounds simpler.

The downside of this approach is that I think it will require to radically change the catalog and it will break the backward-compatibility.

{quote}I'm curious how the validation can be performed ad design time  given that the property may exists only at runtime{quote}
The validation currently expects all required properties to be defined at design time. It is not specific to ""oneOf"".
This is an assumption that was good enough for several years but it is possible that it is no more reliable enough and deactivate this kind of validation in Camel catalog and Eclipse Fuse Tooling (and not implement it for Camel Kafka Connector in Camel Language Server)","14/Dec/20 10:57;apupier;> > From tooling point of view, we can consider adding a boolean flag that indicates when this is the case - but what should the name be?
> 
> using just a boolean won't allow to know with which other properties it is linked to.I do not think that it will provide more information than setting the attribute required to false and just mentioning in documentation that ""one of"" attributes must be set.

> > flatten the properties and have an option to determine where they applies so if they are marked as mandatory, it is explicit that setting at component or endpoint level is equivalent

> this requires that it is a property with the same name.
> it doesn't cover the case for instance of having ""homeAddress"" and ""officeAddress"" and requires to have one of the 2.

> But I don't know if it happens currently or if we want to have it happening. If it doesn't, it sounds simpler.

if we want to handle only the case of same name but putt at different levels, the boolean might be enough. Something like _canBeSetAtAnotherLevel_ (what a long and not nice naming...)",,,,,,,,,,,,,,,,,,,,,,,,,
Introduce configuration property to skip DescribeTable  operation on start of aws2-ddb component,CAMEL-15951,13346261,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,cynicLT,cynicLT,2020/12/16 5:50,2020/12/16 5:59,2021/3/6 6:30,,3.6.0,,,,,,,camel-aws2,,,,,,,0,,,,,,"On {{aws2-ddb}} endpoint start it constantly checking table status by doing {{DescribeTable}} request.
{code:java}
 @Override
    public void doStart() throws Exception {
        super.doStart();

        ddbClient = configuration.getAmazonDDBClient() != null ? configuration.getAmazonDDBClient() : createDdbClient();

        String tableName = getConfiguration().getTableName();
        LOG.trace(""Querying whether table [{}] already exists..."", tableName);

        try {
            DescribeTableRequest.Builder request = DescribeTableRequest.builder().tableName(tableName);
            TableDescription tableDescription = ddbClient.describeTable(request.build()).table();
            if (!isTableActive(tableDescription)) {
                waitForTableToBecomeAvailable(tableName);
            }

            LOG.trace(""Table [{}] already exists"", tableName);
            return;
        } catch (ResourceNotFoundException e) {
            LOG.trace(""Table [{}] doesn't exist yet"", tableName);
            LOG.trace(""Creating table [{}]..."", tableName);
            TableDescription tableDescription = createTable(tableName);
            if (!isTableActive(tableDescription)) {
                waitForTableToBecomeAvailable(tableName);
            }

            LOG.trace(""Table [{}] created"", tableName);
        }
    }
{code}
Key issues with such approach:
 * it requires to grant {{DescribeTable}} operation for client which provides sensitive information like KMS master key ARN/ID, billing information etc. ([https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_DescribeTable.html])
 * after start and checking table status for being ACTIVE there is no guarantee that it's actually true on doing any other DDB operation with started component. 

Potential Solution:
* introduce {{createTable}} configuration parameter and use {{DescribeTable}} only if {{createTable}}=={{true}} (default {{false}}) ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,50:50.0,,,,,,,,0|z0ljzk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[camel-vertx-kafka] Upgrade Vertx kafka client to 4.0.0,CAMEL-15953,13346332,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,omarsmak,omarsmak,omarsmak,2020/12/16 10:31,2020/12/16 13:16,2021/3/6 6:31,,3.7.0,,,,,3.x,,camel-vertx,,,,,,,0,,,,,,"Upgrade Vertx kafka client to 4.0.0. However this is *not just only version pump up* this requires work to migrate the APIs that were being used in camel-vertx-kafka 3.9.5 to to be 4.0.0, for example from callback based to Future based APIs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,07:31.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Dec 16 13:16:05 UTC 2020,,,,,,,,0|z0lkfc:,9.22337E+18,,,,,,,,,,,,,,,"16/Dec/20 13:07;davsclaus;Omar, we would need to align this with camel-quarkus as it relies heavily on vert.x which is scheduled for march/april 2021 to be supported
https://github.com/quarkusio/quarkus/issues/13768

So can we move this to a future Camel.

Also since vertx 4.0.0 is brand new it would take some releases to mature and stabilize. So its better to stay on 3.9.x for a while longer.","16/Dec/20 13:16;omarsmak;Ah true, however this is true from Clement, even for us, some of the vertx components will break with version 4.0, not only vertx kafka component. So yeah, will move the fix version to future camel until things stabilize (y)  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - API and SPI for Camel components to resume from offset,CAMEL-15955,13346359,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2020/12/16 13:19,2021/2/15 10:00,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"We need a API and SPI for components to optionally support some way of offset management. Meaning that a component is able to resume from a given offset to continue from last known state. For example if a Camel application was stopped/crashed, then it can restart and resume from last known offset.

Something like Apache Kafka offset has.

This benefits Camel in general, and Camel Kafka Connector also.

An use-case is the famous big files. So the file component is reading a file, and process it line by line via a splitter. Then we would like to store an offset how far it has processed. And in case of crash/restart etc then it can continue from last known position. Today it would restart from top.

Same for SQL,JDBC components with SQL ResultSet and so on.

The offset management should support different quality levels and a SPI so different implementations can plugin. One could be to store to a plain file and for each step. And other can have a batch to store after N rows or N seconds. Or like in Kafka with every N seconds.

Then each Camel component that can support this, can then implement the API and logic for handling this. For the file component we can maybe store an offset in the input stream, so when resuming we then forward the stream to that position.

",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-15562,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,19:02.0,,,,,,,,0|z0lklc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Minimal core without routes,CAMEL-15956,13346362,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2020/12/16 13:26,2021/2/1 13:52,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"It would be good to continue modularization and as we have camel-base and camel-base-engine where in engine should be the routing engine. Then we should work to make a BaseCamelContext implementation that end users can use that does not have routing included.

The idea is to offer this to 3rd party frameworks that need as-minimal Camel as possible. For example funqy (https://quarkus.io/guides/funqy) or vertx mutiny, and others.

So they can integrate with Camel components via the camel-api via Producer, Consumer, Endpoint etc and dont need the entire routing engine.
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,26:09.0,,,,,,,,0|z0lkm0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a Google Cloud Functions component,CAMEL-15963,13346740,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/12/18 9:02,2021/3/1 7:04,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:01.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 01 07:04:32 UTC 2021,,,,,,,,0|z0lmy0:,9.22337E+18,,,,,,,,,,,,,,,"26/Feb/21 17:51;rmarcello;Hi,

I would like to develop this component. I am already playing with client libraries if for you it's ok I try to make a component from it.","01/Mar/21 07:04;lb;That would be awesome, thx Raffaele",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a Azure Functions component,CAMEL-15965,13346742,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2020/12/18 9:02,2020/12/18 9:02,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,02:57.0,,,,,,,,0|z0lmyg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a Snowflake component,CAMEL-15966,13346743,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,zhfeng,lb,lb,2020/12/18 9:03,2021/3/4 20:17,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,57:02.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Mar 04 20:17:34 UTC 2021,,,,,,,,0|z0lmyo:,9.22337E+18,,,,,,,,,,,,,,,"25/Feb/21 15:57;zhfeng; lt looks like the snowflake supports jdbc connection [https://docs.snowflake.com/en/user-guide/jdbc.html]

So it could be inherit from camel-jdbc ",25/Feb/21 16:00;lb;[~zhfeng] would you like to work on this component ?,"02/Mar/21 15:19;zhfeng;[~lb] sure, I assign to myself and will take a look this week.","04/Mar/21 20:17;favalos;Hi [~lb] [~zhfeng] ,

Been thinking about this for sometime and my understanding is that the java Ingestor is the preferred tool for continuous data processing([snowflake-ingest-java).|https://github.com/snowflakedb/snowflake-ingest-java]

It uses jdbc in someway(I did not go to the details), should we explore that alternative? Or do you want to have the JDBC connector because most of the people knows JDBC?

Let me know if I can help,",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-Braintree: Add more Gateway classes,CAMEL-15968,13346747,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2020/12/18 9:13,2021/2/3 9:39,2021/3/6 6:30,,,,,,,3.9.0,,camel-braintree,,,,,,,0,,,,,,"There are more gateway classes available, we should support them.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,39:17.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 03 09:39:17 UTC 2021,,,,,,,,0|z0lmzk:,9.22337E+18,,,,,,,,,,,,,,,"03/Feb/21 09:39;davsclaus;Andrea, do you know or can point to which new classes is added?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a check to make sure URLs remain backward compatible,CAMEL-15970,13346771,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,zregvart,zregvart,zregvart,2020/12/18 11:23,2020/12/18 11:30,2021/3/6 6:30,,,,,,,,,website,,,,,,,0,,,,,,"When we re-organize content on the website we might accidentally shuffle the URLs around. We do check if within the website links are not broken, but we could also check if we changed any of the URLs so we know we broke links from other websites pointing to Camel and that we might need to add a redirect from old to the new content.
Perhaps looking up the current sitemap and the built sitemap on the pull request might be a way to check for any changes in the URL.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,23:52.0,,,,,,,,0|z0ln4w:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Headers: Harmonize the usage a bit and add annotations for catalog,CAMEL-15975,13346803,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,acosentino,acosentino,2020/12/18 15:01,2020/12/18 15:01,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,"Headers ideally should be placed in classes like the constants classes we have around the components. We should try to place this class always in the same package, so we could be able to list the headers automatically in the catalog and document them, we could also add some annotations for this purpose, like a little description or something. This could be handy for documentation but also for re-using catalog in subprojects.

[~cibsen@e-ma.net] [~lb] [~nferraro] this is just a placeholder for discussion and maybe find a way.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,01:34.0,,,,,,,,0|z0lnc0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-xmpp - Upgrade to 1.0.x,CAMEL-15978,13346910,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2020/12/19 9:40,2021/1/14 13:36,2021/3/6 6:31,,,,,,,3.x,,camel-xmpp,,,,,,,0,help-wanted,,,,,"There is a 1.0.x version of their library.
Maybe we need a OSGi bundle for it too (not sure)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jan 14 13:36:01 UTC 2021,,,,,,,,0|z0lnzs:,9.22337E+18,,,,,,,,,,,,,,,"14/Jan/21 13:36;davsclaus;Okay this requires also upgrading smack to 4.4 as then it uses jxmpp 1.0.x library.
And after that there are some security tests failing with certificates (yeah lovely). So its actually a harder work to do.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consider aligning gson versions accross camel dependencies,CAMEL-15981,13347116,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,aldettinger,aldettinger,2020/12/21 10:06,2020/12/21 11:48,2021/3/6 6:31,,,,,,,,,,,,,,,,0,,,,,,"See discussion in context here: [https://github.com/apache/camel-quarkus/pull/2088#discussion_r546605397].

Keep in mind that 2.8.6 doesn't work in OSGi.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,48:23.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Dec 21 11:48:23 UTC 2020,,,,,,,,0|z0lp9k:,9.22337E+18,,,,,,,,,,,,,,,21/Dec/20 11:48;ppalaga;Blocked by https://github.com/google/gson/issues/1677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kafka - Upgrade to Kafka 2.7,CAMEL-15982,13347304,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2020/12/22 8:35,2020/12/22 8:35,2021/3/6 6:30,,,,,,,3.x,,camel-kafka,,,,,,,0,,,,,,"Mind we need to be aligned with the Camel Kafka Connector project, and also vertx-kafka as we have a Camel component for that too. And potentially also debezium.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,35:07.0,,,,,,,,0|z0lqfc:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve ProducerTemplate documentation and code examples using ProducerTemplate,CAMEL-16006,13351032,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,thokuest,thokuest,2021/1/8 8:16,2021/1/8 8:17,2021/3/6 6:31,,3.7.0,,,,,,,documentation,,,,,,,0,,,,,,"I'm currently reading about error handling in Camel, specifically [Using a Processor as a failure handler|https://camel.apache.org/manual/latest/exception-clause.html#ExceptionClause-UsingaProcessorasaFailureHandler].

The code example lists

{code:java|title=Code Example}
// send it to our mock endpoint
exchange.getContext().createProducerTemplate().send(""mock:myerror"", exchange);
{code}

According to the Javadoc of {{createProducerTemplate()}} and {{ProducerTemplate}} this is problematic:

* {{stop()}} must be called when the {{ProducerTemplate}} is not further needed
* Recommended practice is to use just one {{ProducerTemplate}} in the application
* [Why does Camel use too many threads with ProducerTemplate?|https://camel.apache.org/manual/latest/faq/why-does-camel-use-too-many-threads-with-producertemplate.html]

Since we're all lazy devs, we tend to copy paste code listings and think we're done.

I suggest the following:

* Add a section _Recommended Practice_ to [user manual ProducerTemplate|https://camel.apache.org/manual/latest/producertemplate.html] which basically lists the important bits of FAQ article [Why does Camel use too many threads with ProducerTemplate?|https://camel.apache.org/manual/latest/faq/why-does-camel-use-too-many-threads-with-producertemplate.html]
* Fix code example in [Using a Processor as a failure handler|https://camel.apache.org/manual/latest/exception-clause.html#ExceptionClause-UsingaProcessorasaFailureHandler].
* Maybe scan through other code samples?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,16:58.0,,,,,,,,0|z0mdls:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove camel-example- prefix in folder names in camel-spring-boot-examples,CAMEL-16011,13351264,13344779,Sub-task,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,metters,metters,metters,2021/1/9 23:50,2021/3/4 22:07,2021/3/6 6:30,,,,,,,3.x,,examples,,,,,,,0,,,,,,edit folder names in [camel-spring-boot-examples|https://github.com/apache/camel-spring-boot-examples],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13/Jan/21 21:23;metters;apache camel swagger simple springbootrun.txt;https://issues.apache.org/jira/secure/attachment/13018719/apache+camel+swagger+simple+springbootrun.txt,17/Jan/21 12:26;metters;camel example remaining modules.png;https://issues.apache.org/jira/secure/attachment/13018896/camel+example+remaining+modules.png,14/Jan/21 22:34;metters;camel spring boot hystrix stacktrace.txt;https://issues.apache.org/jira/secure/attachment/13018799/camel+spring+boot+hystrix+stacktrace.txt,23/Jan/21 00:18;metters;image-2021-01-23-01-18-27-929.png;https://issues.apache.org/jira/secure/attachment/13019221/image-2021-01-23-01-18-27-929.png,,4,,,,,,,,,,,,,,,,,,,,17:28.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 03 08:10:08 UTC 2021,,,,,,,,0|z0mf14:,9.22337E+18,,,,,,,,,,,,,,,"10/Jan/21 00:01;metters;-[~cibsen@e-ma.net], is it 'just' removing the prefix from the folder names or are there any side-effects that I have to keep an eye open for?-
I started working on it.

","13/Jan/21 21:23;metters;{{camel-example-spring-boot-rest-swagger-simple}} seems to be broken:
 {{mvn spring-boot:run}} returns an ERROR: [^apache camel swagger simple springbootrun.txt]",14/Jan/21 22:34;metters;client of hystrix example does not run: [^camel spring boot hystrix stacktrace.txt],15/Jan/21 11:17;davsclaus;The swagger example requires to download the spec online - it works for me. Wonder if they had a glitch or that you are behind some HTTP proxy and it returned some error.,15/Jan/21 11:21;davsclaus;Thanks the hystrix example has been fixed,"17/Jan/21 12:23;metters;I merged the fix into my branch and tried again to run swagger-simple.

In my browser I can access [https://petstore.swagger.io/v2/swagger.json] without issues. When running the application, unfortunately it still returns the following for both ways to startup (see README of that example implementation):
{code:java}
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.2)2021-01-17 13:18:39.864  INFO 13936 --- [           main] o.a.c.example.RestSwaggerApplication     : Starting RestSwaggerApplication v3.8.0-SNAPSHOT using Java 14.0.2 on metters-PC with PID 13936 (/home/metters/IdeaProjects/camel-spring-boot-examples/camel-example-spring-boot-rest-swagger-simple/target/camel-example-spring-boot-rest-swagger-simple-3.8.0-SNAPSHOT.jar started by metters in /home/metters/IdeaProjects/camel-spring-boot-examples/camel-example-spring-boot-rest-swagger-simple)
2021-01-17 13:18:39.867  INFO 13936 --- [           main] o.a.c.example.RestSwaggerApplication     : No active profile set, falling back to default profiles: default
2021-01-17 13:18:40.812  INFO 13936 --- [           main] o.apache.camel.support.LRUCacheFactory   : Detected and using LRUCacheFactory: camel-caffeine-lrucache
2021-01-17 13:18:41.147  INFO 13936 --- [           main] o.a.c.s.boot.SpringBootRoutesCollector   : Loading additional Camel XML routes from: classpath:camel/*.xml
2021-01-17 13:18:41.147  INFO 13936 --- [           main] o.a.c.s.boot.SpringBootRoutesCollector   : Loading additional Camel XML route templates from: classpath:camel-template/*.xml
2021-01-17 13:18:41.148  INFO 13936 --- [           main] o.a.c.s.boot.SpringBootRoutesCollector   : Loading additional Camel XML rests from: classpath:camel-rest/*.xml
2021-01-17 13:18:41.213  INFO 13936 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.8.0-SNAPSHOT (camel-1) is starting
2021-01-17 13:18:41.215  INFO 13936 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : StreamCaching is not in use. If using streams then it's recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
2021-01-17 13:18:41.219  INFO 13936 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Total 0 routes, of which 0 are started
2021-01-17 13:18:41.220  INFO 13936 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.8.0-SNAPSHOT (camel-1) started in 7ms
2021-01-17 13:18:41.226  INFO 13936 --- [           main] o.a.c.example.RestSwaggerApplication     : Started RestSwaggerApplication in 1.773 seconds (JVM running for 2.221)
2021-01-17 13:18:41.728  INFO 13936 --- [           main] io.swagger.parser.Swagger20Parser        : reading from http://petstore.swagger.io/v2/swagger.json
2021-01-17 13:18:41.886  INFO 13936 --- [           main] io.swagger.parser.Swagger20Parser        : reading from http://petstore.swagger.io/v2/swagger.json
2021-01-17 13:18:41.994  INFO 13936 --- [           main] ConditionEvaluationReportLoggingListener : Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-01-17 13:18:42.015 ERROR 13936 --- [           main] o.s.boot.SpringApplication               : Application run failedjava.lang.IllegalStateException: Failed to execute ApplicationRunner
        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-2.4.2.jar!/:2.4.2]
        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:785) ~[spring-boot-2.4.2.jar!/:2.4.2]
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.4.2.jar!/:2.4.2]
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar!/:2.4.2]
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.2.jar!/:2.4.2]
        at org.apache.camel.example.RestSwaggerApplication.main(RestSwaggerApplication.java:65) ~[classes!/:3.8.0-SNAPSHOT]
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[camel-example-spring-boot-rest-swagger-simple-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[camel-example-spring-boot-rest-swagger-simple-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[camel-example-spring-boot-rest-swagger-simple-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[camel-example-spring-boot-rest-swagger-simple-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
Caused by: org.apache.camel.FailedToCreateProducerException: Failed to create Producer for endpoint: rest-swagger://http://petstore.swagger.io/v2/swagger.json%23getInventory. Reason: java.lang.IllegalArgumentException: The given Swagger specification could not be loaded from `http://petstore.swagger.io/v2/swagger.json`. Tried loading using Camel's resource resolution and using Swagger's own resource resolution. Swagger tends to swallow exceptions while parsing, try specifying Java system property `debugParser` (e.g. `-DdebugParser=true`), the exception that occurred when loading using Camel's resource loader follows
        at org.apache.camel.support.cache.DefaultProducerCache.acquireProducer(DefaultProducerCache.java:154) ~[camel-support-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.support.cache.DefaultProducerCache.send(DefaultProducerCache.java:170) ~[camel-support-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:176) ~[camel-base-engine-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:172) ~[camel-base-engine-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeaders(DefaultProducerTemplate.java:439) ~[camel-base-engine-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.example.RestSwaggerApplication.run(RestSwaggerApplication.java:56) ~[classes!/:3.8.0-SNAPSHOT]
        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) ~[spring-boot-2.4.2.jar!/:2.4.2]
        ... 13 common frames omitted
Caused by: java.lang.IllegalArgumentException: The given Swagger specification could not be loaded from `http://petstore.swagger.io/v2/swagger.json`. Tried loading using Camel's resource resolution and using Swagger's own resource resolution. Swagger tends to swallow exceptions while parsing, try specifying Java system property `debugParser` (e.g. `-DdebugParser=true`), the exception that occurred when loading using Camel's resource loader follows
        at org.apache.camel.component.rest.swagger.RestSwaggerEndpoint.loadSpecificationFallback(RestSwaggerEndpoint.java:651) ~[camel-rest-swagger-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.component.rest.swagger.RestSwaggerEndpoint.loadSpecificationFrom(RestSwaggerEndpoint.java:626) ~[camel-rest-swagger-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.component.rest.swagger.RestSwaggerEndpoint.createProducer(RestSwaggerEndpoint.java:177) ~[camel-rest-swagger-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.support.DefaultEndpoint.createAsyncProducer(DefaultEndpoint.java:194) ~[camel-support-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.support.cache.ServicePool$SinglePool.acquire(ServicePool.java:212) ~[camel-support-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.support.cache.ServicePool$SinglePool.acquire(ServicePool.java:196) ~[camel-support-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.support.cache.ServicePool.acquire(ServicePool.java:112) ~[camel-support-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.support.cache.DefaultProducerCache.acquireProducer(DefaultProducerCache.java:125) ~[camel-support-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        ... 19 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('<' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: (sun.net.www.protocol.http.HttpURLConnection$HttpInputStream); line: 1, column: 2]
        at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1851) ~[jackson-core-2.11.4.jar!/:2.11.4]
        at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:707) ~[jackson-core-2.11.4.jar!/:2.11.4]
        at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:632) ~[jackson-core-2.11.4.jar!/:2.11.4]
        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2686) ~[jackson-core-2.11.4.jar!/:2.11.4]
        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:865) ~[jackson-core-2.11.4.jar!/:2.11.4]
        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:757) ~[jackson-core-2.11.4.jar!/:2.11.4]
        at com.fasterxml.jackson.databind.ObjectMapper._readTreeAndClose(ObjectMapper.java:4555) ~[jackson-databind-2.11.4.jar!/:2.11.4]
        at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:2955) ~[jackson-databind-2.11.4.jar!/:2.11.4]
        at org.apache.camel.component.rest.swagger.RestSwaggerEndpoint.parseInputStream(RestSwaggerEndpoint.java:661) ~[camel-rest-swagger-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        at org.apache.camel.component.rest.swagger.RestSwaggerEndpoint.loadSpecificationFrom(RestSwaggerEndpoint.java:624) ~[camel-rest-swagger-3.8.0-SNAPSHOT.jar!/:3.8.0-SNAPSHOT]
        ... 25 common frames omitted2021-01-17 13:18:42.021  WARN 13936 --- [           main] o.a.c.s.boot.SpringBootCamelContext      : CamelContext has only been running for less than a second. If you intend to run Camel for a longer time then you can set the property camel.springboot.main-run-controller=true in application.properties or add spring-boot-starter-web JAR to the classpath.
2021-01-17 13:18:42.021  INFO 13936 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.8.0-SNAPSHOT (camel-1) is shutting down
2021-01-17 13:18:42.031  INFO 13936 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.8.0-SNAPSHOT (camel-1) uptime 818ms
2021-01-17 13:18:42.031  INFO 13936 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.8.0-SNAPSHOT (camel-1) is shutdown in 10ms

{code}
I will leave this example for now and continue with the renaming/migration of the others where it is possible.

These are the remaining modules:
 !camel example remaining modules.png!

 ",17/Jan/21 12:41;metters;Hystrix example was moved and works like before.,"17/Jan/21 16:07;metters;If I follow the readme of {{camel-example-spring-boot-master}} the command {{mvn spring-boot:run}} fails:
{code:java}
...
2021-01-17 17:03:31.724 ERROR 26096 --- [ main] o.s.boot.SpringApplication : Application run failedorg.apache.camel.FailedToCreateRouteException: Failed to create route clustered: Route(clustered)[From[master:{{node.namespace}}:timer:cluste... because of Failed to resolve endpoint: master://camel-master:timer:clustered?period=5000 due to: Cannot auto create component: master
...
{code}
Full Stacktrace:
{code:java}
(base) <0>metters@metters-PC:~/IdeaProjects/camel-spring-boot-examples/camel-example-spring-boot-master$ mvn spring-boot:run
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] --< org.apache.camel.springboot.example:camel-example-spring-boot-master >--
[INFO] Building Camel SB Examples :: Master 3.8.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot-maven-plugin:2.4.2:run (default-cli) > test-compile @ camel-example-spring-boot-master >>>
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4.1:enforce (enforce-maven-version) @ camel-example-spring-boot-master ---
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ camel-example-spring-boot-master ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- camel-package-maven-plugin:3.8.0-SNAPSHOT:prepare-example (default) @ camel-example-spring-boot-master ---
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ camel-example-spring-boot-master ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ camel-example-spring-boot-master ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/metters/IdeaProjects/camel-spring-boot-examples/camel-example-spring-boot-master/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ camel-example-spring-boot-master ---
[INFO] No sources to compile
[INFO] 
[INFO] <<< spring-boot-maven-plugin:2.4.2:run (default-cli) < test-compile @ camel-example-spring-boot-master <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.4.2:run (default-cli) @ camel-example-spring-boot-master ---
[INFO] Attaching agents: []  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.2)2021-01-17 17:03:30.556  INFO 26096 --- [           main] o.a.camel.examples.master.MasterNode     : Starting MasterNode using Java 14.0.2 on metters-PC with PID 26096 (/home/metters/IdeaProjects/camel-spring-boot-examples/camel-example-spring-boot-master/target/classes started by metters in /home/metters/IdeaProjects/camel-spring-boot-examples/camel-example-spring-boot-master)
2021-01-17 17:03:30.559  INFO 26096 --- [           main] o.a.camel.examples.master.MasterNode     : No active profile set, falling back to default profiles: default
2021-01-17 17:03:31.253  INFO 26096 --- [           main] o.apache.camel.support.LRUCacheFactory   : Detected and using LRUCacheFactory: camel-caffeine-lrucache
2021-01-17 17:03:31.596  INFO 26096 --- [           main] o.a.c.s.boot.SpringBootRoutesCollector   : Loading additional Camel XML routes from: classpath:camel/*.xml
2021-01-17 17:03:31.597  INFO 26096 --- [           main] o.a.c.s.boot.SpringBootRoutesCollector   : Loading additional Camel XML route templates from: classpath:camel-template/*.xml
2021-01-17 17:03:31.597  INFO 26096 --- [           main] o.a.c.s.boot.SpringBootRoutesCollector   : Loading additional Camel XML rests from: classpath:camel-rest/*.xml
2021-01-17 17:03:31.712  INFO 26096 --- [           main] ConditionEvaluationReportLoggingListener : Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-01-17 17:03:31.724 ERROR 26096 --- [           main] o.s.boot.SpringApplication               : Application run failedorg.apache.camel.FailedToCreateRouteException: Failed to create route clustered: Route(clustered)[From[master:{{node.namespace}}:timer:cluste... because of Failed to resolve endpoint: master://camel-master:timer:clustered?period=5000 due to: Cannot auto create component: master
        at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:79) ~[camel-core-reifier-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49) ~[camel-core-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:603) ~[camel-core-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:558) ~[camel-core-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:2658) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2430) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2447) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:130) ~[camel-spring-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:167) ~[camel-spring-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.3.jar:5.3.3]
        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.3.jar:5.3.3]
        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.3.jar:5.3.3]
        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.3.jar:5.3.3]
        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.3.jar:5.3.3]
        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:943) ~[spring-context-5.3.3.jar:5.3.3]
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.3.jar:5.3.3]
        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.2.jar:2.4.2]
        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.2.jar:2.4.2]
        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.2.jar:2.4.2]
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.2.jar:2.4.2]
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar:2.4.2]
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.2.jar:2.4.2]
        at org.apache.camel.examples.master.MasterNode.main(MasterNode.java:33) ~[classes/:na]
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: master://camel-master:timer:clustered?period=5000 due to: Cannot auto create component: master
        at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:916) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.getEndpoint(AbstractCamelContext.java:797) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.support.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:58) ~[camel-support-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.reifier.AbstractReifier.resolveEndpoint(AbstractReifier.java:177) ~[camel-core-reifier-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:93) ~[camel-core-reifier-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:73) ~[camel-core-reifier-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        ... 24 common frames omitted
Caused by: org.apache.camel.RuntimeCamelException: Cannot auto create component: master
        at org.apache.camel.impl.engine.AbstractCamelContext.getComponent(AbstractCamelContext.java:584) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.getComponent(AbstractCamelContext.java:541) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.doGetEndpoint(AbstractCamelContext.java:874) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        ... 29 common frames omitted
Caused by: org.apache.camel.RuntimeCamelException: Cannot auto create component: master
        at org.apache.camel.impl.engine.AbstractCamelContext.initComponent(AbstractCamelContext.java:648) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.access$000(AbstractCamelContext.java:180) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext$2.apply(AbstractCamelContext.java:570) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext$2.apply(AbstractCamelContext.java:566) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]
        at org.apache.camel.impl.engine.AbstractCamelContext.getComponent(AbstractCamelContext.java:566) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        ... 31 common frames omitted
Caused by: java.lang.IllegalStateException: No cluster service found
        at org.apache.camel.component.master.MasterComponent.lambda$doInit$0(MasterComponent.java:113) ~[camel-master-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at java.base/java.util.Optional.orElseThrow(Optional.java:401) ~[na:na]
        at org.apache.camel.component.master.MasterComponent.doInit(MasterComponent.java:112) ~[camel-master-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.support.service.ServiceHelper.initService(ServiceHelper.java:55) ~[camel-api-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.spring.boot.util.CamelPropertiesHelper.setCamelProperties(CamelPropertiesHelper.java:90) ~[camel-spring-boot-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.spring.boot.util.CamelPropertiesHelper.copyProperties(CamelPropertiesHelper.java:45) ~[camel-spring-boot-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.component.master.springboot.MasterComponentAutoConfiguration$1.configure(MasterComponentAutoConfiguration.java:70) ~[camel-master-starter-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.CustomizersLifecycleStrategy.lambda$onComponentAdd$2(CustomizersLifecycleStrategy.java:52) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]
        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]
        at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485) ~[na:na]
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[na:na]
        at org.apache.camel.impl.engine.CustomizersLifecycleStrategy.onComponentAdd(CustomizersLifecycleStrategy.java:52) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.postInitComponent(AbstractCamelContext.java:535) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        at org.apache.camel.impl.engine.AbstractCamelContext.initComponent(AbstractCamelContext.java:645) ~[camel-base-engine-3.8.0-SNAPSHOT.jar:3.8.0-SNAPSHOT]
        ... 36 common frames omitted[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  3.952 s
[INFO] Finished at: 2021-01-17T17:03:31+01:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.2:run (default-cli) on project camel-example-spring-boot-master: Application finished with exit code: 1 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException

{code}","23/Jan/21 00:19;metters;[~davsclaus],
 I would like to create a PR soon, as I could not make much progress recently and I want to avoid loosing all that is done already.
h3. The current situation is as follows:
h5. {color:#de350b}Not able to start/test{color}
 * camel-spring-boot-rest-swagger-simple:
 The startup consistently fails on my systems. I have tested this on my PC (Ubuntu, no VPN), ThinkPad (Ubuntu, no VPN), and MacBook (with and without VPN). They all fail. I can migrate, but someone else must confirm that it works.
 * camel-spring-boot-master:
 I don't really get the manual as there are supposed to be two nodes, but I can only find one main class to start. Even more, the first node doesn't start ({{mvn spring-boot:run}} being in root directory of the module)
 * camel-spring-boot-twitter-salesforce
 I do not have - and do not want to create - a salesforce account so i cannot test this. Again, I can migrate this module, too, but someone else should confirm it still works.

h5. {color:#ff8b00}Maybe will be able to start/test{color}
 * camel-spring-boot-kafka-avro
 * camel-spring-boot-kafka-offsetrepository
 * camel-spring-boot-strimzi

This is mostly as I am not super familiar with kafka and its configuration. Might be a hint to improve the readme files
h5. {color:#ff8b00}Started effort and might succeed {color} (still a maybe, though)
 * camel-spring-boot-webhook
 [https://serveo.net/] is down open source and independent alternative would be [https://github.com/localtunnel/localtunnel.|https://github.com/localtunnel/localtunnel] Have to give it a try
 * camel-spring-boot-grpc-kubernetes
 managed to start kubectl but I still get an error, that I am sure I can fix

All other modules not mentioned here should still be tested by a third party of course, but I did my best here. Kudos to those who write actual Tests!
h3. One more question
 * What about the artifactIds?
 I updated the root pom.xml, but should the artifactId of each module be updated, too?
 Currently those still have the prefix:
 !image-2021-01-23-01-18-27-929.png|width=806,height=123!","02/Feb/21 09:37;davsclaus;Ah yeah the artefacts are okay to stay as is, its just that the folder names are soo long, and harder to navigate and browse on github etc.",02/Feb/21 09:46;davsclaus;Thanks you are welcome to just rename the last remainder examples (and skip the testing).,03/Feb/21 00:06;metters;PR for the remaining modules is created.,03/Feb/21 08:10;metters;Alle module directories were renamed.,,,,,,,,,,,,,,,,,,,,,
SFTP to file with local work directory is not using rename,CAMEL-16015,13351423,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,gregvh,gregvh,2021/1/11 10:19,2021/1/14 5:00,2021/3/6 6:31,,3.4.5,,,,,,,camel-ftp,,,,,,,0,,,,,,"When doing SFTP to file with the local work directory option, like described here:

[https://camel.apache.org/components/latest/ftp-component.html#_using_local_work_directory]

The target file should be written by renaming the local work file.

Instead, it is written by InputStream because of the following code in FileOperations:

{{if (body instanceof WrappedFile) {}}
{{     body = ((WrappedFile<?>)body).getFile();}}
{{}}}
{{if (body instanceof File) {}}
{{     source = (File)body;}}
{{     fileBased = true;}}
{{}}}

 

The exchange contains a RemoteFile and after unwrapping, a SftpRemoteFileJCraft which is not a File. The exchange is not marked as fileBased and the local work file is therefore not used.

Issue was discovered on version 3.4.5 but might affect other versions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,00:54.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jan 14 05:00:54 UTC 2021,,,,,,,,0|z0mg0g:,9.22337E+18,,,,,,,,,,,,,,,"14/Jan/21 05:00;chardahe@redhat.com;Thanks [~gregvh] for bringing this into notice, I'll look into it",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Encoding special characters via UnsafeUriCharactersEncoder does not work in all cases,CAMEL-16016,13351499,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,koszta,koszta,2021/1/11 15:09,2021/1/14 4:58,2021/3/6 6:31,,2.20.4,3.8.0,,,,,,camel-core,,,,,,,0,,,,,,"we have the following FTP password:
{code:java}
String password= ""%j#7%c6i"";{code}
when encoded with camel (*we are using RAW()*) this results in a gibberish string with <?> (unprintable characters)

==> expected output:

%25j%237%25c6i

Sample test demonstrating the bug / reproducer:
{code:java}
@Test
public void testWrongEncoding(){
   String password= ""%j#7%c6i"";
   String result = UnsafeUriCharactersEncoder.encode(password);
   String expected = ""%25j%237%25c6i"";
   System.out.println(""expected ->  ""+expected);
   System.out.println(""vs"");
   System.out.println(result);
   if (!result.equals(expected)){
      System.err.println(""not the same , no no "");
   }

}
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,58:22.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Jan 14 04:58:21 UTC 2021,,,,,,,,0|z0mghc:,9.22337E+18,,,,,,,,,,,,,,,"14/Jan/21 04:58;chardahe@redhat.com;Thanks [~koszta] for reporting it, I'll look into it",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-test-infra-kafka: Strimzi service fails to release resources,CAMEL-16023,13351718,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,orpiske,orpiske,orpiske,2021/1/12 9:52,2021/2/3 12:34,2021/3/6 6:30,,3.7.0,,,,,3.x,,tests,,,,,,,0,,,,,,"When using the strimzi containers, instead of the Kafka ones, they fail to launch due to: 

 
{code:java}
java.lang.IllegalArgumentException: Requested port (9092) is not mapped at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:152) at org.apache.camel.test.infra.kafka.services.StrimziContainer.getKafkaPort(StrimziContainer.java:56)
 
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,52:39.0,,,,,,,,0|z0mhts:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[camel-mongodb] ChangeStreams Consumer cannot handle string based _id,CAMEL-16024,13351740,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dario.nuevo,dario.nuevo,2021/1/12 10:55,2021/1/12 13:37,2021/3/6 6:30,,3.7.0,,,,,,,camel-mongodb,,,,,,,0,,,,,,"We're having quite a basic use case: Our documents in MongoDB have string based IDs (field _id) - as opposed to having ObjectId() instances. It seems, the current release of camel-mongodb cannot handle that. 

Having defined a route based on ChangeStreams like that:
{code}
from(""mongodb:mongoConnection?database=db&consumerType=changeStreams&collection=coll"")
  .routeId(""changestream"")
   .process(""changeStreamProcessor"")
   .to(""stream:out"");
{code}

When an event arrives on an object with a string based _id; I get this Exception:

{code}
Exception in thread ""Camel (camel-1) thread #1 - mongodb://mongoConnection"" org.bson.BsonInvalidOperationException: Value expected to be of type OBJECT_ID is of unexpected type STRING
	at org.bson.BsonValue.throwIfInvalidType(BsonValue.java:419)
	at org.bson.BsonValue.asObjectId(BsonValue.java:150)
	at org.bson.BsonDocument.getObjectId(BsonDocument.java:271)
	at org.apache.camel.component.mongodb.MongoDbChangeStreamsThread.doRun(MongoDbChangeStreamsThread.java:75)
	at org.apache.camel.component.mongodb.MongoAbstractConsumerThread.run(MongoAbstractConsumerThread.java:68)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:830)
{code}

So we basically have a problem here: https://github.com/apache/camel/blob/camel-3.7.0/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbChangeStreamsThread.java#L75

So now the fix would be easy - check the type with _instanceof ObjectId_ and act accordingly - and i could also contribute that - but I'm not clear if that can succeed. 

As I see it, the _id is later set on the header as MongoDbConstants.MONGO_ID - which then also would be a string. IMHO that's totally fine, everybody knows what type their _id's have.

How to resolve this? IMHO it's quite a normal use case to have non-ObjectId-IDs.. ;-)

Thanks for any input

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,55:04.0,,,,,,,,0|z0mhyo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[camel-mongodb] ChangeStreams: Exception not gracefully handled,CAMEL-16025,13351784,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,dario.nuevo,dario.nuevo,2021/1/12 13:37,2021/1/12 13:37,2021/3/6 6:30,,3.7.0,,,,,,,camel-mongodb,,,,,,,0,,,,,,"I'm a bit confused how it should be handled when an Exception happens during the _watch()_ in _MongoDbChangeStreamsThread_.

I observed that the Mongo Client throws an Exception if the collection the _watch()_ is on is deleted (the whole collection) - it that case, this exception is thrown:

{code}
Exception in thread ""Camel (camel-1) thread #1 - mongodb://mongoConnection"" java.lang.NullPointerException
	at org.apache.camel.component.mongodb.MongoDbChangeStreamsThread.doRun(MongoDbChangeStreamsThread.java:74)
	at org.apache.camel.component.mongodb.MongoAbstractConsumerThread.run(MongoAbstractConsumerThread.java:68)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:830)
{code}

After the exception, Camel keeps running, the route is still ""started"", but no Changestreams _watch()_es are active - so we are in a strange state.

Exceptions can happen quite often using changeStreams - I think it should be documented how the user should handle this. Or if this is an error and the changestream _watch()_ should be restarted, that should be fixed.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,37:34.0,,,,,,,,0|z0mi8g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-vertx-rabbitmq - RabbitMQ component based on vertx,CAMEL-16026,13351799,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/12 15:20,2021/1/12 15:49,2021/3/6 6:30,,,,,,,3.x,,camel-rabbitmq,,,,,,,0,,,,,,"The old camel-rabbitmq has become a bit too cruft. So there is a new camel-spring-rabbitmq that uses the spring rabbitmq client.

There is also a vertx rabbitmq client in the works (its rather new) but it would be good to haver a camel-vertx-rabbitmq component using it, as it would then be reactive, light, and work well with quarkus.

Then we can deprecate the old camel-rabbitmq component",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,20:09.0,,,,,,,,0|z0mibs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to MicroProfile 4,CAMEL-16028,13351936,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jamesnetherton,jamesnetherton,jamesnetherton,2021/1/13 7:28,2021/2/6 8:45,2021/3/6 6:30,,,,,,,3.9.0,,,,,,,,,1,,,,,,"MicroProfile 4 is released so it'd be good to align the various MicroProfile & SmallRye dependencies to this for:

camel-microprofile-config
camel-microprofile-metrics
camel-microprofile-health
camel-microprofile-fault-tolerance
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,32:19.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 03 15:28:12 UTC 2021,,,,,,,,0|z0mj68:,9.22337E+18,,,,,,,,,,,,,,,13/Jan/21 07:32;acosentino;[~orange-buffalo],13/Jan/21 07:40;acosentino;I think we need to update opentracing too,13/Jan/21 08:11;jamesnetherton;Would be good to have CAMEL-14583 at some point...,"25/Jan/21 09:56;jamesnetherton;If there are no objections, I'd like to defer this change until at least the 3.9.0 release.

Ideally I'd like to time the upgrade for when Quarkus has a release that is MP 4 compatible (should be in 2.0).  Otherwise, if we bump Camel now, then we need to do hacks on the camel-quarkus side to keep things working, and I'd like to avoid that if possible. Also there is the potential danger that Vert.x 4.x leaks into the dependency tree, which would be bad.
",25/Jan/21 09:59;davsclaus;Yeah this is fine,"03/Feb/21 15:28;davsclaus;There is a PR that depends on this
https://github.com/apache/camel/pull/4914",,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-pulsar - Add async send to producer,CAMEL-16030,13352015,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/13 14:03,2021/1/13 14:03,2021/3/6 6:30,,,,,,,3.x,,camel-pulsar,,,,,,,0,,,,,,"The producer is synchronous today.

But pulsar allows to send async, where a CompletableFuture is returned. We can leverage this for async send, and call asyncCallvback from the future.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,03:56.0,,,,,,,,0|z0mjns:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor Google PubSub testing support,CAMEL-16036,13352251,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,preben,preben,2021/1/14 12:57,2021/1/14 12:57,2021/3/6 6:31,,3.7.0,,,,,3.x,,camel-google-pubsub,,,,,,,0,,,,,,"This PR introduced message ordering [https://github.com/apache/camel/pull/4877] and is related to CAMEL-16022.
We should refactor the component to only have one endpoint, let the emulator use this, and if possible isolate as much emulator requirements to the test setup eg. credentials asf.
See pr for conversation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,57:57.0,,,,,,,,0|z0ml48:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reinstate Batch JMS Processing,CAMEL-16039,13352366,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,bradhgbst,bradhgbst,2021/1/14 22:50,2021/1/14 22:50,2021/3/6 6:30,,3.8.0,,,,,,,camel-sjms,,,,,,,0,,,,,,"Please provide a means of receiving multiple JMS messages as a batch in a single transaction.

Our use case is to exchange JMS messages in order, quickly, with at least once delivery guarantee, but over a link with 10 to 15 ms latency.  Processing multiple JMS messages in a single transaction is the way to meet this requirement as it greatly reduces the chatter over the wire:
 * For sending, we use the normal JMS component with a loop (using <split/>) inside the transaction.
 * For receiving (in 3.4.5) we use sjms-batch with an aggregation strategy.  Example
 ** from sjms-batch:myqueue?aggregationStrategy=#groupedBodyAggregationStrategy&completionSize=300&asyncStartListener=true&keepAliveDelay=5000

The sjms-batch component was removed as part of the overhaul of sjms, but there appears to be no alternative to the functionality it provided.

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,50:02.0,,,,,,,,0|z0mlts:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-mutiny - Add integration to smallreye mutiny,CAMEL-16044,13352473,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/15 12:23,2021/1/15 12:23,2021/3/6 6:30,,,,,,,3.x,,,,,,,,,0,,,,,,"https://github.com/smallrye/smallrye-mutiny
https://smallrye.io/smallrye-mutiny/

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,23:16.0,,,,,,,,0|z0mmhk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-ahc-ws client serving as both a producer and consumer,CAMEL-16046,13352501,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,shuawest,shuawest,2021/1/15 14:56,2021/1/17 22:41,2021/3/6 6:30,,2.23.4,,,,,3.x,,camel-vertx-websocket,,,,,,,0,,,,,,"While subscribing to a websocket using camel-ahc-ws the connection and session is sometimes bidirectional.  A session may be initiated to subscribe to specific data points by sending a message over the same session as the producer (incoming) exchange. 
  
 from(""ahc-wss://ws-feed.example.com"").routeId(""incoming"")
    .log(""received message: ${body}"");
  
 from(""timer:wssfeedInitaitor?delay=10&repeatCount=1"").routeId(""feed-initiator"")
    .setBody().constant(WSS_SUBSCRIBE)
    .to(""ahc-wss://ws-feed.example.com"")
    .log(""received message on initiator: ${body}"");
  
 The current behavior is that the ""incoming"" route connects but doesn't receive any data. 
 The ""feed-initiator"" router successfully sends the subscribe message to the remote endpoint and starts receiving data. The websocket data received is only showing up in WsListener DEBUG logging messages ""[cHttpClient-3-1] o.a.camel.component.ahc.ws.WsEndpoint : Received message --> ..."" without the data on the exchange. The logging is coming from the ""feed-initator"" route, which is not logging messages using the route given the initiator is in wrong mode.
  
 Is there a way to share the same session? 
  
 Otherwise can the component be enhanced to serve as both a producer and consumer at the same time? 
  
  ",N/A ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,16:29.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sun Jan 17 22:41:07 UTC 2021,,,,,,,,0|z0mmns:,9.22337E+18,,,,,,,,,,,,,,,16/Jan/21 15:16;davsclaus;I wonder if its not better to do look at camel-vertx-websocket as vertx is much more active mantained than AHC,"17/Jan/21 22:41;shuawest;At this point I just created a component, extending the existing ahc-ws component (same would work for vertx-ws) to send a command to the socket onOpen.

I suppose the same question applies to camel-vertx-websocket. Can you send and receive from the camel session/connection with vertx either?  How would that look in camel?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-xslt - Allow to configure custom ObjectMapper,CAMEL-16052,13352756,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/17 8:46,2021/1/17 8:46,2021/3/6 6:30,,,,,,,3.x,,camel-xslt,,,,,,,0,,,,,,"Currently an internal ObjectMapper is used that uses default settings. It would be good to allow to configure a custom ObjectMapper instance to use instead.

More details at
https://camel.zulipchat.com/#narrow/stream/257298-camel/topic/JSLT.20Component/near/222735549",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,46:37.0,,,,,,,,0|z0mo88:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
decouple kafka.PARTITION_KEY from kafka.KEY,CAMEL-16060,13353078,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,jenskordowski,jenskordowski,2021/1/18 13:19,2021/1/18 13:19,2021/3/6 6:30,,2.25.3,3.7.0,,,,,,camel-kafka,,,,,,,0,,,,,,"Currently, the camel-kafka producer requires the definition of kafka.PARTITION_KEY *and* kafka.KEY to specify the partition to send to. While the key is usually used to determine the partition to send to, I don't understand the hard limitation on this header, when specifically defining the exact partition to send to anyway (via kafka.PARTITION_KEY).

Also, this is not clearly stated in the documentation.

Not sure, if this qualifies as bug or improvement, looks like a limitation to me. I can create a PR, if desired.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,19:15.0,,,,,,,,0|z0mq7k:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-vertx-kafka - Add batching consumer,CAMEL-16064,13353495,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/20 9:44,2021/1/20 9:45,2021/3/6 6:30,,,,,,,3.x,,camel-kafka,,,,,,,0,,,,,,"It would be good to make camel-vertx-kafka consumer able to batch together N messages via aggregation strategy as a single outgoing exchange. The batch should support group size, and timeout.

Something that was in the sjms-batch component.

The batching should use the same KafkaConsumer instance and defer the commit till the batching has been done. This requires manual offset commit by the consumer.

The use-case has been discussed on the chat at
https://camel.zulipchat.com/#narrow/stream/257298-camel/topic/kafka.20and.20batching",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Jan 20 09:45:52 UTC 2021,,,,,,,,0|z0mssg:,9.22337E+18,,,,,,,,,,,,,,,"20/Jan/21 09:45;davsclaus;Also it may be worth to look at if we can add some support code in camel-support for BatchingConsumer with code for handling the aggregation and completion check based on size/timeout, and then the on completion logic to do the commit.

As the sjms / jms component could potentially also have such feature.
And some other components as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-pulsar - If consumer failed then it should NACK,CAMEL-16073,13354086,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/23 10:00,2021/2/1 14:10,2021/3/6 6:30,,,,,,,3.9.0,,camel-pulsar,,,,,,,0,,,,,,We should use negativeAck if exchange has exception after processing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,00:24.0,,,,,,,,0|z0mwfs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
salesforce: Out of order execution,CAMEL-16084,13354765,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jeremyross,jeremyross,jeremyross,2021/1/26 21:54,2021/2/10 16:13,2021/3/6 6:30,,3.7.1,,,,,,,camel-salesforce,,,,,,,0,,,,,,"When using a salesforce operation after an aggregator,  control seems to return to the aggregate caller immediately instead of proceeding with processors downstream from the salesforce operation. This is the behavior I'd expect if using the aggregator with parallelProcessing.

I believe this is longstanding behavior, however with the removal of the `synchronous` option from the salesforce component (CAMEL-14138), we've removed a workaround to this issue. 

I'm seeing the same behavior with a salesforce operation via a wiretap with a threadpool with poolsize, maxsize and queuesize of 1, which should effectively behave in a synchronous manner.

Test case: https://gist.github.com/jeremyross/4d7d14a33452edf236faefda77ad3e3d
",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-16099,CAMEL-16098,,,,,,,28/Jan/21 20:25;jeremyross;wiretap-results.txt;https://issues.apache.org/jira/secure/attachment/13019586/wiretap-results.txt,,,,,1,,,,,,,,,,,,,,,,,,,,41:17.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 10 16:13:01 UTC 2021,,,,,,,,0|z0n0mo:,9.22337E+18,,,,,,,,,,,,,,,"26/Jan/21 21:56;jeremyross;[~zregvart] would like your thoughts, please.","27/Jan/21 05:41;davsclaus;No this is correct, and aggregator is a 2 leg operator. Whatever comes out of the aggregator is completely separated from the incoming thread, regardless of parallel processing, number of message in the batch etc.

Same with wiretap etc.","27/Jan/21 12:03;zregvart;Not 100% sure what the problem is, but I played around with a simple route with split/aggregation without {{synchronous}} seems to work okay with Salesforce. This is the route:
{code:java}
import static java.util.Arrays.asList;
import static org.apache.camel.builder.AggregationStrategies.groupedBody;

from(""direct:start"")
    .split(body(), groupedBody())
        .to(""salesforce:getSObject?sObjectName=Contact&rawPayload=true"")
        .transform().jsonpath(""$.FirstName"")
        .log(""individual: ${body}"")
    .end()
    .log(""aggregated: ${body[0]} ${body[1]} ${body[2]}""); // just to get a nicer output, GroupedExchangeList overrides toString
{code}
I'm triggering the route with a list of IDs:
{code:java}
producer.sendBody(""direct:start"", asList(""0030Y000002vBoFQAU"", ""0030Y000002vBoGQAU"", ""0030Y000002vBoHQAU"")){code}
This gives me:
{code:java}
2021-01-27 13:02:02,425 INFO  [SalesforceHttpClient@156b88f5-20] route1: individual: Rose
2021-01-27 13:02:02,503 INFO  [SalesforceHttpClient@156b88f5-20] route1: individual: Sean
2021-01-27 13:02:02,587 INFO  [SalesforceHttpClient@156b88f5-19] route1: individual: Jack
2021-01-27 13:02:02,626 INFO  [SalesforceHttpClient@156b88f5-19] route1: aggregated: Rose Sean Jack
{code}","27/Jan/21 18:02;jeremyross;[~davsclaus] If the aggregator output is separate from the incoming thread, what effect does parallelProcessing have on it? 

I've also noticed this doesn't seem to be a problem with non-{{AsyncProducer}} components, such as http. 

Here's my real-world use case. I'm reading a CSV file of tens of thousands of records, aggregating them in to batches of 25, then sending the batch to salesforce. Because reading the CSV file is fast, and the aggregator is operating asynchronously, *hundreds* of batches are being sent to salesforce, all in-flight at once, before a single response is received. HttpClient hits its request limits, and I'm sure salesforce doesn't appreciate getting slammed. What's the best way to operate in a more synchronous fashion, or at least throttle down the number of in-flight requests? 



","28/Jan/21 09:24;davsclaus;Okay for such use case you may consider

a)
splitting up into 2 legs (routes) where you can store the aggregated into a single file

read CSV
split CSV
aggreagate 
save aggregate to disk

read aggregate from disk
to salesforce

Then the file reader is single threaded and wont slammer salesforce

Or b)

Use a seda queue where you can limit the size of the queue, and make the producer block if full to avoid pushing too many pending tasks on the internal seda queue while waiting for the consumer to catch up,

Or c)

We introduce synchronous=true|false on the direct component, then we can force it to use sync mode which would automatic block in this situation.
","28/Jan/21 09:27;davsclaus;I created a ticket about (c). You are welcome to work on that and try it out

from csv
  aggregate
    to foo ? synchronous = true

from direct foo
  to salesforce

Then its a bit like the ""seda"" (staged event driven) which is a good design practice. Separating steps (concerns)
","28/Jan/21 09:44;davsclaus;btw there is also throttler eip

d)
however the throttler is based on max X per time. And you are more max X concurrently.

But we can look at to see if we can improve the throttler to support X inflights instead. Its almost the same, but the problem is we need to track when an exchange is done inflight, and where the bounder of the throttler is.

There is the throttling inflight route policy which can do this per route, btw that can suspend/resume depending on water marks
","28/Jan/21 16:49;jeremyross;Thanks Claus. B seems viable for my case, and I think C would be nice long-term also. However, when using seda to achieve a synchronous effect:
{code:java}
from(""seda:query?size=1&blockWhenFull=true"")
{code}

I get: {{Cannot use existing queue seda://query as the existing queue size 1000 does not match given queue size 1}}

I haven't dug into this yet. I may have to set the queue size on the component at the global level. Not sure why the {{size}} query option doesn't work.

I still have lingering questions:
 * Why is Aggregate operating as if parallelProcessing=true? Should the docs mention that the out leg of aggregate is always asynchronous?
 * This was one of my attempted workarounds. It also sends unlimited number of concurrent requests to salesforce. Shouldn't it only send one at a time?
{code:java}
.wireTap(""direct:sendToSalesforce"").executorService(
 new ThreadPoolBuilder(context).maxPoolSize(1).maxQueueSize(1).poolSize(1).build()); {code}

 ","28/Jan/21 18:14;davsclaus;You need to set size=1 in the producer, as its the 1st one that ""discovers"" this endpoint and creates the queue.

So add to(seda:foo?size=1)

Yes we can maybe make this smarter and ""if there are no other seda endpoints that use a different size, then we use size=1) but so far it was first one to be created controls the size.","28/Jan/21 18:16;davsclaus;The wire tap will use caller runs if its full, so it will use the current thread, you can configure it to not do that.","28/Jan/21 20:28;jeremyross;[~davsclaus] the wiretap is still firing off hundreds of requests to salesforce at once. This might have something to do with salesforce being an AsyncProducer. 

I'm attaching an example of using a wiretap with a threadpool of 1. You can see that each wiretap invocation alternates between the main thread and the 1 thread from the threadpool. All 100 requests are sent off within 50ms. Then about 500ms later, all 100 results come back in.

[^wiretap-results.txt]

Again, this issue does not exist with, e.g., the http component. The requests and responses interleave exactly as you'd expect. Not sure if this is the difference between a Producer (http) and AsyncProducer (salesforce), or something else.

 

 ","03/Feb/21 12:31;davsclaus;the camel-http component is using blocking (synchronous) in its http client so that is why its ""waiting for the reply"" and therefore has lower scalability.

If you use camel-vertx-http then its non blocking.","03/Feb/21 15:39;davsclaus;> Why is Aggregate operating as if parallelProcessing=true? Should the docs mention that the out leg of aggregate is always asynchronous?

Oh yeah sorry that depends. It may be using the current thread if the aggregator is completing the group, and you have parallel = false.","09/Feb/21 17:30;jeremyross;[~davsclaus] My feeling is this is problematic behavior, and requires a workaround that requires users to deal with threading issues when they really shouldn't have to. But if you don't think there's an issue here, I'll close this. ","10/Feb/21 12:03;davsclaus;Even if synchronous=true was there, then concurrent threads would be able to overload your SLA with salesforce, if you had the Camel route to be callable from other routes, etc. But you just happen to be that you had a single threaded consumer that by synchronous=true gets blocked waiting for the salesforce reply, before continuing. 

The better solution is to use EIP patterns, about throttling / rate-limiting.
Where you can specify that there should only be at most 1 (or what number you can configure) in-flight message to this endpoint at any given time.
Unfortunately the current throttler EIP is based on timed window. So you can for example can say 1 message per 10 sec. But in other use-cases you dont care about the time window, but just want to say ""at most X request at any given time"". So for this we have CAMEL-16099

And in Camel 3.8 onwards you can leverage the direct component to make it synchronous (its about direct method invocations like in Java that are synchronous - or async with its CompletableFuture API etc) so there is some resembles  there. 

from x
   split xxx
      to direct:rate

from (""direct:rate?synchronous=true"")
   .to(""salesforce...."")

But for Camel 3.9 with the rate in throttler (or if we develoed as a new EIP term - rate)

from xxxx
   split xxxx
     rate 1 
       to salesforce
    // end rate
   /// end split

Or you can put the rate on top of the route

from xxxx
   rate 1
    split xxx
     to sales


","10/Feb/21 12:20;davsclaus;> .wireTap(""direct:sendToSalesforce"").executorService(
 new ThreadPoolBuilder(context).maxPoolSize(1).maxQueueSize(1).poolSize(1).build()); 

You can get concurrent access because the wiretap rejection policy is CallerRuns by default. So it will just use current thread to call the direct endpoint.
There is no rejection policy from JDK thread pools that has a ""block"" or ""timeout"". And we do not have any custom implementation for that.
","10/Feb/21 16:13;jeremyross;[~davsclaus] Thanks for the explanation. I'd like to clarify that while playing nice with salesforce (or any API) is a concern, the number of threads that get spun up is absurd, and starts hitting Jetty HttpClient limits:

{code}
java.util.concurrent.RejectedExecutionException: Max requests queued per destination 1024 exceeded for HttpDestination[https://full.my.salesforce.com]@18c0722d,queue=1024,pool=DuplexConnectionPool@164eaea8[c=0/64/64,a=64,i=0] 
{code}

So this really isn't about rate limiting. This is about a runaway integration process that brings itself down. I still can't wrap my head around why anything downstream from an aggregator runs in hyper parallel mode. 

Theoretically, I think the new synchronous property on the direct component should help. Per your suggestion, I tried SEDA, a la:

{code:java}
from(""seda:sendSalesforceComposite?concurrentConsumers=1"")
...
.to(""seda:sendSalesforceComposite?blockWhenFull=true"")
{code}
 
But I get the same result. Is there some other option I should set?
",,,,,,,,,,,,,,,,,
Create camel-azure-storage-datalake Karaf feature,CAMEL-16088,13354819,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,acosentino,acosentino,2021/1/27 6:05,2021/1/27 6:05,2021/3/6 6:30,,,,,,,3.x,,karaf,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:16.0,,,,,,,,0|z0n0yo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-csimple - Runtime compile via Java JShell,CAMEL-16097,13354980,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/27 16:48,2021/1/27 16:48,2021/3/6 6:30,,,,,,,3.x,,camel-core,,,,,,,0,,,,,,"I wonder if we can use Java JShell as its intended for dynamic compile.

camel-k is adding support for jshell.
So when we go to Java 11 as minimum we can look into this. Or its a requirement for camel-csimple-jshell etc.

Created a ticket to not forget about this",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,48:24.0,,,,,,,,0|z0n1yg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Throttler EIP to support max inflight messages without time period,CAMEL-16099,13355134,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/28 9:47,2021/1/28 9:47,2021/3/6 6:30,,,,,,,3.x,,camel-core,eip,,,,,,0,,,,,,"The throttler EIP
https://camel.apache.org/components/latest/eips/throttle-eip.html

Is throttling based on a time window, eg max 100 messages per 10 seconds.
So if you have 99 messages in the 1st send, and 1 message in the 3d second, and then it would be idle for 7 seconds, before a new window open up.

Instead it would be good to throttle on ""concurrent requests"", eg inflight count.

So you can say max 10 inflight messsages (no time period).
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,47:17.0,,,,,,,,0|z0n2wg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Normalizing endpoints (remove the double slash rule),CAMEL-16100,13355135,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/28 9:52,2021/1/28 9:52,2021/3/6 6:30,,,,,,,Future,,camel-core,,,,,,,0,,,,,,"endpoint such as

seda:foo

become seda://foo when normalized as it aided to match up similar endpoints, such as http:apache.org vs http://apache.org, and file:foo vs file://foo

however the double slash is a bit annoying and today with some better algorithm we can likely remove this rule, and make endpoint as-is.

And have better logic to match that http:apache.org and http://apache.org would be the same etc.

However its rooted for soo long, so lets keep this in the backlog for v4 or some day in v3
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,52:41.0,,,,,,,,0|z0n2wo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AllowManualCommit does not ensure full control of the commit flows,CAMEL-16105,13355295,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lancerdima,lancerdima,2021/1/28 23:05,2021/1/29 5:33,2021/3/6 6:30,,3.7.1,,,,,,,camel-kafka,,,,,,,0,,,,,,"*Scenario*

My scenario implies handling business-critical data through Kafka, before writing it to the sink system. To ensure maximum possible delivery guarantee and control, I choose to use Kafka component with _allowManualCommit_ option, as per [documentation|https://camel.apache.org/components/latest/kafka-component.html#_using_manual_commit_with_kafka_consumer]. This is required to be absolutely sure that message is delivered to the sink system, before committing the state and move to the next item or batch of items.

*Problem*
 When I use _allowManualCommit_ option but do not (intentionally) include any steps to actually execute the commit, the Consumer Group offset is still being committed, when I restart integrations.
 The commit is executed due to triggering of _onPartitionsRevoked_ event handler in [KafkaConsumer.java, L473|https://github.com/apache/camel/blob/0dcbe44d35545a4fc29e5e7b0e9e687d564cbf28/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaConsumer.java#L473]. This happens due to graceful termination of the running container.
 * Line 485, initiates _commitOffset()_ method with _forceCommit_ parameter set to true;
 * Line 453 host a condition that executes offset persistence to custom offsetRepository when _allowManualCommit_ is disabled, and offsetRepository is specified - this condition is skipped, as in my scenario _allowManualCommit_ is enabled
 * Line 458 host an alternative condition to execute a commit when _forceCommit_ parameter is _true_, and it is indeed true, as the method is invoked by _onPartitionsRevoked_.

The hidden side-effect of the scenario is that offset is committed, despite being ordered. This might potentially lead to the loss of messages, as there is no guarantee that messages were processed successfully.

*Possible solution*
 * Execute _forceCommit_ section only when _allowManualCommit_ is disabled. In case of a manual commit, the developer should be in charge in all cases.

*Extra*
It must be also ensured that when custom offsetRepository is used, state is never persisted to both custom repository and standard consumer group. Currently that what happens when offsetRepository is paired with enabled _allowManualCommit_, through the above described scenario as well.

 

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,05:22.0,,,,,,,,0|z0n3w8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Move more from init to build phase,CAMEL-16113,13355446,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/29 14:20,2021/1/29 14:20,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"We should look at moving more from init to build phase where its applicable.

This helps optimize core to startup faster and also for aot compilation with graalvm or others where things can be done at build time.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,20:56.0,,,,,,,,0|z0n4ts:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
False positive validation forsome special SpringBoot properties,CAMEL-16116,13355472,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,apupier,apupier,2021/1/29 16:17,2021/2/1 10:15,2021/3/6 6:31,,3.7.1,,,,,3.x,,tooling,,,,,,,0,,,,,,"https://camel.apache.org/components/latest/servlet-component.html#_usage_with_spring_boot

calling  org.apache.camel.catalog.CamelCatalog.validateConfigurationProperty(""camel.component.servlet.mapping.context-path"")

there is the same result  with and without sertting the SpringBootRuntimeProvider on the catalog",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,49:51.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Feb 01 10:09:19 UTC 2021,,,,,,,,0|z0n4zk:,9.22337E+18,,,,,,,,,,,,,,,"29/Jan/21 16:49;davsclaus;This is only for validating camel options, not special spring boot options.

","30/Jan/21 14:45;davsclaus;This requires to enhance the camel-spring-boot project to parse those spring boot json files (spring-configuration-metadata.json) and find those ""extra"" options. And then we can save those in some new json files that the catalog tooling can use for additional validation.","01/Feb/21 10:09;apupier;{quote}This is only for validating camel options, not special spring boot options.{quote}

how to make the difference between a Camel option and a springboot option?


i think this is a bug. There is also a false-positive with camel-report-maven-plugin:

{noformat}
[WARNING] Configuration validation error at: (application.properties:21)

	camel.component.servlet.mapping.context-path=/example/*

	                                context-path    Unknown option


[WARNING] Configuration validation error: (0 = passed, 1 = invalid, 0 = incapable, 0 = unknown components, 0 = deprecated options)
{noformat}

As first iteration, a fix for the bug would be to ignore ""springboot properties"" (if there is a way to detect it).
As second iteration, an enhancement to validate also the springboot properties would be nice.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update vertx to version 4.x,CAMEL-16119,13355695,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jameshilliard,jameshilliard,2021/1/31 3:08,2021/2/25 13:31,2021/3/6 6:31,,3.7.1,,,,,3.9.0,,camel-vertx,camel-vertx-websocket,,,,,,0,,,,,,https://github.com/apache/camel/pull/4969,,,,,,,,,,,,,,,,,,,,,,,,CAMEL-16028,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,44:41.6,,,FALSE,,,,,Moderate,,,,,,,https://github.com/apache/camel/pull/4969,,,,,,,,,,9.22337E+18,,,Sat Feb 06 10:28:42 UTC 2021,,,,,,,,0|z0n6cw:,9.22337E+18,,,,,,,,,,,,,,,06/Feb/21 08:44;davsclaus;There is a 4.0.2. But keep the PR updating to latest vertx,06/Feb/21 10:28;jameshilliard;PR updated to 4.0.2.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-graphql - Optimize to prepare query / client on doInit,CAMEL-16121,13355735,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2021/1/31 15:07,2021/1/31 15:07,2021/3/6 6:31,,,,,,,3.x,,camel-graphql,,,,,,,0,,,,,,It uses a lazy in the getter. But we should initialize it in the doInit.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,07:25.0,,,,,,,,0|z0n6ls:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-graphql - Add support for query via body or header,CAMEL-16122,13355736,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/1/31 15:09,2021/1/31 15:09,2021/3/6 6:30,,,,,,,3.x,,camel-graphql,,,,,,,0,,,,,,"The query is only from the endpoint, but you most often want to use the message body instead.

Also for dynamic queries it can benefit to allow to specify the query via a header, and if not present then use the message body.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:07.0,,,,,,,,0|z0n6m0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-thrift - Is TMultiplexProtocol not supported,CAMEL-16133,13356347,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,weborld,weborld,2021/2/3 2:47,2021/2/7 13:04,2021/3/6 6:31,,3.7.0,,,,,3.x,,,,,,,,,0,,,,,,How can I use TMultiplexProtocol in camel-thrift component? It doesn't seem to support it,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,03:25.9,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 04 14:01:51 UTC 2021,,,,,,,,0|z0nadk:,9.22337E+18,,,,,,,,,,,,,,,"03/Feb/21 08:03;davsclaus;Can you explain more what you want, and can you find information from Apache Thrift about this protocol so we can better help",04/Feb/21 14:01;weborld;I need to use the component as the client to connect to a server. The server uses the [TMultiplexedProtocol|https://github.com/apache/thrift/blob/master/lib/java/src/org/apache/thrift/protocol/TMultiplexedProtocol.java]. The component has no place to set this protocol and specify the service name,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-smpp - Registered delivery flag on 1 of N segments of a long SMS,CAMEL-16134,13356405,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,memas.kal,memas.kal,2021/2/3 8:16,2021/2/3 8:57,2021/3/6 6:31,,,,,,,,,camel-smpp,,,,,,,0,,,,,,"When sending a long SMS with registered delivery receipt flag, which is split on multiple segments, each and every segment would be registered with this option.

This makes the SMSC send a DLR for every segment of the message and you have to make a bigger effort on keeping their state, so you can merge the final state of the long - SMS's DLR.

I would like to request an `{color:#000000}SmppConfiguration` option (i.e DlrOnLast) that would enable the DLR flag {color}{color:#000000}only on the last segment of the long SMS. {color}

{color:#000000}A possible work-around that should occur on the SubmitSm and SubmitMulti:{color}

 
{code:java}
// i.e on SmppSubmitSmCommand:70
SubmitSm[] submitSms = new SubmitSm[segments.length];
byte registeredDelivery = submitSms[0].getRegisteredDelivery();

for(int i = 0; i < segments.length; ++i) {
    SubmitSm submitSm = SmppUtils.copySubmitSm(template);
    submitSm.setShortMessage(segments[i]);
    if (this.config.getDlrOnLast()) {
        submitSm.setSmscDelReceiptNotRequested();
    }
    submitSms[i] = submitSm;
}
submitSms[segments.length - 1].setRegisteredDelivery(registeredDelivery);

return submitSms;
{code}
A possible better solution incorporating this would be to remove the DLR flag from the submit-sm template, at the first place.

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,16:34.0,,,,,,,,0|z0naqg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Add option to eagerly build routes during build phase,CAMEL-16140,13356668,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/4 6:51,2021/2/16 22:45,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"We should look at moving more to build phase, so we can get ready for build time optimization of routes as well.

Currently routes is setup at init phase, but we can start with adding an option the end user can turn on to do this at build time.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,51:13.0,,,,,,,,0|z0nccw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate failing mina tests on JDK >= 11,CAMEL-16141,13356690,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,gnodet,gnodet,gnodet,2021/2/4 8:13,2021/2/9 12:02,2021/3/6 6:30,,,,,,,3.9.0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,13:45.0,,,,,,,,0|z0nchs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add druid component,CAMEL-16143,13356756,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jbonofre,jbonofre,jbonofre,2021/2/4 13:00,2021/2/4 13:00,2021/3/6 6:30,,,,,,,,,camel-druid,,,,,,,0,,,,,,The idea is to be able to interact with Druid broker to execute SQL query.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,00:18.0,,,,,,,,0|z0ncwg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a camel-xchange-stream component,CAMEL-16144,13356761,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2021/2/4 13:34,2021/2/4 13:34,2021/3/6 6:30,,,,,,,3.9.0,,,,,,,,,0,,,,,,"for the moment we are using the binance stuff from xchange. They are providing also a stream-binance artifacts for streaming information. 

 

We could start with binance and maybe explore other API",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,34:01.0,,,,,,,,0|z0ncxk:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
@InvokeOnHeader - Add description so we can document the method,CAMEL-16147,13356910,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/5 5:55,2021/2/5 5:56,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"Add description attribute for documentation, which the tooling can grab and use for metadata generation, so we can store this information in the component json file, so we now know about those header keys and documentation. We can then generate this in the adoc doc files.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,55:58.0,,,,,,,,0|z0nduo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide m2e integration for camel-api-component-maven-plugin,CAMEL-16148,13356971,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,apupier,apupier,2021/2/5 8:01,2021/2/8 9:28,2021/3/6 6:31,,3.7.1,,,,,,,tooling,,,,,,,0,,,,,,it would avoid errors when creating a new API component in an Eclipse desktop workspace,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,43:54.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Feb 08 09:28:12 UTC 2021,,,,,,,,0|z0ne88:,9.22337E+18,,,,,,,,,,,,,,,06/Feb/21 08:43;davsclaus;What do you mean? ,"08/Feb/21 09:28;apupier;currently, when developing a Camel API component in Eclipse Desktop, there is an error message that the camel-api-component-maven-plugin is not supported. It woudl nice to have the plugin supported by m2e. it will avoid the errors and even be able to potentially generate code automatically.
To make the maven plugin compatible: https://wiki.eclipse.org/M2E_compatible_maven_plugins
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide m2e integration for camel-component-maven-plugin,CAMEL-16149,13356972,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,apupier,apupier,2021/2/5 8:02,2021/2/5 8:02,2021/3/6 6:31,,3.7.1,,,,,,,tooling,,,,,,,0,,,,,,it woudl avoid errors in workspace when creating a component in an Eclipse desktop workspace,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,02:04.0,,,,,,,,0|z0ne8g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
salesforce: Support composite's new collateSubrequests option,CAMEL-16157,13357161,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,jeremyross,jeremyross,2021/2/5 19:04,2021/2/5 19:04,2021/3/6 6:31,,,,,,,,,camel-salesforce,,,,,,,0,,,,,,"From the [docs|https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/requests_composite.htm]:
{quote}Controls whether the API collates unrelated subrequests to bulkify them ({{true}}) or not ({{false}}).

When subrequests are collated, the processing speed is faster, but the order of execution is not guaranteed (unless there is an explicit dependency between the subrequests).

If collation is disabled, then the subrequests are executed in the order in which they are received.

Subrequests that contain valid HTTP headers are not collated.

In API version 49.0 and later, the default value is {{true}}. In version 48.0, the default value is {{false}}.
Subrequests can be collated if they meet these conditions: * The HTTP methods are the same.
 * The API versions of the resources are the same.
 * The parents of the resources are {{/sobjects}} resources.
 * No more than five sObjects resources are present across a grouping of subrequests.{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,04:21.0,,,,,,,,0|z0nfe8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JDBC Based Aggregate EIP Repeat Process Msg,CAMEL-16158,13357232,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,LeoGuo,LeoGuo,2021/2/6 10:15,2021/2/24 9:15,2021/3/6 6:30,,3.7.0,,,,,,,camel-sql,,,,,,,0,,,,,,"Using JDBC based aggregate EIP, in cluster multiple applications shared the same database for aggregation repository, different application use different correlation key to store aggregated message, set completionTimeout to 10s as condition of completion.

There is randomly issue when reach the complete condition the aggregated message will be repeated process in multiple instances which means multiple applications will pick up aggregated message to process.

 

Below is setting for aggregator

completion-size: 500
 completion-timeout-ms: 10000
 recovery-maximum-redeliveries: 3
 recovery-interval-ms: 30000
 optimisticlock-maximum-retries: 3
 optimisticlock-maximum-retry-delay: 2000

 

Checked thread [Camel (camel-1) thread #1 - AggregateRecoverChecker] picked up msg and process repeatly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,15:50.0,,,,,,,,0|z0nfu0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - OnCompletion EIP - Only 1 allowed,CAMEL-16162,13357397,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/7 15:09,2021/2/7 15:09,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,eip,,,,,,0,,,,,,"When using onCompletion then there is a limitation that only 1 is effectively in use. 

So if you have 2 but they are mutative exclusive

onCompletion onComplete
onCompletion onFailure

Then we don't detect this and allow them to co-exist.

Also we should either look at allowing N+ on completions in a route, and also the above problem.

This ticket is as a reminder to look into this.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:56.0,,,,,,,,0|z0nguo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"camel-core - context.addComponent(name, instance) should auto start if needed",CAMEL-16169,13357596,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/8 17:54,2021/2/8 17:54,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"If you use getComponent then camel will create and auto start the component if needed. But if you use addComponent(name, instance) with an existing instance you have created manually then its not auto started.

We should likely make this consistent with getComponent.

Jeremy had a glitch with salesforce with out own test.
https://github.com/apache/camel/blob/03ec304bd09cc83adb92bffe2d1339a5dac411d1/components/camel-salesforce/camel-salesforce-component/src/test/java/org/apache/camel/component/salesforce/AbstractSalesforceTestBase.java#L47-L67

https://camel.zulipchat.com/#narrow/stream/257298-camel/topic/Problem.20with.20nightlies",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,54:37.0,,,,,,,,0|z0ni2w:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Resilience4j Bulkhead seems to not limit concurrent requests,CAMEL-16173,13357787,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sys-jdi,sys-jdi,2021/2/9 15:47,2021/2/9 16:18,2021/3/6 6:31,,3.7.1,3.7.2,,,,3.9.0,,,,,,,,,0,,,,,,"In an attempt to ensure proper error handling once a Camel route would reach its configured Resilience4j Bulkhead limit, it was experienced that regardless of Bulkhead configuration, the limit was never upheld. Seemingly the Bulkhead has no effect within the circuit breaker.

The context in which the bug was experienced:
Spring Boot 2.4.2, Apache Camel 3.7.1 (reproducer tested using 3.7.2 as well).

A reproducer Maven project can be found here: [sys-jdi/camel-bulkhead-test: Test of Resilience4J in Spring Boot application using Apache Camel.|https://github.com/sys-jdi/camel-bulkhead-test]
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,47:08.0,,,,,,,,0|z0nj9c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-zookeeper - Upgrade to latest 3.5.x,CAMEL-16174,13357788,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/9 15:49,2021/2/9 16:16,2021/3/6 6:30,,,,,,,3.9.0,,camel-zookeeper,,,,,,,0,,,,,,"There is a newer 3.5.x version.

Check with kafka what ZK version it uses, whether we can jump to ZK 3.6.x",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,51:10.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Feb 09 16:16:06 UTC 2021,,,,,,,,0|z0nj9k:,9.22337E+18,,,,,,,,,,,,,,,09/Feb/21 15:51;acosentino;Kafka 2.7.0 uses Zookeeper 3.5.8,09/Feb/21 16:16;davsclaus;Ah okay yeah there is a ZK 3.5.9 released,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel javascript routes loader,CAMEL-16175,13357794,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/9 16:26,2021/2/9 16:27,2021/3/6 6:30,,,,,,,3.9.0,,,,,,,,,0,,,,,,"With the pluggable routes loader in 3.8, we can port over more from camel-k.

Lets port over JS
And the others we can do too Kotlin, Groovy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,26:48.0,,,,,,,,0|z0njaw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel mail fails after some time running,CAMEL-16180,13357998,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,drezir,drezir,2021/2/10 18:52,2021/2/12 16:47,2021/3/6 6:31,,3.7.1,,,,,,,camel-mail,,,,,,,0,,,,,,"This error starts blocking mail producer from running. Time varies. If I restart an app it is working for a while (constantly fetching unread messages from IMAP in each 60 second) but when this error appears it is stuck:
{code:java}
2021-02-10 16:39:19.015 WARN 1 --- [p.seznam.cz:143] o.a.camel.component.mail.MailConsumer : Consumer Consumer[imap://imap.seznam.cz:143?delay=60000&password=xxxxxx&username=hiskom] failed polling endpoint: imap://imap.seznam.cz:143?delay=60000&password=xxxxxx&username=hiskom. Will try again at next poll. Caused by: [javax.mail.MessagingException - A814 NO SELECT: Internal server error.]
 javax.mail.MessagingException: A814 NO SELECT: Internal server error.
 at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1049) ~[jakarta.mail-1.6.5.jar!/:1.6.5]
 at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:977) ~[jakarta.mail-1.6.5.jar!/:1.6.5]
 at org.apache.camel.component.mail.MailConsumer.poll(MailConsumer.java:147) ~[camel-mail-3.7.1.jar!/:3.7.1]
 at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:190) ~[camel-support-3.7.1.jar!/:3.7.1]
 at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:107) ~[camel-support-3.7.1.jar!/:3.7.1]
 at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) ~[na:na]
 at java.base/java.util.concurrent.FutureTask.runAndReset(Unknown Source) ~[na:na]
 at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) ~[na:na]
 at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) ~[na:na]
 at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) ~[na:na]
 at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]
 Caused by: com.sun.mail.iap.CommandFailedException: A814 NO SELECT: Internal server error.
 at com.sun.mail.iap.Protocol.handleResult(Protocol.java:413) ~[jakarta.mail-1.6.5.jar!/:1.6.5]
 at com.sun.mail.imap.protocol.IMAPProtocol.select(IMAPProtocol.java:1230) ~[jakarta.mail-1.6.5.jar!/:1.6.5]
 at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1034) ~[jakarta.mail-1.6.5.jar!/:1.6.5]
 ... 10 common frames omitted{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,35:31.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 12 16:47:13 UTC 2021,,,,,,,,0|z0nkk8:,9.22337E+18,,,,,,,,,,,,,,,"11/Feb/21 16:35;davsclaus;This is an error on the mail server (not in Camel). So why it works after restart is likely because a new clean session is created and logged in to the mail server.

","12/Feb/21 16:47;davsclaus;Maybe camel-mail, can in the poll method, detect some severe errors when attempting to open the mail folder, and then invalidate the mail session, so a new fresh session is created on the next poll. And that can mitigate the problem.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-test - Deprecate junit 4.x test modules,CAMEL-16184,13358126,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/11 9:24,2021/2/11 9:24,2021/3/6 6:30,,,,,,,3.x,,tests,,,,,,,0,,,,,,We should deprecate the older junit 4.x based test modules.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,24:26.0,,,,,,,,0|z0nlco:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
aws s3: improve multipart support,CAMEL-16185,13358143,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,acosentino,lb,lb,2021/2/11 10:56,2021/2/11 11:05,2021/3/6 6:31,,,,,,,,,camel-aws-s3,camel-aws2,camel-aws2-s3,,,,,0,,,,,,"AWS S3 support multipart upload and as today we are using such functionality in the camel-aws3-s3 component to split a message body into chunks of a configurable size and upload them as parts to S3 but it would be nice to have more flexibility as example to be able to treat individual exchanges as chunks.

In fact it is about using S3 as a sort of aggregation repository.

As example, assuming we want to implement a workflow like:
- get records from a database
- filter and transform records
- aggregate records 
- send the result to s3

That would require to set-up a local aggregation repository which is ok but increase the resources required to run the integration as well as the moving parts. By leveraging multipart uploads from S3 we could avoid the local aggregation repository.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,56:04.0,,,,,,,,0|z0nlgg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-restdsl-openapi-plugin - generate operationId enumeration,CAMEL-16187,13358216,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,vlavasa,vlavasa,2021/2/11 18:40,2021/2/12 16:45,2021/3/6 6:31,,3.7.2,,,,,3.x,,tooling,,,,,,,0,,,,,,"Hi,

I discovered this great tool (camel-restdsl-openapi-plugin) two days ago.

It's almost perfect. I have only one suggestion for improvement:

 

Actually the plugin is generating ""controller"" like class with code similar to:
{code:java}
rest()
    .get(""/somepath"")
        .id(""operationIdFromOpenAPI"")
        .produces(""application/json"")
        .to(""direct:operationIdFromOpenAPI"");
{code}
And ""user"" can continue route with:
{code:java}
from(direct:operationIdFromOpenAPI)...
{code}
 

Problem:

The problem occurs during the change operationId in next version of OpenAPI definition. It have to be manually checked.


 

Improvement:

It would be very nice if the plugin generated an enum of operationIds from the OpenAPI definition. Something like: 
{code:java}
public enum ApiOperation {
  OPERATION_ID_1(""operationId1""),
  ANOTHER_OPERATION_ID(""anotherOperationId"");

  private final String value;

// ... constructor, toString...{code}
 

And route with:

{code:java}
...to(""direct:"" + ApiOperation.OPERATION_ID_1);
{code}
With best regards

Vladimir

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:44.0,,,,,,,,0|z0nlwg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-kudu - Use test containers for testing,CAMEL-16188,13358276,,Test,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/12 6:09,2021/2/12 6:09,2021/3/6 6:30,,,,,,,3.x,,camel-kudu,,,,,,,0,,,,,,"We use a binary download for testing
https://kudu.apache.org/docs/developing.html#_using_the_kudu_binary_test_jar

Instead we should use test containers. then it can run as linux and always work.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:19.0,,,,,,,,0|z0nm9s:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-nitrite: enhance component to work with non-default serializer,CAMEL-16191,13358340,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,jondruse,jondruse,jondruse,2021/2/12 11:55,2021/2/12 11:55,2021/3/6 6:30,,3.8.0,,,,,,,,,,,,,,0,,,,,,"It is possible to use nitrite with for example jackson serializerinstead of default java serialization. (See [https://github.com/nitrite/nitrite-java/blob/master/nitrite/src/main/java/org/dizitart/no2/mapper/JacksonMapper.java] and [https://github.com/nitrite/nitrite-java/issues/17#issuecomment-310963459])

 

It would be nice to enhance configuration of camel-nitrite to use different serializer.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,55:45.0,,,,,,,,0|z0nmo0:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CXF Attachment stay in file system after processing,CAMEL-16197,13358382,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,mash-sap,mash-sap,2021/2/12 17:29,2021/2/17 7:57,2021/3/6 6:31,,2.25.3,,,,,,,camel-cxf,,,,,,,0,,,,,,"Hi everyone,

 

we are using the camel CXF component and found that the cleanup of cached attachments is not working as expected. CXF will persist attachments to disk whenever they exceed a certain limit in size: [cxf source|https://github.com/apache/cxf/blob/3.2.x-fixes/core/src/main/java/org/apache/cxf/io/CachedOutputStream.java#L433] If the attachments are consumed within the route, i.e. when they are used to send a message, the files will be removed from the filesystem. In case they are not used at all, the files will stay in the filesystem. So the CXF component somehow assumes that the attachments are consumed within the route.

 

Example

We send a message that contains a attachment to a CXF endpoint. The attachment-size exceeds the size threshold and therefore will be persisted to disk. During message processing the attachment will not be used (the endpoint is oneway and attachments are not used within the route). After message processing, the file stays in the filesystem.

 

Reproduce with attached example project:
 # Start the Server.java test (starts the server taking the requests)
 # Start the Client.java (sends a request to the server)
 # Check the temp folder (printed in console by Client.java, in my case “C:\Users\me\AppData\Local\Temp\cxf-tmp-3330821712753099698)
 # Repeat executing Client.java and find for each run a new tmp-file

 

Due to this file leaks, the filesystem will be filled up over time.  

Best regards,

Manuel",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16/Feb/21 16:44;mash-sap;attachments.3.7.zip;https://issues.apache.org/jira/secure/attachment/13020525/attachments.3.7.zip,12/Feb/21 17:28;mash-sap;attachments.zip;https://issues.apache.org/jira/secure/attachment/13020410/attachments.zip,,,,2,,,,,,,,,,,,,,,,,,,,34:19.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 17 07:57:57 UTC 2021,,,,,,,,0|z0nmxc:,9.22337E+18,,,,,,,,,,,,,,,12/Feb/21 17:34;davsclaus;What version of Camel and CXF are you using?,"12/Feb/21 17:45;mash-sap;[~davsclaus], we are using following versions:

CXF: 3.2.11
 Camel: 2.25.3","12/Feb/21 18:02;davsclaus;Can you test with Camel 3.7.2 which is the latest release and see if you can reproduce anything there.

Camel 2.x is not active developed anymore, and we only fix criticial bugs or CVEs","15/Feb/21 15:34;mash-sap;Ok, I will give you an update soon.",16/Feb/21 16:45;mash-sap;I uploaded a new project using camel 3.7.2 to reproduce the problem. Please check this from your end.,"17/Feb/21 07:57;mash-sap;The provided scenario is CXF Inbound (one-way). I like to add, that this problem can also occur when attachments are received via CXF and the attachments are not used, i.e. doing a request with CXF and the response contains attachments.",,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-flatpack - Does not compile on JDK 16,CAMEL-16198,13358453,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,davsclaus,davsclaus,2021/2/13 7:19,2021/2/15 16:45,2021/3/6 6:30,,,,,,,3.x,,camel-flatpack,,,,,,,0,,,,,,"The CI server fails at
[INFO] Camel :: FlatPack .................................. FAILURE [  1.878 s]

I wonder if we could take a look and try with a JDK16 or 17 EA build and see why and try to fix it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,45:25.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Feb 15 16:45:25 UTC 2021,,,,,,,,0|z0nnd4:,9.22337E+18,,,,,,,,,,,,,,,"15/Feb/21 16:45;acosentino;Created this

https://github.com/Appendium/flatpack/issues/59",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-jfr - Save camel-recording in current dir by default,CAMEL-16201,13358479,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2021/2/13 14:09,2021/2/13 14:09,2021/3/6 6:31,,,,,,,3.9.0,,camel-jfr,,,,,,,0,,,,,,"We store in user.home, but lets store in the current dir where the app is started etc.

You can of course configure which dir to store. We may also consider allowing to configure the file name pattern.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,09:45.0,,,,,,,,0|z0nniw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-vertx-kafka - Optimize consumer with header filtering,CAMEL-16208,13358585,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/15 6:14,2021/2/15 6:14,2021/3/6 6:30,,,,,,,3.9.0,,camel-kafka,,,,,,,0,,,,,,This uses too much funky functional code that is slower and creates object overhead. A simple for loop would be quicker.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,14:04.0,,,,,,,,0|z0no6g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
aws kinesis: re-processing Kinesis records,CAMEL-16209,13358609,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,acosentino,lb,lb,2021/2/15 9:34,2021/2/25 9:54,2021/3/6 6:31,,,,,,,,,camel-aws,camel-aws2,,,,,,0,,,,,,"A user reported some issues with aws kinesis on SO: https://stackoverflow.com/questions/66177095/camel-application-re-processing-kinesis-records

I think the issues falls into two categories:
1. partitioning: some work is in progress on camel-k side, see: https://github.com/apache/camel-k/issues/1779 and commit 8cc227b65b0 on apache-camel
2. restart from an index: see https://issues.apache.org/jira/browse/CAMEL-15562",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,34:50.0,,,,,,,,0|z0nobs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build time route definition introspection API,CAMEL-16212,13358633,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,ppalaga,ppalaga,2021/2/15 10:59,2021/2/15 15:03,2021/3/6 6:30,,,,,,,3.x,,,,,,,,,0,,,,,,"We currently (mis)use the fact that current model classes have JAXB annotations to discover CSimple expressions in Camel Quarkus - see https://github.com/apache/camel-quarkus/blob/master/extensions/csimple/deployment/src/main/java/org/apache/camel/quarkus/component/csimple/deployment/CSimpleProcessor.java#L337-L347

[~davsclaus] mentioned recently that he would like to remove JAXB from Camel Core. It would be nice if Camel provided an API for route introspection at build time before JAXB is removed. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,59:33.0,,,,,,,,0|z0noh4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Kamelet - Add support for optional template parameters,CAMEL-16219,13358852,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2021/2/16 12:16,2021/3/5 14:11,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"Currently template parameters requires a value so either they are mandatory or has a default value.

But there can be some use-cases where you want an optional parameter, and if there is no value, then its not in use, eg in endpoint uris as part of query parameters (key=value) then if no value then dont include the key.

",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-16302,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Mar 05 14:11:18 UTC 2021,,,,,,,,0|z0npts:,9.22337E+18,,,,,,,,,,,,,,,"05/Mar/21 14:11;davsclaus;TODO: optional parameters in model
TODO: use {{?key} syntax
TODO: camel-kamelet test
TODO: update docs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rethink endpoints URI usage for camel internals,CAMEL-16221,13358877,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2021/2/16 14:33,2021/2/17 8:58,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,"As today URIs are the primary mechanism Camel uses internally to describe endpoints but I think it is time to re-consider the dependency on URIs for camel internals and leave the URIs as an external representation of endpoints

As example:

- the Endpoint DSL is required to generate the related endpoint URI to leverage Camel's APIs but to create an endpoint, the schema and a map of options, would be more than enough. 
- components that wrap other components, such as kamelets, master & co may need to re-create URIs to create instances of the delegated endpoints which is cumbersome as there's lot of options to take into account (RAW, url-encoding, placeholders)
- the YAML DSL and camel-kafka-connectors are using and Endpoint DSL alike syntax where a user can define endpoints by scheme + option pairs without the need of writing URIs.





",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,13:19.4,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 17 08:55:21 UTC 2021,,,,,,,,0|z0npzc:,9.22337E+18,,,,,,,,,,,,,,,16/Feb/21 14:40;lb;/cc [~davsclaus] [~gnodet],"16/Feb/21 15:13;davsclaus;10 years ago there was an attempt for a component/endpoint to be able to do something like that, but back then we didnt have any details like we have today from the camel-catalog, and its api where we can build uri from scheme + options.

So we are in a better situation today, where an Endpoint can be configured in more ways, but be able to unique identify itself as an uri.
With the generated configurer we are now also able to set those map parameters in a consistent and safe way on the endpoint. However we need to go via the component class as each component may do something special, but there is api for uri, Map of parameters so that is close to what we need.
We can then add a new (scheme, map) and then we should be able to create the endpoint and have it represent itself as uri.
","16/Feb/21 15:41;gnodet;Some endpoints also use the {{path}} inside the URI, so we'd need a reserved property for that.
We could use a simple map with {{scheme}} and {{path}} being reserved and let it opened for other properties.  A single map could have the benefit to be easily translated from json/yaml maybe.",16/Feb/21 16:17;lb;looks like an URI :),"16/Feb/21 16:36;davsclaus;Yeah the context path is build up of a set of parameters, eg those marked with @UriPath.
But surely we can add reserved keys.

And then there are components that has lenient parameters (eg like http clients).

And then there are some options that are multi-valued, where you in uri repeat the parameter with a prefix xxx.foo=123&xxx.bar=456, where the key name is xxx (multivalue = true).

","17/Feb/21 08:55;lb;[~gnodet] maybe we do not need to reserve a specific property for the path as example:

camel-http has http:httpUri as syntax
camel-infinispan has infinispan:cacheName

So in fact, we may only need to use such properties (and check that components are doing the right things)

[~davsclaus] we could think to have the EndpointUriFactory to be able to marshal and unmarshal endpoint uris, like:

{code:java}
String uri = EndpointUriFactory.buildUri(
    ""http"", Map.of(""httpUri"", ""/a/b/c"", ""foo"", ""bar""));
EndpointDefinition definition = EndpointUriFactory.parseUri(
    ""http://a/b/c?foo=bar"");
{code}

Maybe EndpointDefinition.toString() should then compute the uri",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Camel-google-storage Karaf feature,CAMEL-16223,13358993,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2021/2/17 6:26,2021/2/18 19:37,2021/3/6 6:30,,,,,,,3.9.0,,karaf,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,36:15.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Feb 18 19:37:59 UTC 2021,,,,,,,,0|z0nqp4:,9.22337E+18,,,,,,,,,,,,,,,"17/Feb/21 06:29;acosentino;[~rmarcello] feel free to work on this. You'll need to have look at https://github.com/apache/camel-karaf/

in particular at this file: [https://github.com/apache/camel-karaf/blob/master/platforms/karaf/features/src/main/resources/features.xml]

After adding the feature, under platforms/karaf/features just run mvn verify and check if it works.

Let me know if you intend to work on this, otherwise I'll go ahead.","17/Feb/21 07:36;rmarcello;Ok, I will try, I am new on this maybe I will need a bit more.","18/Feb/21 19:37;rmarcello;Hi, is there a way to securely and automatically provide the bundle list ? Can I read something somewhere?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation: Fix xref link in old branches,CAMEL-16228,13359054,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,acosentino,acosentino,2021/2/17 12:33,2021/2/17 21:33,2021/3/6 6:30,,,,,,,3.x,,documentation,website,,,,,,0,,,,,,"Currently in the .adoc of our documentation we are using (for example)

xref:components::kafka-component.adoc[KafkaIdempotentRepository]

This is ok for master branch and latest documentation.

The problem arises when we look at older active branch, all the link to components in 3.7.x for example are still pointi to latest. We need to change the docs in the following way 

xref:3.7.x@components::kafka-component.adoc[KafkaIdempotentRepository]

We need to do this for 3.8.x, 3.7.x and 3.4.x",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,52:56.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 17 21:33:29 UTC 2021,,,,,,,,0|z0nr2o:,9.22337E+18,,,,,,,,,,,,,,,17/Feb/21 13:27;acosentino;What do you think [~zregvart] ?,17/Feb/21 13:54;acosentino;I noticed this while removing aws components.,"17/Feb/21 14:52;zregvart;The only version that's fixed to {{latest}} is the user manual. 

We build against different versions of (Camel) components and sub-projects. From those we need to point to a specific (compatible) version. I think mostly we point from (Camel) components to (Camel) components and from sub-projects to (Camel) component documentation.

For {{xref}} within the same (Antora) component and module, we should use the shortest version, e.g. {{xref:path}} (as in this [section|https://docs.antora.org/antora/2.2/asciidoc/page-to-page-xref/#same-module]), this results in addressing the same (Antora) component and version.

For Camel, Spring Boot and Karaf, that are released at the same time as Camel, so the version is the same, I _think_ we can use the intrinsic attribute {{:page-component-version:}} (per Antora [documentation|https://docs.antora.org/antora/2.3/page/intrinsic-attributes/#page-attributes]), e.g. {{xref:\{page-component-version\}@components::....adoc}}.

For other sub projects (K, Kafka Connector, Quarkus), we need to manage separately the version of Camel is referenced there. I don't know of a per- (Antora) component Asciidoc attribute feature, so I don't think we can set an attribute like {{camel-version}} in (say) Camel K's documentation to (say) {{3.7.x}}, and have it maintained for across releases. So for this aspect of the problem I don't have a solution.

Either way, we would need to go through a large number of {{xref}} links across multiple branches we build and make sure that the version is parameterized. I remember doing scripts and some Java code around that when we first created the documentation, so something like that to automate the process would be needed.

[~djencks] your thoughts would be appreciated here.","17/Feb/21 18:15;djencks;I'm afraid I don't understand the problem yet.  A couple of specific examples would really help.

Meanwhile, some comments....

 
 * If Camel (core), Spring Boot and Karaf are released in lockstep, I wonder if it would be more appropriate to have them all parts of the same distributed component.  Basically, do you want the navigation tree to change when you go say from a camel component to the spring boot info about it?  I'd think it might possibly be nicer to have the links to spring boot and karaf pages nested under the link to the component page in the navigation.
 * If you need all the links from say camel-quarkus version X to refer to camel components version Y you can define an attribute in the camel-quarkus version X antora.yml:

```

asciidoctor:

  attributes:

    camel-components-version: Y

```

and use that in your xref: `href:\{camel-components-version}@components:languages:foo.adoc[]`","17/Feb/21 18:24;acosentino;The problem is in the user-manual. If you have any link to components/endpoints/eip in non-generated adocs, they won't follow the versioning, so if you are on a page of user-manual with a link to a component page, you'll have always a link to the latest version, no matters if you are looking at 3.7.x, 3.8.x or 3.4.x, you will arrive to latest anyway.","17/Feb/21 18:41;djencks;That doesn't make sense to me yet.  AFAICT there's only one published version of the user manual, so there's only one possible target for each xref, and it seems quite reasonable to me that the target should be the latest version, as naturally happens when you don't specify the version.  Perhaps a really specific example of one existing page with an actual link and explaining what you want the target to be would help.","17/Feb/21 19:22;zregvart;Thanks [~djencks] now I understand that we can set attributes per component in [antora.yml|https://docs.antora.org/antora/2.3/component-attributes/#hard-set], I was not aware of this until now. This will help when we point from sub-project to Camel documentation (other than the manual) of specific version.

There are a number of issues that we have with the root cause of poor version management, I'll try to enumerate the ones I know about:
* Release process doesn't account for changing the (Antora) component version, this would be a non-issue if we were not publishing LTS, last release and latest versions. We usually followup a release by changing the {{version}} in {{antora.yml}} and change the version in {{xref}} links (examples: [ccfcfcf6|https://github.com/apache/camel/commit/ccfcfcf6023aac038dd60d08071ec4f38a3b3a2e]. [af07b7f4|https://github.com/apache/camel-spring-boot/commit/af07b7f4ee312c4ee9e34077b760ac500b97f7fc], [baa6bf97|https://github.com/apache/camel-spring-boot/commit/baa6bf9798234e4fac6ccbc12746d5567f3829e3]). For this I think a proper solution is including a {{camel-version}} attribute in {{antora.yml}} and referencing that from {{xref}} links. Then we would need to change the {{version}} and {{camel-version}} in {{antora.yml}}.
* We forget to version links in the (Antora) ""components"" component, which end up pointing to the {{latest}} version (examples: [ae16cbd0|https://github.com/apache/camel/commit/ae16cbd0b86b1d90e4364f8f3de2dd8cffde8be0], [ae16cbd0|https://github.com/apache/camel/commit/ae16cbd0b86b1d90e4364f8f3de2dd8cffde8be0]. I think same solution should apply here, we add {{camel-version}} attribute.

I think a lot of our problems would go away if we go through all xrefs, and make sure that all xrefs that do not point to the user manual point to a version dictated by the attribute, for now I think we only need {{camel-version}}, we could also need {{camel-quarkus-version}} and similar if we end up pointing from ""components"" component to the Camel Quarkus documentation for example.

We could merge camel-spring-boot and camel-karaf into a distributed ""components"" component, but I would not tackle this for this issue.","17/Feb/21 20:06;djencks;In general a per component attribute is probably best, but the particular change you pointed to looks wrong to me. Eip is already in the components component, so I’d expect removing the component segment from the xref would be a better change.","17/Feb/21 21:33;djencks;I would like it if I could write an Asciidoctor extension to validate xrefs according to some rules, but I don't think it will be possible for a long time, until inline nodes are recognized during parsing and before conversion, so they can be examined by a tree processor.  I'll keep thinking about it however.",,,,,,,,,,,,,,,,,,,,,,,,,
Mocking Existing Endpoints Doc Not Updated,CAMEL-16229,13359087,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,sashok_bg,sashok_bg,2021/2/17 14:57,2021/2/17 15:02,2021/3/6 6:31,,3.7.2,,,,,3.9.0,,documentation,,,,,,,0,,,,,,"The following documentation on mocking and testing existing routes is not updated for camel v3:

[https://camel.apache.org/components/latest/mock-component.html#_mocking_existing_endpoints]

 
{code:java}
        AdviceWith.adviceWith(context.getRouteDefinitions().get(0), context, new AdviceWithRouteBuilder() {
            @Override
            public void configure() throws Exception {
                // mock all endpoints
                mockEndpoints();
            }
        });
{code}
 

We can see in the migration guide here that context.getRouteDefinitions no longer exists:

[https://camel.apache.org/manual/latest/camel-3-migration-guide.html]

New style:
{code}
AdviceWith.adviceWith(context, ""myRoute"", a -> {
  a.replaceFromWith(""direct:start"");
}
{code}


Also some extensive examples using Spring Boot and mocking will be greatly appreciated.

Best Regards,
Alexander

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,02:56.0,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 17 15:02:55 UTC 2021,,,,,,,,0|z0nra0:,9.22337E+18,,,,,,,,,,,,,,,"17/Feb/21 15:02;davsclaus;People is welcome to help with docs. You can just click the ""edit this page"" button and submit a PR",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholders not Working with CamelSpringBootTest and AdviceWith,CAMEL-16230,13359088,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,sashok_bg,sashok_bg,2021/2/17 15:03,2021/2/17 15:03,2021/3/6 6:30,,3.7.2,,,,,,,tests,,,,,,,0,,,,,,"Unable to use camel placeholders in a CamelSpringBootTest:

 This does not work:
{code}

        AdviceWith.adviceWith(camelContext, ""person-import"", route -> {
            route.replaceFromWith(""direct:csv"");
            route.mockEndpointsAndSkip(""{{camel.placeholder}}"");
        });

{code}

This does:
{code}
        AdviceWith.adviceWith(camelContext, ""person-import"", route -> {
            route.replaceFromWith(""direct:csv"");
            route.mockEndpointsAndSkip(""jpa:MyEntity"");
        });
{code}

My route is defined like so:

{code}
        from(""{{camel.person.csv.file}}"")
                .id(""person-import"")
                .unmarshal(bindy)
                .process(new CamelLogger())
                .to(""{{camel.placeholder}}"")
        ;

{code}

My placeholder is application.yaml of Spring Boot
{code}
camel:
  placeholder: ""jpa:MyEntity""
{code}

Please advise
Best Regards
Alex",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,03:01.0,,,,,,,,0|z0nra8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-main - Allow 3rd party components to offer configuration options,CAMEL-16234,13359372,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/18 16:17,2021/2/18 16:17,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,"Today we put stuff into camel-main for various things you can configure. Most of that are stuff that is in core.

But when we have components outside core, that are pluggable, then it would be great if they can provide their own configuration with them, and then have that as metadata and a configuration class (for java based configuration).

We need the maven tooling to generate those meta data file, and java based configuration fluent builders.

Then for java you can register the addon in main ala

main.configure(MyFooThingy.class)
   .someFooStuffHere(true)
   .someOtherFooish(123)
.end()

For example camel-saga, and the 3 circuit breakers are today hardcoded into camel-main.
Those can be candidates to try out with.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,17:17.0,,,,,,,,0|z0nt1c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-servlet-starter does not ServletComponent,CAMEL-16235,13359458,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,skuna,skuna,2021/2/18 21:42,2021/2/19 9:14,2021/3/6 6:31,,3.7.0,,,,,3.9.0,,camel-servlet,,,,,,,0,,,,,,"Below is my dependency configuration in build.gradle script of my project
{code:java}
ext {
    versions = [
        camel : ""3.5.0"",
        springBoot : ""2.3.0.RELEASE"",
    ]
}

dependencies {
    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: versions.springBoot    
    compile group: 'org.apache.camel.springboot', name: 'camel-servlet-starter', version: versions.camel    
    compile group: 'javax.inject', name: 'javax.inject', version: '1'    

    compile group: 'org.apache.camel', name: 'camel-core',          version: versions.camel
    compile group: 'org.apache.camel', name: 'camel-http',          version: versions.camel
    compile group: 'org.apache.camel', name: 'camel-jackson',       version: versions.camel
    compile group: 'org.apache.camel', name: 'camel-rest-openapi',  version: versions.camel
    compile group: 'org.apache.camel', name: 'camel-aws2-s3',       version: versions.camel    
    compile group: 'org.apache.camel', name: 'camel-swagger-java',  version: versions.camel    
}
{code}
 Below is a RouteBuilder class
{code:java}
public class MyRouteBuilder extends RouteBuilder {
    @Override
    public void configure() throws Exception {
        this.restConfiguration().bindingMode(RestBindingMode.json)
            .clientRequestValidation(true).apiProperty(""api.title"", ""MyAPI"") 
            .apiProperty(""api.version"", ""1.0"").apiProperty(""cors"", ""true"")
            .apiContextPath(""api-doc"");
    }
}{code}
 

When I start the Spring Boot application the camel-servlet-starter starts the ServletComponent and I can access the api-doc URL. But the same code fails when I upgrade the Camel version to 3.7.0.

This is what I discovered when I tried to understand why camel-servlet-starter starts in 3.5.0 and fails in 3.7.0

Below is the definition of Servlet Component Bean in org.apache.camel.component.servlet.springboot.ServletComponentAutoConfiguration class of camel-servlet-starter-3.5.x
{code:java}
@Lazy    
@Bean(name = ""servlet-component"")    
@ConditionalOnMissingBean(ServletComponent.class)    
public ServletComponent configureServletComponent() throws Exception {          
    ServletComponent component = new ServletComponent();        
    component.setCamelContext(camelContext);
}{code}
When Spring starts Camel routes, it asks RestApiEndpoint to create REST API Consumer and Spring initializes the Servlet Component by invoking ServletComponentAutoConfiguration.configureServletComponent(). 

This is changed in camel-servlet-starter-3.7.x
{code:java}
@Lazy 
@Bean 
public ComponentCustomizer configureServletComponent() { 
    return new ComponentCustomizer() { 
        @Override 
        public void configure(String name, Component target) {  
            CamelPropertiesHelper.copyProperties(camelContext, configuration, target); 
        } 

        @Override 
        public boolean isEnabled(String name, Component target) { 
            return HierarchicalPropertiesEvaluator.evaluate(applicationContext,   
                         ""camel.component.customizer"", 
                          ""camel.component.servlet.customizer"") 
                    && target instanceof ServletComponent; } 
        }; 
}{code}
Spring fails to start CamelContext with the below exception stack trace:
{noformat}
org.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null 
  at org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:122) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.InternalRouteStartupManager.doWarmUpRoutes(InternalRouteStartupManager.java:270) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:157) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:115) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:2889) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:2702) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2665) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.spring.boot.SpringBootCamelContext.doStart(SpringBootCamelContext.java:43) ~[camel-spring-boot-3.7.0.jar:3.7.0] 
  at org.apache.camel.support.service.BaseService.start(BaseService.java:115) ~[camel-api-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2431) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:130) ~[camel-spring-3.7.0.jar:3.7.0] 
  at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:167) ~[camel-spring-3.7.0.jar:3.7.0] 
  at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1] 
  at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1] 
  at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1] 
  at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1] 
  at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1] 
  at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1] 
  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1] 
  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0] 
  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.0.jar:2.4.0] 
  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.0.jar:2.4.0] 
  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.0.jar:2.4.0] 
  at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.0.jar:2.4.0] 
  at com.guidewire.surepath.document.management.box.DocumentManagementBoxApplication.main(DocumentManagementBoxApplication.java:16) ~[main/:na]
Caused by: java.lang.IllegalStateException: Cannot find RestApiConsumerFactory in Registry or as a Component to use 
  at org.apache.camel.component.rest.RestApiEndpoint.createConsumer(RestApiEndpoint.java:278) ~[camel-rest-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.DefaultRoute.addServices(DefaultRoute.java:575) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.DefaultRoute.onStartingServices(DefaultRoute.java:160) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.RouteService.doWarmUp(RouteService.java:150) ~[camel-base-engine-3.7.0.jar:3.7.0] 
  at org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:120) ~[camel-base-engine-3.7.0.jar:3.7.0]{noformat}
Spring starts CamelContext successfully if I register the servlet component in the RouteBuilder class

Below is a RouteBuilder class
{code:java}
public class MyRouteBuilder extends RouteBuilder {
    @Override
    public void configure() throws Exception {
        this.restConfiguration().bindingMode(RestBindingMode.json)
            .clientRequestValidation(true).apiProperty(""api.title"", ""MyAPI"") 
            .apiProperty(""api.version"", ""1.0"").apiProperty(""cors"", ""true"")
            .component(""servlet"")             
            .apiContextPath(""api-doc"");
    }
}{code}
 

Are developers mandated to register ServletComponent in the RouteBuilder class?

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,42:36.0,,,,,,,,0|z0ntkg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-website - Download macos should say its x86,CAMEL-16236,13359512,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2021/2/19 5:27,2021/2/19 5:27,2021/3/6 6:31,,,,,,,,,website,,,,,,,0,,,,,,"Apple now has x86 and silicon architectures so the binaries should mention which it uses.
https://camel.apache.org/download/

For example

MacOS 64bit binary

-->

MacOS (x86) 64bit binary
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,27:36.0,,,,,,,,0|z0ntwg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-http - Allow to easily set user-agent on component level,CAMEL-16237,13359550,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/19 9:04,2021/2/19 9:04,2021/3/6 6:30,,,,,,,3.x,,camel-http,,,,,,,0,,,,,,"The user agent of camel-http tells its java etc

""Apache-HttpClient/4.5.13 (Java/11.0.10)""

You may want to easily disable this or set a different information.

So we need an option on the component level to set this globally.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,04:03.0,,,,,,,,0|z0nu4w:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - Route templates and the ONiel problem,CAMEL-16242,13359809,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2021/2/20 17:26,2021/3/5 15:34,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"When you use route templates, and that would in fact also matter for property placeholders, and you use some placeholder that are in an expression with single quote, then you can have a problem with values that use quotes, such as a name John O'Niel.

Report at camel-k at
https://github.com/apache/camel-k-runtime/issues/632",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,26:14.0,,,,,,,,0|z0nvqg:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Catalog validation is reporting a false positive for specific properties of dataformats,CAMEL-16248,13360310,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,apupier,apupier,2021/2/23 10:32,2021/2/27 8:49,2021/3/6 6:30,,3.8.0,,,,,3.9.0,,tooling,,,,,,,0,,,,,,"{noformat}
camel.dataformat.fhirJson.enabled
{noformat}

is reporting an unknown property validation error although it is a valid setting.

See https://github.com/apache/camel-kafka-connector-examples/issues/292#issuecomment-784018926

Should it be added to the catalog? Or shoudl it be fixed in the validation algorithm?",,,,,,,,,,,,,,,,,,,,,,,,CAMEL-16249,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,49:20.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Feb 27 08:49:20 UTC 2021,,,,,,,,0|z0nyt4:,9.22337E+18,,,,,,,,,,,,,,,"27/Feb/21 08:49;davsclaus;This is because camel-catalog validation API is for normal Camel, not CKC.

CKC uses its special way of configuring properties. So this would require to add special support for CKC in the camel-catalog, or let ckc have it own catalog api for validation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel Catalog validation reports fals epositive for Camel Docker specific headers,CAMEL-16249,13360311,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,apupier,apupier,2021/2/23 10:35,2021/2/27 8:49,2021/3/6 6:30,,3.8.0,,,,,3.9.0,,tooling,,,,,,,0,,,,,,"{noformat}
camel.sink.endpoint.tag=latest 
{noformat}
or
{noformat}
camel.source.endpoint.containerId=<containerId>
{noformat}

reports unknown property valdiation error although they are valid

see https://github.com/apache/camel-kafka-connector-examples/issues/293#issuecomment-784022194

Should it be somethign to add in Catalog? or need to fiw the valdiation algorithm?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,49:01.0,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Feb 27 08:49:01 UTC 2021,,,,,,,,0|z0nytc:,9.22337E+18,,,,,,,,,,,,,,,"27/Feb/21 08:49;davsclaus;This is because camel-catalog validation API is for normal Camel, not CKC.

CKC uses its special way of configuring properties. So this would require to add special support for CKC in the camel-catalog, or let ckc have it own catalog api for validation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move Performance and jmh itests in a separated repository,CAMEL-16251,13360335,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2021/2/23 13:25,2021/2/23 13:25,2021/3/6 6:30,,,,,,,3.x,,,,,,,,,0,,,,,,"We did a great work looking at performance, allocation, GC etc

I think it makes sense to move all the jmh and performance test in a separated repository and also add there some projects to check the behavior of camel under load and by using JFR. 

We have already some work done by myself and [~lb] in k-runtime.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,25:48.0,,,,,,,,0|z0nyyo:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
https://github.com/apache/camel-examples/tree/master/examples/camel-example-spring-ws doesn't run,CAMEL-16256,13360631,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,mmn222,mmn222,2021/2/24 14:10,2021/2/26 9:26,2021/3/6 6:31,,3.8.0,,,,,3.9.0,,examples,,,,,,,1,,,,,,"Steps to reproduce:

 
 # Clone the github project
 # cd to camel-examples\examples\camel-example-spring-ws
 # execute mvn clean install
 # execute mvn jetty:run

Expected:

A WSDL is available at [http://localhost:8080/increment/increment.wsdl]

Actual:

error messages appear in console during execution.

at [http://localhost:8080/increment/increment.wsdl] the 503 error is shown

maven output:

https://paste.ubuntu.com/p/4NNYk24K7S/",Windows 10 with linux subsystem,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,09:57.1,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Feb 24 15:09:57 UTC 2021,,,,,,,,0|z0o0nc:,9.22337E+18,,,,,,,,,,,,,,,24/Feb/21 15:09;davsclaus;Help is welcome to fix the example,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-examples - Example of WebService using camel-soap,CAMEL-16257,13360660,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/24 15:30,2021/2/26 9:28,2021/3/6 6:30,,,,,,,,,examples,,,,,,,0,,,,,,"Users are looking for webservice examples without CXF.

We could use a light example that uses Camel's platform-http as HTTP server and then camel-soap to marshal to/from SOAP message.

The are different payload modes we can use with RAW or JAXB where the latter requires to build Java objects with annotations.

However this lacks the possibility to generate a wsdl file as contract. So this approach may work for contract first development.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,28:57.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Feb 26 09:28:57 UTC 2021,,,,,,,,0|z0o0ts:,9.22337E+18,,,,,,,,,,,,,,,"26/Feb/21 09:28;thefreakingmind;[~davsclaus]Hello, I am looking forward to contribute in Apache Camel. Can I pick this as my first Task??",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Karaf examples don't get deployed,CAMEL-16259,13360936,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,tadayosi,tadayosi,tadayosi,2021/2/25 11:19,2021/2/27 8:52,2021/3/6 6:31,,3.8.0,,,,,3.9.0,,examples,karaf,,,,,,0,,,,,,"[Karaf example jars|https://github.com/apache/camel-karaf-examples] should have OSGi-related metadata such as {{Import-Package}} but they don't. Using [bnd|https://bnd.bndtools.org/]:
{code:java}
$ bnd camel-example-servlet-rest-blueprint/target/camel-example-servlet-rest-blueprint-3.9.0-SNAPSHOT.jar 
Build-Jdk-Spec                          11
Created-By                              Maven Jar Plugin 3.2.0
Implementation-Title                    Camel :: Example :: Servlet :: OSGi
Implementation-Vendor                   The Apache Software Foundation
Implementation-Version                  3.9.0-SNAPSHOT
Manifest-Version                        1.0
Specification-Title                     Camel :: Example :: Servlet :: OSGi
Specification-Vendor                    The Apache Software Foundation
Specification-Version                   3.9
{code}
This causes the following deploy command on Karaf to fail:
{code:java}
install -s mvn:org.apache.camel.example/camel-example-servlet-rest-blueprint/${camel.version}
{code}
Checking Camel 2.x (which still worked):
{code:java}
$ bnd examples/camel-example-servlet-rest-blueprint/target/camel-example-servlet-rest-blueprint-2.25.0-SNAPSHOT.jar 
Bnd-LastModified                        1568357813343
Build-Jdk                               1.8.0_222
Built-By                                tasato
Bundle-Blueprint                        OSGI-INF/blueprint/camel.xml
Bundle-Description                      An example using Servlet REST with OSGi Blueprint
Bundle-DocURL                           https://www.apache.org/
Bundle-License                          https://www.apache.org/licenses/LICENSE-2.0.txt
Bundle-ManifestVersion                  2
Bundle-Name                             camel-example-servlet-rest-blueprint
Bundle-SymbolicName                     camel-example-servlet-rest-blueprint
Bundle-Vendor                           The Apache Software Foundation
Bundle-Version                          2.25.0.SNAPSHOT
Created-By                              Apache Maven Bundle Plugin
Export-Package                          org.apache.camel.example.rest;version=""2.25.0.SNAPSHOT""
Implementation-Title                    Camel :: Example :: Servlet REST Blueprint
Implementation-URL                      http://camel.apache.org/camel-parent/examples/camel-example-servlet-rest-blueprint
Implementation-Vendor                   The Apache Software Foundation
Implementation-Vendor-Id                org.apache.camel.example
Implementation-Version                  2.25.0-SNAPSHOT
Import-Package                          org.apache.camel.component.servlet.osgi;version=""[2.25,3)""
                                        org.apache.camel.component.servlet;version=""[2.25,3)""
                                        org.osgi.service.blueprint;version=""[1.0.0,2.0.0)""
                                        org.osgi.service.http
Import-Service                          org.osgi.service.http.HttpService;multiple:=false
Karaf-Info                              Camel;camel-example-servlet-rest-blueprint=2.25.0-SNAPSHOT
Manifest-Version                        1.0
Require-Capability                      osgi.ee;filter:=""(&(osgi.ee=JavaSE)(version=1.8))""
Specification-Title                     Camel :: Example :: Servlet REST Blueprint
Specification-Vendor                    The Apache Software Foundation
Specification-Version                   2.25.0-SNAPSHOT
Tool                                    Bnd-3.5.0.201709291849
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,47:28.7,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Feb 27 08:47:28 UTC 2021,,,,,,,,0|z0o214:,9.22337E+18,,,,,,,,,,,,,,,"27/Feb/21 08:47;davsclaus;You are welcome to work on this, its like to add that maven bundle plugin to pom.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-core - PooledExchange for PollingConsumer,CAMEL-16260,13360962,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/2/25 14:29,2021/2/25 14:29,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"We can potential in the EIP for pollEnrich also support exchange factory for reusing exchanges.

See thread on Camel dev
http://camel.465427.n5.nabble.com/HEADS-UP-Pooling-Exchange-on-the-way-td5910328.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,29:43.0,,,,,,,,0|z0o26w:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-google-pubsub - Consumer does not recover from 500 series error from Google,CAMEL-16263,13361032,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,anglind,anglind,2021/2/25 19:12,2021/3/4 15:38,2021/3/6 6:30,,3.8.0,,,,,3.9.0,,camel-google-pubsub,,,,,,,0,,,,,,"When the {{GooglePubsubConsumer}} receives a 500 series error from Google I expect it to catch that exception, log it and continue trying to pull messages from PubSub.

What is actually happening is when an error like that occurs, the {{SubscriberWrapper}} thread started by the {{GooglePubsubConsumer}} exits and never restarts. The application will pull no more messages from PubSub for the lifetime of the application.

The error is intermittent but can be reproduced using a simple route and waiting:
{code:java}
public class PubSubRoutes extends RouteBuilder {
    @Override
    public void configure() throws Exception {
        from(""google-pubsub://{{gcp.project.id}}:{{gcp.subscription.id}}?synchronousPull=true"")
                .log(LoggingLevel.INFO, ""MessageReceived! ${body}"");
    }
}
{code}
Sample project: [https://github.com/anglind/camel-pubsub-bug]

The error log:
{code:java}
16:58:36.394 [com.github.anglind.App.main()] INFO  o.a.c.c.g.p.GooglePubsubConsumer - Starting Google PubSub consumer for myproject/camel-test-topic-sub
16:58:36.450 [com.github.anglind.App.main()] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup summary (total:1 started:1)
16:58:36.451 [com.github.anglind.App.main()] INFO  o.a.c.i.engine.AbstractCamelContext - 	Started route1 (google-pubsub://myproject:camel-test-topic-sub)
16:58:36.452 [com.github.anglind.App.main()] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 3.8.0 (camel-1) started in 308ms (build:42ms init:204ms start:62ms)
16:59:04.044 [Camel (camel-1) thread #0 - GooglePubsubConsumer[camel-test-topic-sub]] INFO  route1 - MessageReceived! This is a message I published
18:23:12.719 [Camel (camel-1) thread #0 - GooglePubsubConsumer[camel-test-topic-sub]] ERROR o.a.c.c.g.p.GooglePubsubConsumer - Failure getting messages from PubSub
com.google.api.gax.rpc.DeadlineExceededException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 23.965861200s. [buffered_nanos=7490862100, buffered_nanos=65424900, remote_addr=pubsub.googleapis.com/74.125.193.95:443]
	at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:51)
	at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)
	at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)
	at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)
	at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)
	at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983)
	at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771)
	at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)
	at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)
	at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:464)
	at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:428)
	at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:461)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed
		at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)
		at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)
		at org.apache.camel.component.google.pubsub.GooglePubsubConsumer$SubscriberWrapper.synchronousPull(GooglePubsubConsumer.java:152)
		at org.apache.camel.component.google.pubsub.GooglePubsubConsumer$SubscriberWrapper.run(GooglePubsubConsumer.java:113)
		at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
		at java.util.concurrent.FutureTask.run(FutureTask.java:266)
		... 3 common frames omitted
Caused by: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 23.965861200s. [buffered_nanos=7490862100, buffered_nanos=65424900, remote_addr=pubsub.googleapis.com/74.125.193.95:443]
	at io.grpc.Status.asRuntimeException(Status.java:533)
	... 17 common frames omitted

{code}
I think the component should catch and continue pulling for all the 500 series error codes listed on this page: https://cloud.google.com/pubsub/docs/reference/error-codes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,05:24.0,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,Thu Mar 04 15:38:20 UTC 2021,,,,,,,,0|z0o2mg:,9.22337E+18,,,,,,,,,,,,,,,02/Mar/21 09:05;davsclaus;Thanks for reporting. You are welcome to dive into the source code and try to fix this and submit a PR,"04/Mar/21 09:06;chardahe@redhat.com;Hi [~anglind], Are you trying to fix? I'll be happy to contribute to this fix","04/Mar/21 09:54;anglind;Hey [~chardahe@redhat.com], if you want to have a go at a fix then absolutely work away.

I'm not sure when I would be able to get to this. Thanks in advance!","04/Mar/21 15:38;chardahe@redhat.com;[~anglind], Thanks!!, I'll work on it, however I have one issue,  I don't have Cloud _Pub/Sub_ to reproduce and fix this issue, [~davsclaus] do we have any test setup at our labs?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-ftp - Allow to configure KEX (key exchange protocol) in SFTP,CAMEL-16266,13361104,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,davsclaus,davsclaus,2021/2/26 5:51,2021/2/26 5:51,2021/3/6 6:31,,,,,,,3.x,,camel-ftp,,,,,,,0,help-wanted,,,,,"Seen on SO
https://stackoverflow.com/questions/66242161/key-exchange-protocol-in-camel-ftp?noredirect=1#comment117168689_66242161

eg something like

JSch.setConfig(""kex"", ""diffie-hellman-group1-sha1"");

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Novice,,,,,,,,,,,,,,,,,9.22337E+18,,,51:24.0,,,,,,,,0|z0o32g:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-http - Optimize its protocol header filter strategy,CAMEL-16269,13361380,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2021/2/27 17:59,2021/2/27 18:09,2021/3/6 6:30,,,,,,,3.9.0,,camel-http,,,,,,,0,,,,,,"When mapping response http headers, then there is a filter strategy with 47 known keys to skip. This is inefficient to loop the same 47 keys every time and match against lower casing incoming http keys.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Sat Feb 27 18:09:26 UTC 2021,,,,,,,,0|z0o4rs:,9.22337E+18,,,,,,,,,,,,,,,27/Feb/21 18:09;davsclaus;https://issues.apache.org/jira/browse/CAMEL-8774 added this filter which is a bit slow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-google-* cloud components: Make the serviceAccountKey explicitly configurable,CAMEL-16273,13361535,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2021/3/1 7:59,2021/3/1 7:59,2021/3/6 6:30,,,,,,,3.9.0,,,,,,,,,0,,,,,,"Only google-storage provide this option, the others need to have an environment variable set, as google cloud client support by default",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,59:52.0,,,,,,,,0|z0o5q8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use azure-sdk-bom instead of individual azure artifact versions,CAMEL-16278,13361638,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,omarsmak,ppalaga,ppalaga,2021/3/1 15:25,2021/3/2 9:33,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,azure-sdk-bom used to be out of date but now based on https://github.com/Azure/azure-sdk-for-java/issues/18759 and https://twitter.com/JonathanGiles/status/1364993212956385281 there is some hope for regular releases of the BOM. ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,28:11.2,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Tue Mar 02 09:33:15 UTC 2021,,,,,,,,0|z0o6d4:,9.22337E+18,,,,,,,,,,,,,,,01/Mar/21 15:28;acosentino;I'm a bit worried about the Karaf side for this. ,01/Mar/21 15:30;ppalaga;We do the same thing in Camel Quarkus https://github.com/apache/camel-quarkus/pull/2297,"01/Mar/21 15:32;ppalaga;bq. I'm a bit worried about the Karaf side for this. 

I am a Karaf noob. Could you please explain what can go wrong there?","01/Mar/21 15:33;omarsmak;This is really good, I was really annoyed by all these dependencies for Azure and I foresee we will be adding more Azure components to Camel. I will look at this during this week. Thanks Peter for raising this!","01/Mar/21 15:37;acosentino;Basically the problem is the following: If we update to a newer azure BOM version and we don't have the related Karaf bundles for the artifacts used by Camel and used in Karaf features, we won't be able to be aligned to the Azure versions used in Camel. The bundle releases are done by hands in the servicemix bundles repository, usually once a month.

So there could be a misalignment. Using single property version for single managed artifacts, we can workaround the problem.

I see two solutions:
 * Remove the Karaf features for Azure
 * Leave Karaf features behind the version used in BOM if we won't be able to release the azure bundles

[~cibsen@e-ma.net] what do you think about this?","01/Mar/21 15:46;jbonofre;What about embedded as private package ? We would not need the bundles in that case, just a pom profile to create the ""uber"" bundle. I can prepare an example to illustrate this. Thoughts ?","02/Mar/21 07:43;davsclaus;I think karaf cannot hold back progress in the Camel projects.

It would of course be nice if the azure BOM was using the same version for all its azure releases, eg 1.10.2 in BOM version would be 1.10.2 in the various azure JARs.
But that is not the case.
","02/Mar/21 07:46;acosentino;+1 then. If there is no workaround we'll leave karaf behind or remove the features.

[~jbonofre] any solution not based on bundles is welcome.","02/Mar/21 09:22;jbonofre;I don't see any issue using a BoM, even in Karaf features.

I propose:
 # To move forward on Camel ""core"" using a BoM
 # Once it's done, I will update Camel Karaf","02/Mar/21 09:26;acosentino;The point is just that the timing is a bit different. If bundles in the bom are not ready when camel release need to be done, we won't be able to align. I'm ok with using the BOM, but if Karaf will be behind in this alignment, we cannot wait.","02/Mar/21 09:29;jbonofre;My point is to not use bundles at all. Instead of using bundles, we will embed packages in the camel azure components directly.","02/Mar/21 09:33;jbonofre;Basically, my idea is to use the same approach as in Karaf Decanter: the collectors/appenders embed the packages (as private package) avoiding any ""external"" bundles:

[https://github.com/apache/karaf-decanter/blob/master/appender/s3/pom.xml#L113]

I already proposed couple of months ago to use this approach in Camel Components (for instance, to avoid to ""pollute"" the original artifact, I can add a classifier ""-bundle"").

Let me illustrate that in a PR for camel-azure components.

 ",,,,,,,,,,,,,,,,,,,,,,
camel-core - Optimize routing engine to reuse internal state objects for GC reduction,CAMEL-16279,13361646,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,davsclaus,davsclaus,davsclaus,2021/3/1 16:24,2021/3/1 19:42,2021/3/6 6:30,,,,,,,3.9.0,,camel-core,,,,,,,0,,,,,,"If we use pooled exchanges, then we can try to experiment with storing the nessasary internal objects used during routing on the exchange (in some new place) so the routing engine can reuse these objects without cause object allocations.

This makes memory usage more stable and reduces the GC.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,01/Mar/21 16:25;davsclaus;Screenshot 2021-03-01 at 17.24.47.png;https://issues.apache.org/jira/secure/attachment/13021397/Screenshot+2021-03-01+at+17.24.47.png,,,,,1,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Mon Mar 01 19:42:31 UTC 2021,,,,,,,,0|z0o6ew:,9.22337E+18,,,,,,,,,,,,,,,"01/Mar/21 16:26;davsclaus;Did a little basic example (all internal components) with timer 1000 msg/sec doing 10 steps to log:off. About 90% is objects from internal routing engine.

","01/Mar/21 16:28;davsclaus;Do you want to trade a little bit cpu overhead with a pool for take/release and keep memory more constant, vs use less cpu but allocate more memory that needs GC

I think about storing X objects on the PooledExchange with some indexing that the internal routing engine can use to access by index its ""own instance"" so they are threadsafe and we dont need the object allocations but that model works best for a more ""static"" route path

but would be kinda cool so you can warmup the route paths, and know how many you need and then be ""ready"" for incoming traffic","01/Mar/21 19:42;davsclaus;An idea is also to make redelivery error handler create 2 objects on doBuild for simple vs redelivery task to use, and then avoid creating a new task per exchange, but reuse the current this, and make the exchange take either the simple or redelivery path (requires to separate their code by prefixing their method names per path)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-aws2-sqs should use pagination for deciding which aws sqs queues it should create,CAMEL-16287,13361840,,Bug,Reopened,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,gyorgy.abraham.dpc,gyorgy.abraham.dpc,2021/3/2 11:33,2021/3/3 8:11,2021/3/6 6:30,,2.25.3,3.8.0,,,,3.7.3,3.9.0,,,,,,,,0,,,,,,"There is an auto create queue feature for aws-sqs in camel-sqs component. Upon camel context creation / route building, it issues an API call to list all sqs queues, so it skips the creation for already existing ones. If camel context has a for example consumer route for an sqs queue that is not listed in the response of this API call, camel will try to to create it.

However, this API only lists the first 1000 queues in the current account. If there are more then 1000 queues, camel-sqs will try to create a new one, and might fail. In our company's account, we have 1442 queues in our account and Camel tried to create a .fifo queue because it thought it wasnt already existing, resulting in application startup error.

Relevant code: [https://github.com/apache/camel/blob/master/components/camel-aws2-sqs/src/main/java/org/apache/camel/component/aws2/sqs/Sqs2Endpoint.java#L174]

Relevant API docs at AWS: [https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sqs/AmazonSQS.html#listQueues-com.amazonaws.services.sqs.model.ListQueuesRequest-]

Solution is straightforward: use pagination and load all queues.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,53:10.6,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Wed Mar 03 08:11:05 UTC 2021,,,,,,,,0|z0o7m0:,9.22337E+18,,,,,,,,,,,,,,,"02/Mar/21 11:53;acosentino;It's not clear if you are using camel-aws-sqs or aws2-sqs. From the description it seems version 2, from the title it seems version 1. By the way camel-aws-sqs has been removed and in 3.9.0 there will be only aws2-sqs, so I'll apply the logic to it.",02/Mar/21 11:55;gyorgy.abraham.dpc;Sorry for the confusion. It should be aws2-sqs.,"02/Mar/21 12:12;acosentino;Ok, sounds good, thanks for the clarification.","02/Mar/21 17:04;davsclaus;Are you able to work on a fix. And what happens if there are a lot of queus, will this slow down? Maybe you want to turn this off, because the queue already exsits (eg you dont want Camel to auto create queues as its some devops/admin job to do) ","02/Mar/21 17:24;acosentino;We already have other issues related to pagination. The autocreate queue option is true by default, but for historical reasons. 

I don't think introducing pagination is a good idea, because it means calling multiple time the API for listQueue with next token. So it will slow down the startup.

My suggestion is to set the autocreateQueue to false.

We can also switch all the autocreation features of AWS2-* components to false by default [~davsclaus]",02/Mar/21 17:24;acosentino;We can close this as information provided.,"03/Mar/21 08:02;gyorgy.abraham.dpc;I am pretty sad that you keep the functionality faulty. Anyways better to have auto create set to false, as you wrote.

And I think the documentation should clearly state that if you enable it, and have 1000+ queues, there is this limitation.

You might consider setting auto create default false and fix the behavior when the user enables it, because in most cases you still have to do 1 api calls, you only have to do multiple calls if your environment contains more queues than 1000.

How about we provide a fix, could you accept it?","03/Mar/21 08:09;acosentino;I was thinking about it a bit deeper: yes, setting it as false by default and then doing pagination is maybe acceptable in terms of startup performance. I'll work on this approach. If you have time to provide a PR, I'll gladly review it and merge it. If you don't have time, I'll take care of it. Let me re-open this.","03/Mar/21 08:11;acosentino;You're right, the information provided wasn't complete and the behavior would be faulty anyway. So thanks for starting the discussion again.",,,,,,,,,,,,,,,,,,,,,,,,,
camel-tracing - Add vertx-kafka as decorator,CAMEL-16289,13361907,,Improvement,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/3/2 16:25,2021/3/2 16:25,2021/3/6 6:30,,,,,,,3.x,,,,,,,,,0,,,,,,"The camel-tracing module has decorators. One for kafka, but we need one for vertx-kafka.
They may have the same header keys so its mostly a copy/paste. But check with the source code what the keys are named in camel-vertx-kafka.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,25:17.0,,,,,,,,0|z0o80o:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
camel-main-yaml - Yaml configuration loader,CAMEL-16290,13361919,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,davsclaus,davsclaus,2021/3/2 17:01,2021/3/2 17:01,2021/3/6 6:30,,,,,,,3.x,,camel-main,,,,,,,0,,,,,,"When using camel-main as standalone then we only have support for loading .properties file for configuration.

Some users are on the yaml wagon, so we could consider adding a new camel-main-yaml module that adds support for loading configuration from yaml and comes out of the box with the yaml dsl too. 

We can then make some kind of Main class for yaml that can startup Camel and load application.yaml as configuration and load routes .yaml files as routes. Then you can run Camel standalone in this yaml world.

And then this can be a way for also running Kamelets standalone by having camel-kamelet included and being able to load kamelets yaml spec files.

Yes they are intended for k8s but it may be okay to try to develop and play with kamelets without an entire k8s platform.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,01:26.0,,,,,,,,0|z0o83c:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Camel-AWS2-Components: Autocreation of entities should be false by default,CAMEL-16293,13362062,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,acosentino,acosentino,acosentino,2021/3/3 9:46,2021/3/3 9:46,2021/3/6 6:30,,,,,,,3.9.0,,camel-aws2,,,,,,,0,,,,,,Where we have autocreation the default value should be false,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,46:07.0,,,,,,,,0|z0o8z4:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test infra: allow greater service configuration,CAMEL-16299,13362148,,Task,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,orpiske,orpiske,orpiske,2021/3/3 16:49,2021/3/3 16:49,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,"In some cases, it would be good for the client code to fine tune the service configuration. Currently, this is one on a per service basis, but a more elegant solution would be desirable.

 

One idea would be to allow the services to be customized using something like:

 

 
{code:java}
MyServiceFactory
.withCustomConfig(<here we pass a configuration object>)
.createService();

{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,49:26.0,,,,,,,,0|z0o9i8:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide a camel-jctools component,CAMEL-16304,13362308,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,lb,lb,2021/3/4 13:39,2021/3/4 13:39,2021/3/6 6:31,,,,,,,3.x,,,,,,,,,0,,,,,,We should think about providing a seda like component based on [JCTools|https://github.com/JCTools/JCTools],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,39:13.0,,,,,,,,0|z0oahs:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Correlate by property in SJMS component,CAMEL-16306,13362395,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,skin27,skin27,2021/3/4 19:13,2021/3/5 15:33,2021/3/6 6:31,,3.7.2,,,,,3.x,,camel-sjms,,,,,,,0,,,,,,"In the current SJMS implementation the docs says:

 

""Currently the only correlation strategy is to use the {{JMSCorrelationId}}.""

 

I would like to correlate by property just as the JMS component has (*correlationProperty* ). or by JMSMessageId (*UseJMSMessageIDAsCorrelationId*).

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,33:35.5,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Mar 05 15:33:35 UTC 2021,,,,,,,,0|z0ob14:,9.22337E+18,,,,,,,,,,,,,,,"05/Mar/21 15:33;davsclaus;There is a bit of work to support such kind, especially the latter as you only know the actual JMSMessageID after the message is sent. 
The former is easier.

See the jms component and you can copy over its code to camel-sjms where it needs to be. 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
azure-storage-datalake:...?operation=getFile appends newline to the file content,CAMEL-16307,13362407,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,ppalaga,ppalaga,ppalaga,2021/3/4 20:30,2021/3/5 21:15,2021/3/6 6:30,,,,,,,,,,,,,,,,0,,,,,,"Originally found in Camel Quarkus https://github.com/apache/camel-quarkus/issues/2302

After asking about this on https://github.com/Azure/azure-sdk-for-java/issues/19612 it seems to be a feature rather than a bug. We are using DataLakeFileClient.openQueryInputStream() for something it was not designed for. Although there are other endpoints in the API that would allow to get the file without the newline appended, DataLakeFileClient.openQueryInputStream() seems to be the only one returning an InputStream. The others work with an OutputStream, etc. and so they'd require storing the whole file in memory or on disk, which would ineffective for us. 

I am going to solve it via a custom InputStream that filters the last newline out.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,30:08.0,,,,,,,,0|z0ob3s:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"The Rest Openapi schema generator has a typo; ""sting"" instead of ""string""",CAMEL-16309,13362667,,Bug,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Major,,,lreading,lreading,2021/3/5 18:01,2021/3/5 20:50,2021/3/6 6:30,,3.7.0,3.7.1,3.7.2,3.7.3,3.8.0,,,camel-openapi-java,,,,,,,0,,,,,,"The RestOpenApiReader has a typo such that it generates an incorrect schema:

[https://github.com/apache/camel/blob/3382b4dd6de52024b15efdb081e3f386af1b52f2/components/camel-openapi-java/src/main/java/org/apache/camel/openapi/RestOpenApiReader.java#L124|https://github.com/apache/camel/blob/3382b4dd6de52024b15efdb081e3f386af1b52f2/components/camel-openapi-java/src/main/java/org/apache/camel/openapi/RestOpenApiReader.java#L1243]

reads:
{code:java}
prop.type = ""sting"";{code}
 

This should read:
{code:java}
prop.type = ""string"";{code}
 

This causes it to generate a schema like:
{noformat}
	""responses"": {
		""200"": {
			""content"": {
				""text/plain"": {
					""schema"": {
						""format"": ""string"",
						""type"": ""sting""
					}
				}
			},
			""description"": ""Returns status code 200 when the report is returned""
		{noformat}
Which run used to generate a client creates code that looks for a ""Sting"" type which does not exist

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,50:29.3,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,Fri Mar 05 20:50:29 UTC 2021,,,,,,,,0|z0ocpc:,9.22337E+18,,,,,,,,,,,,,,,"05/Mar/21 20:50;Mahas_M;Hi, I am Mahas Milhar from University of Jaffna department of computer Science, Sri Lanka. I want to work with this project for Gsoc 2021 please help me to start this project 
Thank you ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow to configure type of MessageListenerContainer in camel-spring-rabbitmq,CAMEL-16310,13362710,,New Feature,Open,CAMEL,Camel,software,acosentino,"Apache Camel is an extremely powerful declarative Java based, type-safe <a href=""http://camel.apache.org/dsl.html"">Domain Specific Language</a> POJO broker, which uses <a href=""http://camel.apache.org/enterprise-integration-patterns.html"">Enterprise Integration Patterns</a> as its foundation for integration.",http://camel.apache.org/,Minor,,,kinae,kinae,2021/3/5 21:40,2021/3/5 21:50,2021/3/6 6:31,,,,,,,,,camel-rabbitmq,,,,,,,0,feature,,,,,"Allow to use a different container than the default DirectMessageListenerContainer 
It will allow us to configure more properties (number of consumers, max consumers, ...)

[https://docs.spring.io/spring-amqp/reference/html/#choose-container]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,FALSE,,,,,Unknown,,,,,,,,,,,,,,,,,9.22337E+18,,,40:11.0,,,,,,,,0|z0ocyw:,9.22337E+18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
